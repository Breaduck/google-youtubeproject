(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function o(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function s(r){if(r.ep)return;r.ep=!0;const d=o(r);fetch(r.href,d)}})();var Fc={exports:{}},Is={};var zp;function Yv(){if(zp)return Is;zp=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(s,r,d){var f=null;if(d!==void 0&&(f=""+d),r.key!==void 0&&(f=""+r.key),"key"in r){d={};for(var g in r)g!=="key"&&(d[g]=r[g])}else d=r;return r=d.ref,{$$typeof:i,type:s,key:f,ref:r!==void 0?r:null,props:d}}return Is.Fragment=n,Is.jsx=o,Is.jsxs=o,Is}var Bp;function Kv(){return Bp||(Bp=1,Fc.exports=Yv()),Fc.exports}var S=Kv(),Jc={exports:{}},ge={};var Op;function Xv(){if(Op)return ge;Op=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),_=Symbol.iterator;function N(w){return w===null||typeof w!="object"?null:(w=_&&w[_]||w["@@iterator"],typeof w=="function"?w:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,H={};function Y(w,J,ee){this.props=w,this.context=J,this.refs=H,this.updater=ee||U}Y.prototype.isReactComponent={},Y.prototype.setState=function(w,J){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,J,"setState")},Y.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function j(){}j.prototype=Y.prototype;function X(w,J,ee){this.props=w,this.context=J,this.refs=H,this.updater=ee||U}var $=X.prototype=new j;$.constructor=X,V($,Y.prototype),$.isPureReactComponent=!0;var O=Array.isArray;function te(){}var W={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function oe(w,J,ee){var le=ee.ref;return{$$typeof:i,type:w,key:J,ref:le!==void 0?le:null,props:ee}}function he(w,J){return oe(w.type,J,w.props)}function Ie(w){return typeof w=="object"&&w!==null&&w.$$typeof===i}function Me(w){var J={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(ee){return J[ee]})}var Qe=/\/+/g;function Ve(w,J){return typeof w=="object"&&w!==null&&w.key!=null?Me(""+w.key):J.toString(36)}function De(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(te,te):(w.status="pending",w.then(function(J){w.status==="pending"&&(w.status="fulfilled",w.value=J)},function(J){w.status==="pending"&&(w.status="rejected",w.reason=J)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function q(w,J,ee,le,me){var ye=typeof w;(ye==="undefined"||ye==="boolean")&&(w=null);var Ue=!1;if(w===null)Ue=!0;else switch(ye){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(w.$$typeof){case i:case n:Ue=!0;break;case y:return Ue=w._init,q(Ue(w._payload),J,ee,le,me)}}if(Ue)return me=me(w),Ue=le===""?"."+Ve(w,0):le,O(me)?(ee="",Ue!=null&&(ee=Ue.replace(Qe,"$&/")+"/"),q(me,J,ee,"",function(ct){return ct})):me!=null&&(Ie(me)&&(me=he(me,ee+(me.key==null||w&&w.key===me.key?"":(""+me.key).replace(Qe,"$&/")+"/")+Ue)),J.push(me)),1;Ue=0;var ot=le===""?".":le+":";if(O(w))for(var Ye=0;Ye<w.length;Ye++)le=w[Ye],ye=ot+Ve(le,Ye),Ue+=q(le,J,ee,ye,me);else if(Ye=N(w),typeof Ye=="function")for(w=Ye.call(w),Ye=0;!(le=w.next()).done;)le=le.value,ye=ot+Ve(le,Ye++),Ue+=q(le,J,ee,ye,me);else if(ye==="object"){if(typeof w.then=="function")return q(De(w),J,ee,le,me);throw J=String(w),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function Z(w,J,ee){if(w==null)return w;var le=[],me=0;return q(w,le,"","",function(ye){return J.call(ee,ye,me++)}),le}function re(w){if(w._status===-1){var J=w._result;J=J(),J.then(function(ee){(w._status===0||w._status===-1)&&(w._status=1,w._result=ee)},function(ee){(w._status===0||w._status===-1)&&(w._status=2,w._result=ee)}),w._status===-1&&(w._status=0,w._result=J)}if(w._status===1)return w._result.default;throw w._result}var xe=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},He={map:Z,forEach:function(w,J,ee){Z(w,function(){J.apply(this,arguments)},ee)},count:function(w){var J=0;return Z(w,function(){J++}),J},toArray:function(w){return Z(w,function(J){return J})||[]},only:function(w){if(!Ie(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return ge.Activity=T,ge.Children=He,ge.Component=Y,ge.Fragment=o,ge.Profiler=r,ge.PureComponent=X,ge.StrictMode=s,ge.Suspense=v,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,ge.__COMPILER_RUNTIME={__proto__:null,c:function(w){return W.H.useMemoCache(w)}},ge.cache=function(w){return function(){return w.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(w,J,ee){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var le=V({},w.props),me=w.key;if(J!=null)for(ye in J.key!==void 0&&(me=""+J.key),J)!ie.call(J,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&J.ref===void 0||(le[ye]=J[ye]);var ye=arguments.length-2;if(ye===1)le.children=ee;else if(1<ye){for(var Ue=Array(ye),ot=0;ot<ye;ot++)Ue[ot]=arguments[ot+2];le.children=Ue}return oe(w.type,me,le)},ge.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:d,_context:w},w},ge.createElement=function(w,J,ee){var le,me={},ye=null;if(J!=null)for(le in J.key!==void 0&&(ye=""+J.key),J)ie.call(J,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(me[le]=J[le]);var Ue=arguments.length-2;if(Ue===1)me.children=ee;else if(1<Ue){for(var ot=Array(Ue),Ye=0;Ye<Ue;Ye++)ot[Ye]=arguments[Ye+2];me.children=ot}if(w&&w.defaultProps)for(le in Ue=w.defaultProps,Ue)me[le]===void 0&&(me[le]=Ue[le]);return oe(w,ye,me)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(w){return{$$typeof:g,render:w}},ge.isValidElement=Ie,ge.lazy=function(w){return{$$typeof:y,_payload:{_status:-1,_result:w},_init:re}},ge.memo=function(w,J){return{$$typeof:h,type:w,compare:J===void 0?null:J}},ge.startTransition=function(w){var J=W.T,ee={};W.T=ee;try{var le=w(),me=W.S;me!==null&&me(ee,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(te,xe)}catch(ye){xe(ye)}finally{J!==null&&ee.types!==null&&(J.types=ee.types),W.T=J}},ge.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},ge.use=function(w){return W.H.use(w)},ge.useActionState=function(w,J,ee){return W.H.useActionState(w,J,ee)},ge.useCallback=function(w,J){return W.H.useCallback(w,J)},ge.useContext=function(w){return W.H.useContext(w)},ge.useDebugValue=function(){},ge.useDeferredValue=function(w,J){return W.H.useDeferredValue(w,J)},ge.useEffect=function(w,J){return W.H.useEffect(w,J)},ge.useEffectEvent=function(w){return W.H.useEffectEvent(w)},ge.useId=function(){return W.H.useId()},ge.useImperativeHandle=function(w,J,ee){return W.H.useImperativeHandle(w,J,ee)},ge.useInsertionEffect=function(w,J){return W.H.useInsertionEffect(w,J)},ge.useLayoutEffect=function(w,J){return W.H.useLayoutEffect(w,J)},ge.useMemo=function(w,J){return W.H.useMemo(w,J)},ge.useOptimistic=function(w,J){return W.H.useOptimistic(w,J)},ge.useReducer=function(w,J,ee){return W.H.useReducer(w,J,ee)},ge.useRef=function(w){return W.H.useRef(w)},ge.useState=function(w){return W.H.useState(w)},ge.useSyncExternalStore=function(w,J,ee){return W.H.useSyncExternalStore(w,J,ee)},ge.useTransition=function(){return W.H.useTransition()},ge.version="19.2.4",ge}var Fp;function hd(){return Fp||(Fp=1,Jc.exports=Xv()),Jc.exports}var K=hd(),Yc={exports:{}},Ds={},Kc={exports:{}},Xc={};var Jp;function Qv(){return Jp||(Jp=1,(function(i){function n(q,Z){var re=q.length;q.push(Z);e:for(;0<re;){var xe=re-1>>>1,He=q[xe];if(0<r(He,Z))q[xe]=Z,q[re]=He,re=xe;else break e}}function o(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var Z=q[0],re=q.pop();if(re!==Z){q[0]=re;e:for(var xe=0,He=q.length,w=He>>>1;xe<w;){var J=2*(xe+1)-1,ee=q[J],le=J+1,me=q[le];if(0>r(ee,re))le<He&&0>r(me,ee)?(q[xe]=me,q[le]=re,xe=le):(q[xe]=ee,q[J]=re,xe=J);else if(le<He&&0>r(me,re))q[xe]=me,q[le]=re,xe=le;else break e}}return Z}function r(q,Z){var re=q.sortIndex-Z.sortIndex;return re!==0?re:q.id-Z.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var f=Date,g=f.now();i.unstable_now=function(){return f.now()-g}}var v=[],h=[],y=1,T=null,_=3,N=!1,U=!1,V=!1,H=!1,Y=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function $(q){for(var Z=o(h);Z!==null;){if(Z.callback===null)s(h);else if(Z.startTime<=q)s(h),Z.sortIndex=Z.expirationTime,n(v,Z);else break;Z=o(h)}}function O(q){if(V=!1,$(q),!U)if(o(v)!==null)U=!0,te||(te=!0,Me());else{var Z=o(h);Z!==null&&De(O,Z.startTime-q)}}var te=!1,W=-1,ie=5,oe=-1;function he(){return H?!0:!(i.unstable_now()-oe<ie)}function Ie(){if(H=!1,te){var q=i.unstable_now();oe=q;var Z=!0;try{e:{U=!1,V&&(V=!1,j(W),W=-1),N=!0;var re=_;try{t:{for($(q),T=o(v);T!==null&&!(T.expirationTime>q&&he());){var xe=T.callback;if(typeof xe=="function"){T.callback=null,_=T.priorityLevel;var He=xe(T.expirationTime<=q);if(q=i.unstable_now(),typeof He=="function"){T.callback=He,$(q),Z=!0;break t}T===o(v)&&s(v),$(q)}else s(v);T=o(v)}if(T!==null)Z=!0;else{var w=o(h);w!==null&&De(O,w.startTime-q),Z=!1}}break e}finally{T=null,_=re,N=!1}Z=void 0}}finally{Z?Me():te=!1}}}var Me;if(typeof X=="function")Me=function(){X(Ie)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,Ve=Qe.port2;Qe.port1.onmessage=Ie,Me=function(){Ve.postMessage(null)}}else Me=function(){Y(Ie,0)};function De(q,Z){W=Y(function(){q(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(q){q.callback=null},i.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<q?Math.floor(1e3/q):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(q){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var re=_;_=Z;try{return q()}finally{_=re}},i.unstable_requestPaint=function(){H=!0},i.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var re=_;_=q;try{return Z()}finally{_=re}},i.unstable_scheduleCallback=function(q,Z,re){var xe=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?xe+re:xe):re=xe,q){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=re+He,q={id:y++,callback:Z,priorityLevel:q,startTime:re,expirationTime:He,sortIndex:-1},re>xe?(q.sortIndex=re,n(h,q),o(v)===null&&q===o(h)&&(V?(j(W),W=-1):V=!0,De(O,re-xe))):(q.sortIndex=He,n(v,q),U||N||(U=!0,te||(te=!0,Me()))),q},i.unstable_shouldYield=he,i.unstable_wrapCallback=function(q){var Z=_;return function(){var re=_;_=Z;try{return q.apply(this,arguments)}finally{_=re}}}})(Xc)),Xc}var Yp;function Zv(){return Yp||(Yp=1,Kc.exports=Qv()),Kc.exports}var Qc={exports:{}},It={};var Kp;function $v(){if(Kp)return It;Kp=1;var i=hd();function n(v){var h="https://react.dev/errors/"+v;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)h+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+v+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function d(v,h,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:v,containerInfo:h,implementation:y}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,h){if(v==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return It.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,It.createPortal=function(v,h){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return d(v,h,null,y)},It.flushSync=function(v){var h=f.T,y=s.p;try{if(f.T=null,s.p=2,v)return v()}finally{f.T=h,s.p=y,s.d.f()}},It.preconnect=function(v,h){typeof v=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(v,h))},It.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},It.preinit=function(v,h){if(typeof v=="string"&&h&&typeof h.as=="string"){var y=h.as,T=g(y,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,N=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;y==="style"?s.d.S(v,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:_,fetchPriority:N}):y==="script"&&s.d.X(v,{crossOrigin:T,integrity:_,fetchPriority:N,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},It.preinitModule=function(v,h){if(typeof v=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var y=g(h.as,h.crossOrigin);s.d.M(v,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(v)},It.preload=function(v,h){if(typeof v=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var y=h.as,T=g(y,h.crossOrigin);s.d.L(v,y,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},It.preloadModule=function(v,h){if(typeof v=="string")if(h){var y=g(h.as,h.crossOrigin);s.d.m(v,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(v)},It.requestFormReset=function(v){s.d.r(v)},It.unstable_batchedUpdates=function(v,h){return v(h)},It.useFormState=function(v,h,y){return f.H.useFormState(v,h,y)},It.useFormStatus=function(){return f.H.useHostTransitionStatus()},It.version="19.2.4",It}var Xp;function Wv(){if(Xp)return Qc.exports;Xp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Qc.exports=$v(),Qc.exports}var Qp;function jv(){if(Qp)return Ds;Qp=1;var i=Zv(),n=hd(),o=Wv();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(d(e)!==e)throw Error(s(188))}function h(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(s(188));return t!==e?null:e}for(var l=e,a=t;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(a=m.return,a!==null){l=a;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return v(m),e;if(p===a)return v(m),t;p=p.sibling}throw Error(s(188))}if(l.return!==a.return)l=m,a=p;else{for(var x=!1,C=m.child;C;){if(C===l){x=!0,l=m,a=p;break}if(C===a){x=!0,a=m,l=p;break}C=C.sibling}if(!x){for(C=p.child;C;){if(C===l){x=!0,l=p,a=m;break}if(C===a){x=!0,a=p,l=m;break}C=C.sibling}if(!x)throw Error(s(189))}}if(l.alternate!==a)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var T=Object.assign,_=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),X=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),Ie=Symbol.iterator;function Me(e){return e===null||typeof e!="object"?null:(e=Ie&&e[Ie]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Symbol.for("react.client.reference");function Ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Qe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case V:return"Fragment";case Y:return"Profiler";case H:return"StrictMode";case O:return"Suspense";case te:return"SuspenseList";case oe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case X:return e.displayName||"Context";case j:return(e._context.displayName||"Context")+".Consumer";case $:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return t=e.displayName||null,t!==null?t:Ve(e.type)||"Memo";case ie:t=e._payload,e=e._init;try{return Ve(e(t))}catch{}}return null}var De=Array.isArray,q=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},xe=[],He=-1;function w(e){return{current:e}}function J(e){0>He||(e.current=xe[He],xe[He]=null,He--)}function ee(e,t){He++,xe[He]=e.current,e.current=t}var le=w(null),me=w(null),ye=w(null),Ue=w(null);function ot(e,t){switch(ee(ye,t),ee(me,e),ee(le,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?cp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=cp(t),e=dp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(le),ee(le,e)}function Ye(){J(le),J(me),J(ye)}function ct(e){e.memoizedState!==null&&ee(Ue,e);var t=le.current,l=dp(t,e.type);t!==l&&(ee(me,e),ee(le,l))}function On(e){me.current===e&&(J(le),J(me)),Ue.current===e&&(J(Ue),Ns._currentValue=re)}var mi,Gl;function At(e){if(mi===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);mi=t&&t[1]||"",Gl=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mi+e+Gl}var ji=!1;function eo(e,t){if(!e||ji)return"";ji=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(P){var G=P}Reflect.construct(e,[],F)}else{try{F.call()}catch(P){G=P}e.call(F.prototype)}}else{try{throw Error()}catch(P){G=P}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(P){if(P&&G&&typeof P.stack=="string")return[P.stack,G.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=a.DetermineComponentFrameRoot(),x=p[0],C=p[1];if(x&&C){var b=x.split(`
`),k=C.split(`
`);for(m=a=0;a<b.length&&!b[a].includes("DetermineComponentFrameRoot");)a++;for(;m<k.length&&!k[m].includes("DetermineComponentFrameRoot");)m++;if(a===b.length||m===k.length)for(a=b.length-1,m=k.length-1;1<=a&&0<=m&&b[a]!==k[m];)m--;for(;1<=a&&0<=m;a--,m--)if(b[a]!==k[m]){if(a!==1||m!==1)do if(a--,m--,0>m||b[a]!==k[m]){var z=`
`+b[a].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=a&&0<=m);break}}}finally{ji=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?At(l):""}function to(e,t){switch(e.tag){case 26:case 27:case 5:return At(e.type);case 16:return At("Lazy");case 13:return e.child!==t&&t!==null?At("Suspense Fallback"):At("Suspense");case 19:return At("SuspenseList");case 0:case 15:return eo(e.type,!1);case 11:return eo(e.type.render,!1);case 1:return eo(e.type,!0);case 31:return At("Activity");default:return""}}function Ho(e){try{var t="",l=null;do t+=to(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Hs=Object.prototype.hasOwnProperty,Ps=i.unstable_scheduleCallback,Vs=i.unstable_cancelCallback,bd=i.unstable_shouldYield,Bt=i.unstable_requestPaint,dt=i.unstable_now,Hl=i.unstable_getCurrentPriorityLevel,qs=i.unstable_ImmediatePriority,xn=i.unstable_UserBlockingPriority,Po=i.unstable_NormalPriority,Tn=i.unstable_LowPriority,zs=i.unstable_IdlePriority,Bs=i.log,Vo=i.unstable_setDisableYieldValue,no=null,bt=null;function ln(e){if(typeof Bs=="function"&&Vo(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(no,e)}catch{}}var Ut=Math.clz32?Math.clz32:Vl,Pl=Math.log,Dr=Math.LN2;function Vl(e){return e>>>=0,e===0?32:31-(Pl(e)/Dr|0)|0}var qo=256,Lt=262144,io=4194304;function Zt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function zo(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var m=0,p=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var C=a&134217727;return C!==0?(a=C&~p,a!==0?m=Zt(a):(x&=C,x!==0?m=Zt(x):l||(l=C&~e,l!==0&&(m=Zt(l))))):(C=a&~p,C!==0?m=Zt(C):x!==0?m=Zt(x):l||(l=a&~e,l!==0&&(m=Zt(l)))),m===0?0:t!==0&&t!==m&&(t&p)===0&&(p=m&-m,l=t&-t,p>=l||p===32&&(l&4194048)!==0)?t:m}function _n(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ur(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Os(){var e=io;return io<<=1,(io&62914560)===0&&(io=4194304),e}function pi(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function oo(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Bo(e,t,l,a,m,p){var x=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var C=e.entanglements,b=e.expirationTimes,k=e.hiddenUpdates;for(l=x&~l;0<l;){var z=31-Ut(l),F=1<<z;C[z]=0,b[z]=-1;var G=k[z];if(G!==null)for(k[z]=null,z=0;z<G.length;z++){var P=G[z];P!==null&&(P.lane&=-536870913)}l&=~F}a!==0&&lt(e,a,0),p!==0&&m===0&&e.tag!==0&&(e.suspendedLanes|=p&~(x&~t))}function lt(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Ut(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function hi(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-Ut(l),m=1<<a;m&t|e[a]&t&&(e[a]|=t),l&=~m}}function Fs(e,t){var l=t&-t;return l=(l&42)!==0?1:lo(l),(l&(e.suspendedLanes|t))!==0?0:l}function lo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Lr(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:Lp(e.type))}function sn(e,t){var l=Z.p;try{return Z.p=e,t()}finally{Z.p=l}}var Jn=Math.random().toString(36).slice(2),We="__reactFiber$"+Jn,St="__reactProps$"+Jn,gi="__reactContainer$"+Jn,vi="__reactEvents$"+Jn,so="__reactListeners$"+Jn,kr="__reactHandles$"+Jn,an="__reactResources$"+Jn,ao="__reactMarker$"+Jn;function yi(e){delete e[We],delete e[St],delete e[vi],delete e[so],delete e[kr]}function Ln(e){var t=e[We];if(t)return t;for(var l=e.parentNode;l;){if(t=l[gi]||l[We]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=yp(e);e!==null;){if(l=e[We])return l;e=yp(e)}return t}e=l,l=e.parentNode}return null}function Si(e){if(e=e[We]||e[gi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function En(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function xi(e){var t=e[an];return t||(t=e[an]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function $e(e){e[ao]=!0}var Js=new Set,ro={};function Yn(e,t){kn(e,t),kn(e+"Capture",t)}function kn(e,t){for(ro[e]=t,e=0;e<t.length;e++)Js.add(t[e])}var ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zl={},Oo={};function Ys(e){return Hs.call(Oo,e)?!0:Hs.call(zl,e)?!1:ql.test(e)?Oo[e]=!0:(zl[e]=!0,!1)}function Gn(e,t,l){if(Ys(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function uo(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Ot(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function co(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ks(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var m=a.get,p=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return m.call(this)},set:function(x){l=""+x,p.call(this,x)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hn(e){if(!e._valueTracker){var t=co(e)?"checked":"value";e._valueTracker=Ks(e,t,""+e[t])}}function Bl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=co(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function Cn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ol=/[\n"\\]/g;function Re(e){return e.replace(Ol,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function fo(e,t,l,a,m,p,x,C){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+kt(t)):e.value!==""+kt(t)&&(e.value=""+kt(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?Jl(e,x,kt(t)):l!=null?Jl(e,x,kt(l)):a!=null&&e.removeAttribute("value"),m==null&&p!=null&&(e.defaultChecked=!!p),m!=null&&(e.checked=m&&typeof m!="function"&&typeof m!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+kt(C):e.removeAttribute("name")}function Fl(e,t,l,a,m,p,x,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),t!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||t!=null)){Hn(e);return}l=l!=null?""+kt(l):"",t=t!=null?""+kt(t):l,C||t===e.value||(e.value=t),e.defaultValue=t}a=a??m,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=C?e.checked:!!a,e.defaultChecked=!!a,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),Hn(e)}function Jl(e,t,l){t==="number"&&Cn(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ti(e,t,l,a){if(e=e.options,t){t={};for(var m=0;m<l.length;m++)t["$"+l[m]]=!0;for(l=0;l<e.length;l++)m=t.hasOwnProperty("$"+e[l].value),e[l].selected!==m&&(e[l].selected=m),m&&a&&(e[l].defaultSelected=!0)}else{for(l=""+kt(l),t=null,m=0;m<e.length;m++){if(e[m].value===l){e[m].selected=!0,a&&(e[m].defaultSelected=!0);return}t!==null||e[m].disabled||(t=e[m])}t!==null&&(t.selected=!0)}}function _i(e,t,l){if(t!=null&&(t=""+kt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+kt(l):""}function Gr(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(s(92));if(De(a)){if(1<a.length)throw Error(s(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=kt(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),Hn(e)}function mo(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var Xs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yl(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||Xs.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function Qs(e,t,l){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var m in t)a=t[m],t.hasOwnProperty(m)&&l[m]!==a&&Yl(e,m,a)}else for(var p in t)t.hasOwnProperty(p)&&Yl(e,p,t[p])}function Kl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ei(e){return Hr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Nt(){}var ft=null;function Fo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ci=null,Ai=null;function $s(e){var t=Si(e);if(t&&(e=t.stateNode)){var l=e[St]||null;e:switch(e=t.stateNode,t.type){case"input":if(fo(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Re(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var m=a[St]||null;if(!m)throw Error(s(90));fo(a,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&Bl(a)}break e;case"textarea":_i(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&Ti(e,!!l.multiple,t,!1)}}}var Ee=!1;function Ws(e,t,l){if(Ee)return e(t,l);Ee=!0;try{var a=e(t);return a}finally{if(Ee=!1,(Ci!==null||Ai!==null)&&(Fa(),Ci&&(t=Ci,e=Ai,Ai=Ci=null,$s(t),e)))for(t=0;t<e.length;t++)$s(e[t])}}function bi(e,t){var l=e.stateNode;if(l===null)return null;var a=l[St]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,t,typeof l));return l}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xl=!1;if(An)try{var po={};Object.defineProperty(po,"passive",{get:function(){Xl=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{Xl=!1}var Pn=null,Jo=null,ho=null;function js(){if(ho)return ho;var e,t=Jo,l=t.length,a,m="value"in Pn?Pn.value:Pn.textContent,p=m.length;for(e=0;e<l&&t[e]===m[e];e++);var x=l-e;for(a=1;a<=x&&t[l-a]===m[p-a];a++);return ho=m.slice(e,1<a?1-a:void 0)}function Yo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ko(){return!0}function ea(){return!1}function xt(e){function t(l,a,m,p,x){this._reactName=l,this._targetInst=m,this.type=a,this.nativeEvent=p,this.target=x,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(l=e[C],this[C]=l?l(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Ko:ea,this.isPropagationStopped=ea,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),t}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xo=xt(Kn),go=T({},Kn,{view:0,detail:0}),Pr=xt(go),Qo,Zo,vo,yo=T({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$o,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vo&&(vo&&e.type==="mousemove"?(Qo=e.screenX-vo.screenX,Zo=e.screenY-vo.screenY):Zo=Qo=0,vo=e),Qo)},movementY:function(e){return"movementY"in e?e.movementY:Zo}}),ta=xt(yo),na=T({},yo,{dataTransfer:0}),ia=xt(na),Vr=T({},go,{relatedTarget:0}),Ql=xt(Vr),qr=T({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),zr=xt(qr),Br=T({},Kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Or=xt(Br),Fr=T({},Kn,{data:0}),oa=xt(Fr),Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},la={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yr[e])?!!t[e]:!1}function $o(){return Kr}var Xr=T({},go,{key:function(e){if(e.key){var t=Jr[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?la[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$o,charCode:function(e){return e.type==="keypress"?Yo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qr=xt(Xr),Wo=T({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sa=xt(Wo),E=T({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$o}),A=xt(E),M=T({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=xt(M),Q=T({},yo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ue=xt(Q),ae=T({},Kn,{newState:0,oldState:0}),Te=xt(ae),bn=[9,13,27,32],Ni=An&&"CompositionEvent"in window,Xn=null;An&&"documentMode"in document&&(Xn=document.documentMode);var jo=An&&"TextEvent"in window&&!Xn,Mi=An&&(!Ni||Xn&&8<Xn&&11>=Xn),aa=" ",ra=!1;function _e(e,t){switch(e){case"keyup":return bn.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gt=!1;function ht(e,t){switch(e){case"compositionend":return Mt(t);case"keypress":return t.which!==32?null:(ra=!0,aa);case"textInput":return e=t.data,e===aa&&ra?null:e;default:return null}}function Nn(e,t){if(Gt)return e==="compositionend"||!Ni&&_e(e,t)?(e=js(),ho=Jo=Pn=null,Gt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mi&&t.locale!=="ko"?null:t.data;default:return null}}var rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rn[e.type]:t==="textarea"}function Ht(e,t,l,a){Ci?Ai?Ai.push(a):Ai=[a]:Ci=a,t=$a(t,"onChange"),0<t.length&&(l=new Xo("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var Ft=null,Pt=null;function mt(e){op(e,0)}function je(e){var t=En(e);if(Bl(t))return e}function Rt(e,t){if(e==="change")return t}var gt=!1;if(An){var wt;if(An){var So="oninput"in document;if(!So){var Zl=document.createElement("div");Zl.setAttribute("oninput","return;"),So=typeof Zl.oninput=="function"}wt=So}else wt=!1;gt=wt&&(!document.documentMode||9<document.documentMode)}function Zr(){Ft&&(Ft.detachEvent("onpropertychange",$r),Pt=Ft=null)}function $r(e){if(e.propertyName==="value"&&je(Pt)){var t=[];Ht(t,Pt,e,Fo(e)),Ws(mt,t)}}function Wr(e,t,l){e==="focusin"?(Zr(),Ft=t,Pt=l,Ft.attachEvent("onpropertychange",$r)):e==="focusout"&&Zr()}function ua(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return je(Pt)}function _0(e,t){if(e==="click")return je(t)}function E0(e,t){if(e==="input"||e==="change")return je(t)}function C0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:C0;function $l(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var m=l[a];if(!Hs.call(t,m)||!$t(e[m],t[m]))return!1}return!0}function Nd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Md(e,t){var l=Nd(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Nd(l)}}function Rd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Cn(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Cn(e.document)}return t}function jr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var A0=An&&"documentMode"in document&&11>=document.documentMode,el=null,eu=null,Wl=null,tu=!1;function Id(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;tu||el==null||el!==Cn(a)||(a=el,"selectionStart"in a&&jr(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Wl&&$l(Wl,a)||(Wl=a,a=$a(eu,"onSelect"),0<a.length&&(t=new Xo("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=el)))}function xo(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var tl={animationend:xo("Animation","AnimationEnd"),animationiteration:xo("Animation","AnimationIteration"),animationstart:xo("Animation","AnimationStart"),transitionrun:xo("Transition","TransitionRun"),transitionstart:xo("Transition","TransitionStart"),transitioncancel:xo("Transition","TransitionCancel"),transitionend:xo("Transition","TransitionEnd")},nu={},Dd={};An&&(Dd=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function To(e){if(nu[e])return nu[e];if(!tl[e])return e;var t=tl[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Dd)return nu[e]=t[l];return e}var Ud=To("animationend"),Ld=To("animationiteration"),kd=To("animationstart"),b0=To("transitionrun"),N0=To("transitionstart"),M0=To("transitioncancel"),Gd=To("transitionend"),Hd=new Map,iu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");iu.push("scrollEnd");function Mn(e,t){Hd.set(e,t),Yn(t,[e])}var ca=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},cn=[],nl=0,ou=0;function da(){for(var e=nl,t=ou=nl=0;t<e;){var l=cn[t];cn[t++]=null;var a=cn[t];cn[t++]=null;var m=cn[t];cn[t++]=null;var p=cn[t];if(cn[t++]=null,a!==null&&m!==null){var x=a.pending;x===null?m.next=m:(m.next=x.next,x.next=m),a.pending=m}p!==0&&Pd(l,m,p)}}function fa(e,t,l,a){cn[nl++]=e,cn[nl++]=t,cn[nl++]=l,cn[nl++]=a,ou|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function lu(e,t,l,a){return fa(e,t,l,a),ma(e)}function _o(e,t){return fa(e,null,null,t),ma(e)}function Pd(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var m=!1,p=e.return;p!==null;)p.childLanes|=l,a=p.alternate,a!==null&&(a.childLanes|=l),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(m=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,m&&t!==null&&(m=31-Ut(l),e=p.hiddenUpdates,a=e[m],a===null?e[m]=[t]:a.push(t),t.lane=l|536870912),p):null}function ma(e){if(50<xs)throw xs=0,pc=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var il={};function R0(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,l,a){return new R0(e,t,l,a)}function su(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qn(e,t){var l=e.alternate;return l===null?(l=Wt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Vd(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function pa(e,t,l,a,m,p){var x=0;if(a=e,typeof e=="function")su(e)&&(x=1);else if(typeof e=="string")x=Lv(e,l,le.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case oe:return e=Wt(31,l,t,m),e.elementType=oe,e.lanes=p,e;case V:return Eo(l.children,m,p,t);case H:x=8,m|=24;break;case Y:return e=Wt(12,l,t,m|2),e.elementType=Y,e.lanes=p,e;case O:return e=Wt(13,l,t,m),e.elementType=O,e.lanes=p,e;case te:return e=Wt(19,l,t,m),e.elementType=te,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:x=10;break e;case j:x=9;break e;case $:x=11;break e;case W:x=14;break e;case ie:x=16,a=null;break e}x=29,l=Error(s(130,e===null?"null":typeof e,"")),a=null}return t=Wt(x,l,t,m),t.elementType=e,t.type=a,t.lanes=p,t}function Eo(e,t,l,a){return e=Wt(7,e,a,t),e.lanes=l,e}function au(e,t,l){return e=Wt(6,e,null,t),e.lanes=l,e}function qd(e){var t=Wt(18,null,null,0);return t.stateNode=e,t}function ru(e,t,l){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var zd=new WeakMap;function dn(e,t){if(typeof e=="object"&&e!==null){var l=zd.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Ho(t)},zd.set(e,t),t)}return{value:e,source:t,stack:Ho(t)}}var ol=[],ll=0,ha=null,jl=0,fn=[],mn=0,Ri=null,Vn=1,qn="";function Zn(e,t){ol[ll++]=jl,ol[ll++]=ha,ha=e,jl=t}function Bd(e,t,l){fn[mn++]=Vn,fn[mn++]=qn,fn[mn++]=Ri,Ri=e;var a=Vn;e=qn;var m=32-Ut(a)-1;a&=~(1<<m),l+=1;var p=32-Ut(t)+m;if(30<p){var x=m-m%5;p=(a&(1<<x)-1).toString(32),a>>=x,m-=x,Vn=1<<32-Ut(t)+m|l<<m|a,qn=p+e}else Vn=1<<p|l<<m|a,qn=e}function uu(e){e.return!==null&&(Zn(e,1),Bd(e,1,0))}function cu(e){for(;e===ha;)ha=ol[--ll],ol[ll]=null,jl=ol[--ll],ol[ll]=null;for(;e===Ri;)Ri=fn[--mn],fn[mn]=null,qn=fn[--mn],fn[mn]=null,Vn=fn[--mn],fn[mn]=null}function Od(e,t){fn[mn++]=Vn,fn[mn++]=qn,fn[mn++]=Ri,Vn=t.id,qn=t.overflow,Ri=e}var Tt=null,Ke=null,we=!1,wi=null,pn=!1,du=Error(s(519));function Ii(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw es(dn(t,e)),du}function Fd(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[We]=e,t[St]=a,l){case"dialog":Ae("cancel",t),Ae("close",t);break;case"iframe":case"object":case"embed":Ae("load",t);break;case"video":case"audio":for(l=0;l<_s.length;l++)Ae(_s[l],t);break;case"source":Ae("error",t);break;case"img":case"image":case"link":Ae("error",t),Ae("load",t);break;case"details":Ae("toggle",t);break;case"input":Ae("invalid",t),Fl(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Ae("invalid",t);break;case"textarea":Ae("invalid",t),Gr(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||rp(t.textContent,l)?(a.popover!=null&&(Ae("beforetoggle",t),Ae("toggle",t)),a.onScroll!=null&&Ae("scroll",t),a.onScrollEnd!=null&&Ae("scrollend",t),a.onClick!=null&&(t.onclick=Nt),t=!0):t=!1,t||Ii(e,!0)}function Jd(e){for(Tt=e.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:pn=!1;return;case 27:case 3:pn=!0;return;default:Tt=Tt.return}}function sl(e){if(e!==Tt)return!1;if(!we)return Jd(e),we=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Rc(e.type,e.memoizedProps)),l=!l),l&&Ke&&Ii(e),Jd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ke=vp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ke=vp(e)}else t===27?(t=Ke,Ji(e.type)?(e=Lc,Lc=null,Ke=e):Ke=t):Ke=Tt?gn(e.stateNode.nextSibling):null;return!0}function Co(){Ke=Tt=null,we=!1}function fu(){var e=wi;return e!==null&&(Xt===null?Xt=e:Xt.push.apply(Xt,e),wi=null),e}function es(e){wi===null?wi=[e]:wi.push(e)}var mu=w(null),Ao=null,$n=null;function Di(e,t,l){ee(mu,t._currentValue),t._currentValue=l}function Wn(e){e._currentValue=mu.current,J(mu)}function pu(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function hu(e,t,l,a){var m=e.child;for(m!==null&&(m.return=e);m!==null;){var p=m.dependencies;if(p!==null){var x=m.child;p=p.firstContext;e:for(;p!==null;){var C=p;p=m;for(var b=0;b<t.length;b++)if(C.context===t[b]){p.lanes|=l,C=p.alternate,C!==null&&(C.lanes|=l),pu(p.return,l,e),a||(x=null);break e}p=C.next}}else if(m.tag===18){if(x=m.return,x===null)throw Error(s(341));x.lanes|=l,p=x.alternate,p!==null&&(p.lanes|=l),pu(x,l,e),x=null}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===e){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}}function al(e,t,l,a){e=null;for(var m=t,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var x=m.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var C=m.type;$t(m.pendingProps.value,x.value)||(e!==null?e.push(C):e=[C])}}else if(m===Ue.current){if(x=m.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(e!==null?e.push(Ns):e=[Ns])}m=m.return}e!==null&&hu(t,e,l,a),t.flags|=262144}function ga(e){for(e=e.firstContext;e!==null;){if(!$t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bo(e){Ao=e,$n=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function _t(e){return Yd(Ao,e)}function va(e,t){return Ao===null&&bo(e),Yd(e,t)}function Yd(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},$n===null){if(e===null)throw Error(s(308));$n=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else $n=$n.next=t;return l}var w0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},I0=i.unstable_scheduleCallback,D0=i.unstable_NormalPriority,st={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gu(){return{controller:new w0,data:new Map,refCount:0}}function ts(e){e.refCount--,e.refCount===0&&I0(D0,function(){e.controller.abort()})}var ns=null,vu=0,rl=0,ul=null;function U0(e,t){if(ns===null){var l=ns=[];vu=0,rl=xc(),ul={status:"pending",value:void 0,then:function(a){l.push(a)}}}return vu++,t.then(Kd,Kd),t}function Kd(){if(--vu===0&&ns!==null){ul!==null&&(ul.status="fulfilled");var e=ns;ns=null,rl=0,ul=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function L0(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var m=0;m<l.length;m++)(0,l[m])(t)},function(m){for(a.status="rejected",a.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),a}var Xd=q.S;q.S=function(e,t){Dm=dt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&U0(e,t),Xd!==null&&Xd(e,t)};var No=w(null);function yu(){var e=No.current;return e!==null?e:Je.pooledCache}function ya(e,t){t===null?ee(No,No.current):ee(No,t.pool)}function Qd(){var e=yu();return e===null?null:{parent:st._currentValue,pool:e}}var cl=Error(s(460)),Su=Error(s(474)),Sa=Error(s(542)),xa={then:function(){}};function Zd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $d(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Nt,Nt),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jd(e),e;default:if(typeof t.status=="string")t.then(Nt,Nt);else{if(e=Je,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var m=t;m.status="fulfilled",m.value=a}},function(a){if(t.status==="pending"){var m=t;m.status="rejected",m.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,jd(e),e}throw Ro=t,cl}}function Mo(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ro=l,cl):l}}var Ro=null;function Wd(){if(Ro===null)throw Error(s(459));var e=Ro;return Ro=null,e}function jd(e){if(e===cl||e===Sa)throw Error(s(483))}var dl=null,is=0;function Ta(e){var t=is;return is+=1,dl===null&&(dl=[]),$d(dl,e,t)}function os(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function _a(e,t){throw t.$$typeof===_?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ef(e){function t(D,R){if(e){var L=D.deletions;L===null?(D.deletions=[R],D.flags|=16):L.push(R)}}function l(D,R){if(!e)return null;for(;R!==null;)t(D,R),R=R.sibling;return null}function a(D){for(var R=new Map;D!==null;)D.key!==null?R.set(D.key,D):R.set(D.index,D),D=D.sibling;return R}function m(D,R){return D=Qn(D,R),D.index=0,D.sibling=null,D}function p(D,R,L){return D.index=L,e?(L=D.alternate,L!==null?(L=L.index,L<R?(D.flags|=67108866,R):L):(D.flags|=67108866,R)):(D.flags|=1048576,R)}function x(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function C(D,R,L,B){return R===null||R.tag!==6?(R=au(L,D.mode,B),R.return=D,R):(R=m(R,L),R.return=D,R)}function b(D,R,L,B){var de=L.type;return de===V?z(D,R,L.props.children,B,L.key):R!==null&&(R.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ie&&Mo(de)===R.type)?(R=m(R,L.props),os(R,L),R.return=D,R):(R=pa(L.type,L.key,L.props,null,D.mode,B),os(R,L),R.return=D,R)}function k(D,R,L,B){return R===null||R.tag!==4||R.stateNode.containerInfo!==L.containerInfo||R.stateNode.implementation!==L.implementation?(R=ru(L,D.mode,B),R.return=D,R):(R=m(R,L.children||[]),R.return=D,R)}function z(D,R,L,B,de){return R===null||R.tag!==7?(R=Eo(L,D.mode,B,de),R.return=D,R):(R=m(R,L),R.return=D,R)}function F(D,R,L){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=au(""+R,D.mode,L),R.return=D,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case N:return L=pa(R.type,R.key,R.props,null,D.mode,L),os(L,R),L.return=D,L;case U:return R=ru(R,D.mode,L),R.return=D,R;case ie:return R=Mo(R),F(D,R,L)}if(De(R)||Me(R))return R=Eo(R,D.mode,L,null),R.return=D,R;if(typeof R.then=="function")return F(D,Ta(R),L);if(R.$$typeof===X)return F(D,va(D,R),L);_a(D,R)}return null}function G(D,R,L,B){var de=R!==null?R.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return de!==null?null:C(D,R,""+L,B);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case N:return L.key===de?b(D,R,L,B):null;case U:return L.key===de?k(D,R,L,B):null;case ie:return L=Mo(L),G(D,R,L,B)}if(De(L)||Me(L))return de!==null?null:z(D,R,L,B,null);if(typeof L.then=="function")return G(D,R,Ta(L),B);if(L.$$typeof===X)return G(D,R,va(D,L),B);_a(D,L)}return null}function P(D,R,L,B,de){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return D=D.get(L)||null,C(R,D,""+B,de);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case N:return D=D.get(B.key===null?L:B.key)||null,b(R,D,B,de);case U:return D=D.get(B.key===null?L:B.key)||null,k(R,D,B,de);case ie:return B=Mo(B),P(D,R,L,B,de)}if(De(B)||Me(B))return D=D.get(L)||null,z(R,D,B,de,null);if(typeof B.then=="function")return P(D,R,L,Ta(B),de);if(B.$$typeof===X)return P(D,R,L,va(R,B),de);_a(R,B)}return null}function se(D,R,L,B){for(var de=null,Le=null,ce=R,Se=R=0,Ne=null;ce!==null&&Se<L.length;Se++){ce.index>Se?(Ne=ce,ce=null):Ne=ce.sibling;var ke=G(D,ce,L[Se],B);if(ke===null){ce===null&&(ce=Ne);break}e&&ce&&ke.alternate===null&&t(D,ce),R=p(ke,R,Se),Le===null?de=ke:Le.sibling=ke,Le=ke,ce=Ne}if(Se===L.length)return l(D,ce),we&&Zn(D,Se),de;if(ce===null){for(;Se<L.length;Se++)ce=F(D,L[Se],B),ce!==null&&(R=p(ce,R,Se),Le===null?de=ce:Le.sibling=ce,Le=ce);return we&&Zn(D,Se),de}for(ce=a(ce);Se<L.length;Se++)Ne=P(ce,D,Se,L[Se],B),Ne!==null&&(e&&Ne.alternate!==null&&ce.delete(Ne.key===null?Se:Ne.key),R=p(Ne,R,Se),Le===null?de=Ne:Le.sibling=Ne,Le=Ne);return e&&ce.forEach(function(Zi){return t(D,Zi)}),we&&Zn(D,Se),de}function fe(D,R,L,B){if(L==null)throw Error(s(151));for(var de=null,Le=null,ce=R,Se=R=0,Ne=null,ke=L.next();ce!==null&&!ke.done;Se++,ke=L.next()){ce.index>Se?(Ne=ce,ce=null):Ne=ce.sibling;var Zi=G(D,ce,ke.value,B);if(Zi===null){ce===null&&(ce=Ne);break}e&&ce&&Zi.alternate===null&&t(D,ce),R=p(Zi,R,Se),Le===null?de=Zi:Le.sibling=Zi,Le=Zi,ce=Ne}if(ke.done)return l(D,ce),we&&Zn(D,Se),de;if(ce===null){for(;!ke.done;Se++,ke=L.next())ke=F(D,ke.value,B),ke!==null&&(R=p(ke,R,Se),Le===null?de=ke:Le.sibling=ke,Le=ke);return we&&Zn(D,Se),de}for(ce=a(ce);!ke.done;Se++,ke=L.next())ke=P(ce,D,Se,ke.value,B),ke!==null&&(e&&ke.alternate!==null&&ce.delete(ke.key===null?Se:ke.key),R=p(ke,R,Se),Le===null?de=ke:Le.sibling=ke,Le=ke);return e&&ce.forEach(function(Jv){return t(D,Jv)}),we&&Zn(D,Se),de}function Fe(D,R,L,B){if(typeof L=="object"&&L!==null&&L.type===V&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case N:e:{for(var de=L.key;R!==null;){if(R.key===de){if(de=L.type,de===V){if(R.tag===7){l(D,R.sibling),B=m(R,L.props.children),B.return=D,D=B;break e}}else if(R.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===ie&&Mo(de)===R.type){l(D,R.sibling),B=m(R,L.props),os(B,L),B.return=D,D=B;break e}l(D,R);break}else t(D,R);R=R.sibling}L.type===V?(B=Eo(L.props.children,D.mode,B,L.key),B.return=D,D=B):(B=pa(L.type,L.key,L.props,null,D.mode,B),os(B,L),B.return=D,D=B)}return x(D);case U:e:{for(de=L.key;R!==null;){if(R.key===de)if(R.tag===4&&R.stateNode.containerInfo===L.containerInfo&&R.stateNode.implementation===L.implementation){l(D,R.sibling),B=m(R,L.children||[]),B.return=D,D=B;break e}else{l(D,R);break}else t(D,R);R=R.sibling}B=ru(L,D.mode,B),B.return=D,D=B}return x(D);case ie:return L=Mo(L),Fe(D,R,L,B)}if(De(L))return se(D,R,L,B);if(Me(L)){if(de=Me(L),typeof de!="function")throw Error(s(150));return L=de.call(L),fe(D,R,L,B)}if(typeof L.then=="function")return Fe(D,R,Ta(L),B);if(L.$$typeof===X)return Fe(D,R,va(D,L),B);_a(D,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,R!==null&&R.tag===6?(l(D,R.sibling),B=m(R,L),B.return=D,D=B):(l(D,R),B=au(L,D.mode,B),B.return=D,D=B),x(D)):l(D,R)}return function(D,R,L,B){try{is=0;var de=Fe(D,R,L,B);return dl=null,de}catch(ce){if(ce===cl||ce===Sa)throw ce;var Le=Wt(29,ce,null,D.mode);return Le.lanes=B,Le.return=D,Le}}}var wo=ef(!0),tf=ef(!1),Ui=!1;function xu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Li(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ki(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Pe&2)!==0){var m=a.pending;return m===null?t.next=t:(t.next=m.next,m.next=t),a.pending=t,t=ma(e),Pd(e,null,l),t}return fa(e,a,t,l),ma(e)}function ls(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,hi(e,l)}}function _u(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?m=p=x:p=p.next=x,l=l.next}while(l!==null);p===null?m=p=t:p=p.next=t}else m=p=t;l={baseState:a.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Eu=!1;function ss(){if(Eu){var e=ul;if(e!==null)throw e}}function as(e,t,l,a){Eu=!1;var m=e.updateQueue;Ui=!1;var p=m.firstBaseUpdate,x=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var b=C,k=b.next;b.next=null,x===null?p=k:x.next=k,x=b;var z=e.alternate;z!==null&&(z=z.updateQueue,C=z.lastBaseUpdate,C!==x&&(C===null?z.firstBaseUpdate=k:C.next=k,z.lastBaseUpdate=b))}if(p!==null){var F=m.baseState;x=0,z=k=b=null,C=p;do{var G=C.lane&-536870913,P=G!==C.lane;if(P?(be&G)===G:(a&G)===G){G!==0&&G===rl&&(Eu=!0),z!==null&&(z=z.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var se=e,fe=C;G=t;var Fe=l;switch(fe.tag){case 1:if(se=fe.payload,typeof se=="function"){F=se.call(Fe,F,G);break e}F=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=fe.payload,G=typeof se=="function"?se.call(Fe,F,G):se,G==null)break e;F=T({},F,G);break e;case 2:Ui=!0}}G=C.callback,G!==null&&(e.flags|=64,P&&(e.flags|=8192),P=m.callbacks,P===null?m.callbacks=[G]:P.push(G))}else P={lane:G,tag:C.tag,payload:C.payload,callback:C.callback,next:null},z===null?(k=z=P,b=F):z=z.next=P,x|=G;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;P=C,C=P.next,P.next=null,m.lastBaseUpdate=P,m.shared.pending=null}}while(!0);z===null&&(b=F),m.baseState=b,m.firstBaseUpdate=k,m.lastBaseUpdate=z,p===null&&(m.shared.lanes=0),qi|=x,e.lanes=x,e.memoizedState=F}}function nf(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function of(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)nf(l[e],t)}var fl=w(null),Ea=w(0);function lf(e,t){e=ai,ee(Ea,e),ee(fl,t),ai=e|t.baseLanes}function Cu(){ee(Ea,ai),ee(fl,fl.current)}function Au(){ai=Ea.current,J(fl),J(Ea)}var jt=w(null),hn=null;function Gi(e){var t=e.alternate;ee(nt,nt.current&1),ee(jt,e),hn===null&&(t===null||fl.current!==null||t.memoizedState!==null)&&(hn=e)}function bu(e){ee(nt,nt.current),ee(jt,e),hn===null&&(hn=e)}function sf(e){e.tag===22?(ee(nt,nt.current),ee(jt,e),hn===null&&(hn=e)):Hi()}function Hi(){ee(nt,nt.current),ee(jt,jt.current)}function en(e){J(jt),hn===e&&(hn=null),J(nt)}var nt=w(0);function Ca(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Dc(l)||Uc(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jn=0,ve=null,Be=null,at=null,Aa=!1,ml=!1,Io=!1,ba=0,rs=0,pl=null,k0=0;function et(){throw Error(s(321))}function Nu(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!$t(e[l],t[l]))return!1;return!0}function Mu(e,t,l,a,m,p){return jn=p,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?Of:Ou,Io=!1,p=l(a,m),Io=!1,ml&&(p=rf(t,l,a,m)),af(e),p}function af(e){q.H=ds;var t=Be!==null&&Be.next!==null;if(jn=0,at=Be=ve=null,Aa=!1,rs=0,pl=null,t)throw Error(s(300));e===null||rt||(e=e.dependencies,e!==null&&ga(e)&&(rt=!0))}function rf(e,t,l,a){ve=e;var m=0;do{if(ml&&(pl=null),rs=0,ml=!1,25<=m)throw Error(s(301));if(m+=1,at=Be=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}q.H=Ff,p=t(l,a)}while(ml);return p}function G0(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?us(t):t,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(ve.flags|=1024),t}function Ru(){var e=ba!==0;return ba=0,e}function wu(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Iu(e){if(Aa){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Aa=!1}jn=0,at=Be=ve=null,ml=!1,rs=ba=0,pl=null}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?ve.memoizedState=at=e:at=at.next=e,at}function it(){if(Be===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=at===null?ve.memoizedState:at.next;if(t!==null)at=t,Be=e;else{if(e===null)throw ve.alternate===null?Error(s(467)):Error(s(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},at===null?ve.memoizedState=at=e:at=at.next=e}return at}function Na(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function us(e){var t=rs;return rs+=1,pl===null&&(pl=[]),e=$d(pl,e,t),t=ve,(at===null?t.memoizedState:at.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?Of:Ou),e}function Ma(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return us(e);if(e.$$typeof===X)return _t(e)}throw Error(s(438,String(e)))}function Du(e){var t=null,l=ve.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=ve.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(m){return m.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=Na(),ve.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=he;return t.index++,l}function ei(e,t){return typeof t=="function"?t(e):t}function Ra(e){var t=it();return Uu(t,Be,e)}function Uu(e,t,l){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=l;var m=e.baseQueue,p=a.pending;if(p!==null){if(m!==null){var x=m.next;m.next=p.next,p.next=x}t.baseQueue=m=p,a.pending=null}if(p=e.baseState,m===null)e.memoizedState=p;else{t=m.next;var C=x=null,b=null,k=t,z=!1;do{var F=k.lane&-536870913;if(F!==k.lane?(be&F)===F:(jn&F)===F){var G=k.revertLane;if(G===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),F===rl&&(z=!0);else if((jn&G)===G){k=k.next,G===rl&&(z=!0);continue}else F={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},b===null?(C=b=F,x=p):b=b.next=F,ve.lanes|=G,qi|=G;F=k.action,Io&&l(p,F),p=k.hasEagerState?k.eagerState:l(p,F)}else G={lane:F,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},b===null?(C=b=G,x=p):b=b.next=G,ve.lanes|=F,qi|=F;k=k.next}while(k!==null&&k!==t);if(b===null?x=p:b.next=C,!$t(p,e.memoizedState)&&(rt=!0,z&&(l=ul,l!==null)))throw l;e.memoizedState=p,e.baseState=x,e.baseQueue=b,a.lastRenderedState=p}return m===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Lu(e){var t=it(),l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var a=l.dispatch,m=l.pending,p=t.memoizedState;if(m!==null){l.pending=null;var x=m=m.next;do p=e(p,x.action),x=x.next;while(x!==m);$t(p,t.memoizedState)||(rt=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),l.lastRenderedState=p}return[p,a]}function uf(e,t,l){var a=ve,m=it(),p=we;if(p){if(l===void 0)throw Error(s(407));l=l()}else l=t();var x=!$t((Be||m).memoizedState,l);if(x&&(m.memoizedState=l,rt=!0),m=m.queue,Hu(ff.bind(null,a,m,e),[e]),m.getSnapshot!==t||x||at!==null&&at.memoizedState.tag&1){if(a.flags|=2048,hl(9,{destroy:void 0},df.bind(null,a,m,l,t),null),Je===null)throw Error(s(349));p||(jn&127)!==0||cf(a,t,l)}return l}function cf(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=ve.updateQueue,t===null?(t=Na(),ve.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function df(e,t,l,a){t.value=l,t.getSnapshot=a,mf(t)&&pf(e)}function ff(e,t,l){return l(function(){mf(t)&&pf(e)})}function mf(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!$t(e,l)}catch{return!0}}function pf(e){var t=_o(e,2);t!==null&&Qt(t,e,2)}function ku(e){var t=Vt();if(typeof e=="function"){var l=e;if(e=l(),Io){ln(!0);try{l()}finally{ln(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:e},t}function hf(e,t,l,a){return e.baseState=l,Uu(e,Be,typeof a=="function"?a:ei)}function H0(e,t,l,a,m){if(Da(e))throw Error(s(485));if(e=t.action,e!==null){var p={payload:m,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){p.listeners.push(x)}};q.T!==null?l(!0):p.isTransition=!1,a(p),l=t.pending,l===null?(p.next=t.pending=p,gf(t,p)):(p.next=l.next,t.pending=l.next=p)}}function gf(e,t){var l=t.action,a=t.payload,m=e.state;if(t.isTransition){var p=q.T,x={};q.T=x;try{var C=l(m,a),b=q.S;b!==null&&b(x,C),vf(e,t,C)}catch(k){Gu(e,t,k)}finally{p!==null&&x.types!==null&&(p.types=x.types),q.T=p}}else try{p=l(m,a),vf(e,t,p)}catch(k){Gu(e,t,k)}}function vf(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){yf(e,t,a)},function(a){return Gu(e,t,a)}):yf(e,t,l)}function yf(e,t,l){t.status="fulfilled",t.value=l,Sf(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,gf(e,l)))}function Gu(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,Sf(t),t=t.next;while(t!==a)}e.action=null}function Sf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function xf(e,t){return t}function Tf(e,t){if(we){var l=Je.formState;if(l!==null){e:{var a=ve;if(we){if(Ke){t:{for(var m=Ke,p=pn;m.nodeType!==8;){if(!p){m=null;break t}if(m=gn(m.nextSibling),m===null){m=null;break t}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){Ke=gn(m.nextSibling),a=m.data==="F!";break e}}Ii(a)}a=!1}a&&(t=l[0])}}return l=Vt(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xf,lastRenderedState:t},l.queue=a,l=qf.bind(null,ve,a),a.dispatch=l,a=ku(!1),p=Bu.bind(null,ve,!1,a.queue),a=Vt(),m={state:t,dispatch:null,action:e,pending:null},a.queue=m,l=H0.bind(null,ve,m,p,l),m.dispatch=l,a.memoizedState=e,[t,l,!1]}function _f(e){var t=it();return Ef(t,Be,e)}function Ef(e,t,l){if(t=Uu(e,t,xf)[0],e=Ra(ei)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=us(t)}catch(x){throw x===cl?Sa:x}else a=t;t=it();var m=t.queue,p=m.dispatch;return l!==t.memoizedState&&(ve.flags|=2048,hl(9,{destroy:void 0},P0.bind(null,m,l),null)),[a,p,e]}function P0(e,t){e.action=t}function Cf(e){var t=it(),l=Be;if(l!==null)return Ef(t,l,e);it(),t=t.memoizedState,l=it();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function hl(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=ve.updateQueue,t===null&&(t=Na(),ve.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function Af(){return it().memoizedState}function wa(e,t,l,a){var m=Vt();ve.flags|=e,m.memoizedState=hl(1|t,{destroy:void 0},l,a===void 0?null:a)}function Ia(e,t,l,a){var m=it();a=a===void 0?null:a;var p=m.memoizedState.inst;Be!==null&&a!==null&&Nu(a,Be.memoizedState.deps)?m.memoizedState=hl(t,p,l,a):(ve.flags|=e,m.memoizedState=hl(1|t,p,l,a))}function bf(e,t){wa(8390656,8,e,t)}function Hu(e,t){Ia(2048,8,e,t)}function V0(e){ve.flags|=4;var t=ve.updateQueue;if(t===null)t=Na(),ve.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Nf(e){var t=it().memoizedState;return V0({ref:t,nextImpl:e}),function(){if((Pe&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Mf(e,t){return Ia(4,2,e,t)}function Rf(e,t){return Ia(4,4,e,t)}function wf(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function If(e,t,l){l=l!=null?l.concat([e]):null,Ia(4,4,wf.bind(null,t,e),l)}function Pu(){}function Df(e,t){var l=it();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&Nu(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Uf(e,t){var l=it();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&Nu(t,a[1]))return a[0];if(a=e(),Io){ln(!0);try{e()}finally{ln(!1)}}return l.memoizedState=[a,t],a}function Vu(e,t,l){return l===void 0||(jn&1073741824)!==0&&(be&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Lm(),ve.lanes|=e,qi|=e,l)}function Lf(e,t,l,a){return $t(l,t)?l:fl.current!==null?(e=Vu(e,l,a),$t(e,t)||(rt=!0),e):(jn&42)===0||(jn&1073741824)!==0&&(be&261930)===0?(rt=!0,e.memoizedState=l):(e=Lm(),ve.lanes|=e,qi|=e,t)}function kf(e,t,l,a,m){var p=Z.p;Z.p=p!==0&&8>p?p:8;var x=q.T,C={};q.T=C,Bu(e,!1,t,l);try{var b=m(),k=q.S;if(k!==null&&k(C,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var z=L0(b,a);cs(e,t,z,on(e))}else cs(e,t,a,on(e))}catch(F){cs(e,t,{then:function(){},status:"rejected",reason:F},on())}finally{Z.p=p,x!==null&&C.types!==null&&(x.types=C.types),q.T=x}}function q0(){}function qu(e,t,l,a){if(e.tag!==5)throw Error(s(476));var m=Gf(e).queue;kf(e,m,t,re,l===null?q0:function(){return Hf(e),l(a)})}function Gf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:re},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Hf(e){var t=Gf(e);t.next===null&&(t=e.alternate.memoizedState),cs(e,t.next.queue,{},on())}function zu(){return _t(Ns)}function Pf(){return it().memoizedState}function Vf(){return it().memoizedState}function z0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=on();e=Li(l);var a=ki(t,e,l);a!==null&&(Qt(a,t,l),ls(a,t,l)),t={cache:gu()},e.payload=t;return}t=t.return}}function B0(e,t,l){var a=on();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Da(e)?zf(t,l):(l=lu(e,t,l,a),l!==null&&(Qt(l,e,a),Bf(l,t,a)))}function qf(e,t,l){var a=on();cs(e,t,l,a)}function cs(e,t,l,a){var m={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Da(e))zf(t,m);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var x=t.lastRenderedState,C=p(x,l);if(m.hasEagerState=!0,m.eagerState=C,$t(C,x))return fa(e,t,m,0),Je===null&&da(),!1}catch{}if(l=lu(e,t,m,a),l!==null)return Qt(l,e,a),Bf(l,t,a),!0}return!1}function Bu(e,t,l,a){if(a={lane:2,revertLane:xc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Da(e)){if(t)throw Error(s(479))}else t=lu(e,l,a,2),t!==null&&Qt(t,e,2)}function Da(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function zf(e,t){ml=Aa=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Bf(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,hi(e,l)}}var ds={readContext:_t,use:Ma,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et};ds.useEffectEvent=et;var Of={readContext:_t,use:Ma,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:bf,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,wa(4194308,4,wf.bind(null,t,e),l)},useLayoutEffect:function(e,t){return wa(4194308,4,e,t)},useInsertionEffect:function(e,t){wa(4,2,e,t)},useMemo:function(e,t){var l=Vt();t=t===void 0?null:t;var a=e();if(Io){ln(!0);try{e()}finally{ln(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=Vt();if(l!==void 0){var m=l(t);if(Io){ln(!0);try{l(t)}finally{ln(!1)}}}else m=t;return a.memoizedState=a.baseState=m,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:m},a.queue=e,e=e.dispatch=B0.bind(null,ve,e),[a.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:function(e){e=ku(e);var t=e.queue,l=qf.bind(null,ve,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Pu,useDeferredValue:function(e,t){var l=Vt();return Vu(l,e,t)},useTransition:function(){var e=ku(!1);return e=kf.bind(null,ve,e.queue,!0,!1),Vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=ve,m=Vt();if(we){if(l===void 0)throw Error(s(407));l=l()}else{if(l=t(),Je===null)throw Error(s(349));(be&127)!==0||cf(a,t,l)}m.memoizedState=l;var p={value:l,getSnapshot:t};return m.queue=p,bf(ff.bind(null,a,p,e),[e]),a.flags|=2048,hl(9,{destroy:void 0},df.bind(null,a,p,l,t),null),l},useId:function(){var e=Vt(),t=Je.identifierPrefix;if(we){var l=qn,a=Vn;l=(a&~(1<<32-Ut(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=ba++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=k0++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:zu,useFormState:Tf,useActionState:Tf,useOptimistic:function(e){var t=Vt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Bu.bind(null,ve,!0,l),l.dispatch=t,[e,t]},useMemoCache:Du,useCacheRefresh:function(){return Vt().memoizedState=z0.bind(null,ve)},useEffectEvent:function(e){var t=Vt(),l={impl:e};return t.memoizedState=l,function(){if((Pe&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},Ou={readContext:_t,use:Ma,useCallback:Df,useContext:_t,useEffect:Hu,useImperativeHandle:If,useInsertionEffect:Mf,useLayoutEffect:Rf,useMemo:Uf,useReducer:Ra,useRef:Af,useState:function(){return Ra(ei)},useDebugValue:Pu,useDeferredValue:function(e,t){var l=it();return Lf(l,Be.memoizedState,e,t)},useTransition:function(){var e=Ra(ei)[0],t=it().memoizedState;return[typeof e=="boolean"?e:us(e),t]},useSyncExternalStore:uf,useId:Pf,useHostTransitionStatus:zu,useFormState:_f,useActionState:_f,useOptimistic:function(e,t){var l=it();return hf(l,Be,e,t)},useMemoCache:Du,useCacheRefresh:Vf};Ou.useEffectEvent=Nf;var Ff={readContext:_t,use:Ma,useCallback:Df,useContext:_t,useEffect:Hu,useImperativeHandle:If,useInsertionEffect:Mf,useLayoutEffect:Rf,useMemo:Uf,useReducer:Lu,useRef:Af,useState:function(){return Lu(ei)},useDebugValue:Pu,useDeferredValue:function(e,t){var l=it();return Be===null?Vu(l,e,t):Lf(l,Be.memoizedState,e,t)},useTransition:function(){var e=Lu(ei)[0],t=it().memoizedState;return[typeof e=="boolean"?e:us(e),t]},useSyncExternalStore:uf,useId:Pf,useHostTransitionStatus:zu,useFormState:Cf,useActionState:Cf,useOptimistic:function(e,t){var l=it();return Be!==null?hf(l,Be,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Du,useCacheRefresh:Vf};Ff.useEffectEvent=Nf;function Fu(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:T({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Ju={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=on(),m=Li(a);m.payload=t,l!=null&&(m.callback=l),t=ki(e,m,a),t!==null&&(Qt(t,e,a),ls(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=on(),m=Li(a);m.tag=1,m.payload=t,l!=null&&(m.callback=l),t=ki(e,m,a),t!==null&&(Qt(t,e,a),ls(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=on(),a=Li(l);a.tag=2,t!=null&&(a.callback=t),t=ki(e,a,l),t!==null&&(Qt(t,e,l),ls(t,e,l))}};function Jf(e,t,l,a,m,p,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,p,x):t.prototype&&t.prototype.isPureReactComponent?!$l(l,a)||!$l(m,p):!0}function Yf(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&Ju.enqueueReplaceState(t,t.state,null)}function Do(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=T({},l));for(var m in e)l[m]===void 0&&(l[m]=e[m])}return l}function Kf(e){ca(e)}function Xf(e){console.error(e)}function Qf(e){ca(e)}function Ua(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Zf(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Yu(e,t,l){return l=Li(l),l.tag=3,l.payload={element:null},l.callback=function(){Ua(e,t)},l}function $f(e){return e=Li(e),e.tag=3,e}function Wf(e,t,l,a){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var p=a.value;e.payload=function(){return m(p)},e.callback=function(){Zf(t,l,a)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){Zf(t,l,a),typeof m!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})})}function O0(e,t,l,a,m){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&al(t,l,m,!0),l=jt.current,l!==null){switch(l.tag){case 31:case 13:return hn===null?Ja():l.alternate===null&&tt===0&&(tt=3),l.flags&=-257,l.flags|=65536,l.lanes=m,a===xa?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),vc(e,a,m)),!1;case 22:return l.flags|=65536,a===xa?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),vc(e,a,m)),!1}throw Error(s(435,l.tag))}return vc(e,a,m),Ja(),!1}if(we)return t=jt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=m,a!==du&&(e=Error(s(422),{cause:a}),es(dn(e,l)))):(a!==du&&(t=Error(s(423),{cause:a}),es(dn(t,l))),e=e.current.alternate,e.flags|=65536,m&=-m,e.lanes|=m,a=dn(a,l),m=Yu(e.stateNode,a,m),_u(e,m),tt!==4&&(tt=2)),!1;var p=Error(s(520),{cause:a});if(p=dn(p,l),Ss===null?Ss=[p]:Ss.push(p),tt!==4&&(tt=2),t===null)return!0;a=dn(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=m&-m,l.lanes|=e,e=Yu(l.stateNode,a,e),_u(l,e),!1;case 1:if(t=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(zi===null||!zi.has(p))))return l.flags|=65536,m&=-m,l.lanes|=m,m=$f(m),Wf(m,e,l,a),_u(l,m),!1}l=l.return}while(l!==null);return!1}var Ku=Error(s(461)),rt=!1;function Et(e,t,l,a){t.child=e===null?tf(t,null,l,a):wo(t,e.child,l,a)}function jf(e,t,l,a,m){l=l.render;var p=t.ref;if("ref"in a){var x={};for(var C in a)C!=="ref"&&(x[C]=a[C])}else x=a;return bo(t),a=Mu(e,t,l,x,p,m),C=Ru(),e!==null&&!rt?(wu(e,t,m),ti(e,t,m)):(we&&C&&uu(t),t.flags|=1,Et(e,t,a,m),t.child)}function em(e,t,l,a,m){if(e===null){var p=l.type;return typeof p=="function"&&!su(p)&&p.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=p,tm(e,t,p,a,m)):(e=pa(l.type,null,a,t,t.mode,m),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,!tc(e,m)){var x=p.memoizedProps;if(l=l.compare,l=l!==null?l:$l,l(x,a)&&e.ref===t.ref)return ti(e,t,m)}return t.flags|=1,e=Qn(p,a),e.ref=t.ref,e.return=t,t.child=e}function tm(e,t,l,a,m){if(e!==null){var p=e.memoizedProps;if($l(p,a)&&e.ref===t.ref)if(rt=!1,t.pendingProps=a=p,tc(e,m))(e.flags&131072)!==0&&(rt=!0);else return t.lanes=e.lanes,ti(e,t,m)}return Xu(e,t,l,a,m)}function nm(e,t,l,a){var m=a.children,p=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,e!==null){for(a=t.child=e.child,m=0;a!==null;)m=m|a.lanes|a.childLanes,a=a.sibling;a=m&~p}else a=0,t.child=null;return im(e,t,p,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ya(t,p!==null?p.cachePool:null),p!==null?lf(t,p):Cu(),sf(t);else return a=t.lanes=536870912,im(e,t,p!==null?p.baseLanes|l:l,l,a)}else p!==null?(ya(t,p.cachePool),lf(t,p),Hi(),t.memoizedState=null):(e!==null&&ya(t,null),Cu(),Hi());return Et(e,t,m,l),t.child}function fs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function im(e,t,l,a,m){var p=yu();return p=p===null?null:{parent:st._currentValue,pool:p},t.memoizedState={baseLanes:l,cachePool:p},e!==null&&ya(t,null),Cu(),sf(t),e!==null&&al(e,t,a,!0),t.childLanes=m,null}function La(e,t){return t=Ga({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function om(e,t,l){return wo(t,e.child,null,l),e=La(t,t.pendingProps),e.flags|=2,en(t),t.memoizedState=null,e}function F0(e,t,l){var a=t.pendingProps,m=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(we){if(a.mode==="hidden")return e=La(t,a),t.lanes=536870912,fs(null,e);if(bu(t),(e=Ke)?(e=gp(e,pn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ri!==null?{id:Vn,overflow:qn}:null,retryLane:536870912,hydrationErrors:null},l=qd(e),l.return=t,t.child=l,Tt=t,Ke=null)):e=null,e===null)throw Ii(t);return t.lanes=536870912,null}return La(t,a)}var p=e.memoizedState;if(p!==null){var x=p.dehydrated;if(bu(t),m)if(t.flags&256)t.flags&=-257,t=om(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(rt||al(e,t,l,!1),m=(l&e.childLanes)!==0,rt||m){if(a=Je,a!==null&&(x=Fs(a,l),x!==0&&x!==p.retryLane))throw p.retryLane=x,_o(e,x),Qt(a,e,x),Ku;Ja(),t=om(e,t,l)}else e=p.treeContext,Ke=gn(x.nextSibling),Tt=t,we=!0,wi=null,pn=!1,e!==null&&Od(t,e),t=La(t,a),t.flags|=4096;return t}return e=Qn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ka(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Xu(e,t,l,a,m){return bo(t),l=Mu(e,t,l,a,void 0,m),a=Ru(),e!==null&&!rt?(wu(e,t,m),ti(e,t,m)):(we&&a&&uu(t),t.flags|=1,Et(e,t,l,m),t.child)}function lm(e,t,l,a,m,p){return bo(t),t.updateQueue=null,l=rf(t,a,l,m),af(e),a=Ru(),e!==null&&!rt?(wu(e,t,p),ti(e,t,p)):(we&&a&&uu(t),t.flags|=1,Et(e,t,l,p),t.child)}function sm(e,t,l,a,m){if(bo(t),t.stateNode===null){var p=il,x=l.contextType;typeof x=="object"&&x!==null&&(p=_t(x)),p=new l(a,p),t.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ju,t.stateNode=p,p._reactInternals=t,p=t.stateNode,p.props=a,p.state=t.memoizedState,p.refs={},xu(t),x=l.contextType,p.context=typeof x=="object"&&x!==null?_t(x):il,p.state=t.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Fu(t,l,x,a),p.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(x=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),x!==p.state&&Ju.enqueueReplaceState(p,p.state,null),as(t,a,p,m),ss(),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){p=t.stateNode;var C=t.memoizedProps,b=Do(l,C);p.props=b;var k=p.context,z=l.contextType;x=il,typeof z=="object"&&z!==null&&(x=_t(z));var F=l.getDerivedStateFromProps;z=typeof F=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=t.pendingProps!==C,z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||k!==x)&&Yf(t,p,a,x),Ui=!1;var G=t.memoizedState;p.state=G,as(t,a,p,m),ss(),k=t.memoizedState,C||G!==k||Ui?(typeof F=="function"&&(Fu(t,l,F,a),k=t.memoizedState),(b=Ui||Jf(t,l,b,a,G,k,x))?(z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=k),p.props=a,p.state=k,p.context=x,a=b):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{p=t.stateNode,Tu(e,t),x=t.memoizedProps,z=Do(l,x),p.props=z,F=t.pendingProps,G=p.context,k=l.contextType,b=il,typeof k=="object"&&k!==null&&(b=_t(k)),C=l.getDerivedStateFromProps,(k=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x!==F||G!==b)&&Yf(t,p,a,b),Ui=!1,G=t.memoizedState,p.state=G,as(t,a,p,m),ss();var P=t.memoizedState;x!==F||G!==P||Ui||e!==null&&e.dependencies!==null&&ga(e.dependencies)?(typeof C=="function"&&(Fu(t,l,C,a),P=t.memoizedState),(z=Ui||Jf(t,l,z,a,G,P,b)||e!==null&&e.dependencies!==null&&ga(e.dependencies))?(k||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,P,b),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,P,b)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||x===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=P),p.props=a,p.state=P,p.context=b,a=z):(typeof p.componentDidUpdate!="function"||x===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),a=!1)}return p=a,ka(e,t),a=(t.flags&128)!==0,p||a?(p=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:p.render(),t.flags|=1,e!==null&&a?(t.child=wo(t,e.child,null,m),t.child=wo(t,null,l,m)):Et(e,t,l,m),t.memoizedState=p.state,e=t.child):e=ti(e,t,m),e}function am(e,t,l,a){return Co(),t.flags|=256,Et(e,t,l,a),t.child}var Qu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zu(e){return{baseLanes:e,cachePool:Qd()}}function $u(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=nn),e}function rm(e,t,l){var a=t.pendingProps,m=!1,p=(t.flags&128)!==0,x;if((x=p)||(x=e!==null&&e.memoizedState===null?!1:(nt.current&2)!==0),x&&(m=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(we){if(m?Gi(t):Hi(),(e=Ke)?(e=gp(e,pn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ri!==null?{id:Vn,overflow:qn}:null,retryLane:536870912,hydrationErrors:null},l=qd(e),l.return=t,t.child=l,Tt=t,Ke=null)):e=null,e===null)throw Ii(t);return Uc(e)?t.lanes=32:t.lanes=536870912,null}var C=a.children;return a=a.fallback,m?(Hi(),m=t.mode,C=Ga({mode:"hidden",children:C},m),a=Eo(a,m,l,null),C.return=t,a.return=t,C.sibling=a,t.child=C,a=t.child,a.memoizedState=Zu(l),a.childLanes=$u(e,x,l),t.memoizedState=Qu,fs(null,a)):(Gi(t),Wu(t,C))}var b=e.memoizedState;if(b!==null&&(C=b.dehydrated,C!==null)){if(p)t.flags&256?(Gi(t),t.flags&=-257,t=ju(e,t,l)):t.memoizedState!==null?(Hi(),t.child=e.child,t.flags|=128,t=null):(Hi(),C=a.fallback,m=t.mode,a=Ga({mode:"visible",children:a.children},m),C=Eo(C,m,l,null),C.flags|=2,a.return=t,C.return=t,a.sibling=C,t.child=a,wo(t,e.child,null,l),a=t.child,a.memoizedState=Zu(l),a.childLanes=$u(e,x,l),t.memoizedState=Qu,t=fs(null,a));else if(Gi(t),Uc(C)){if(x=C.nextSibling&&C.nextSibling.dataset,x)var k=x.dgst;x=k,a=Error(s(419)),a.stack="",a.digest=x,es({value:a,source:null,stack:null}),t=ju(e,t,l)}else if(rt||al(e,t,l,!1),x=(l&e.childLanes)!==0,rt||x){if(x=Je,x!==null&&(a=Fs(x,l),a!==0&&a!==b.retryLane))throw b.retryLane=a,_o(e,a),Qt(x,e,a),Ku;Dc(C)||Ja(),t=ju(e,t,l)}else Dc(C)?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,Ke=gn(C.nextSibling),Tt=t,we=!0,wi=null,pn=!1,e!==null&&Od(t,e),t=Wu(t,a.children),t.flags|=4096);return t}return m?(Hi(),C=a.fallback,m=t.mode,b=e.child,k=b.sibling,a=Qn(b,{mode:"hidden",children:a.children}),a.subtreeFlags=b.subtreeFlags&65011712,k!==null?C=Qn(k,C):(C=Eo(C,m,l,null),C.flags|=2),C.return=t,a.return=t,a.sibling=C,t.child=a,fs(null,a),a=t.child,C=e.child.memoizedState,C===null?C=Zu(l):(m=C.cachePool,m!==null?(b=st._currentValue,m=m.parent!==b?{parent:b,pool:b}:m):m=Qd(),C={baseLanes:C.baseLanes|l,cachePool:m}),a.memoizedState=C,a.childLanes=$u(e,x,l),t.memoizedState=Qu,fs(e.child,a)):(Gi(t),l=e.child,e=l.sibling,l=Qn(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=l,t.memoizedState=null,l)}function Wu(e,t){return t=Ga({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ga(e,t){return e=Wt(22,e,null,t),e.lanes=0,e}function ju(e,t,l){return wo(t,e.child,null,l),e=Wu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function um(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),pu(e.return,t,l)}function ec(e,t,l,a,m,p){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:m,treeForkCount:p}:(x.isBackwards=t,x.rendering=null,x.renderingStartTime=0,x.last=a,x.tail=l,x.tailMode=m,x.treeForkCount=p)}function cm(e,t,l){var a=t.pendingProps,m=a.revealOrder,p=a.tail;a=a.children;var x=nt.current,C=(x&2)!==0;if(C?(x=x&1|2,t.flags|=128):x&=1,ee(nt,x),Et(e,t,a,l),a=we?jl:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&um(e,l,t);else if(e.tag===19)um(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(m){case"forwards":for(l=t.child,m=null;l!==null;)e=l.alternate,e!==null&&Ca(e)===null&&(m=l),l=l.sibling;l=m,l===null?(m=t.child,t.child=null):(m=l.sibling,l.sibling=null),ec(t,!1,m,l,p,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=t.child,t.child=null;m!==null;){if(e=m.alternate,e!==null&&Ca(e)===null){t.child=m;break}e=m.sibling,m.sibling=l,l=m,m=e}ec(t,!0,l,null,p,a);break;case"together":ec(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ti(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),qi|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(al(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,l=Qn(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Qn(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function tc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ga(e)))}function J0(e,t,l){switch(t.tag){case 3:ot(t,t.stateNode.containerInfo),Di(t,st,e.memoizedState.cache),Co();break;case 27:case 5:ct(t);break;case 4:ot(t,t.stateNode.containerInfo);break;case 10:Di(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,bu(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Gi(t),t.flags|=128,null):(l&t.child.childLanes)!==0?rm(e,t,l):(Gi(t),e=ti(e,t,l),e!==null?e.sibling:null);Gi(t);break;case 19:var m=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(al(e,t,l,!1),a=(l&t.childLanes)!==0),m){if(a)return cm(e,t,l);t.flags|=128}if(m=t.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ee(nt,nt.current),a)break;return null;case 22:return t.lanes=0,nm(e,t,l,t.pendingProps);case 24:Di(t,st,e.memoizedState.cache)}return ti(e,t,l)}function dm(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)rt=!0;else{if(!tc(e,l)&&(t.flags&128)===0)return rt=!1,J0(e,t,l);rt=(e.flags&131072)!==0}else rt=!1,we&&(t.flags&1048576)!==0&&Bd(t,jl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Mo(t.elementType),t.type=e,typeof e=="function")su(e)?(a=Do(e,a),t.tag=1,t=sm(null,t,e,a,l)):(t.tag=0,t=Xu(null,t,e,a,l));else{if(e!=null){var m=e.$$typeof;if(m===$){t.tag=11,t=jf(null,t,e,a,l);break e}else if(m===W){t.tag=14,t=em(null,t,e,a,l);break e}}throw t=Ve(e)||e,Error(s(306,t,""))}}return t;case 0:return Xu(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,m=Do(a,t.pendingProps),sm(e,t,a,m,l);case 3:e:{if(ot(t,t.stateNode.containerInfo),e===null)throw Error(s(387));a=t.pendingProps;var p=t.memoizedState;m=p.element,Tu(e,t),as(t,a,null,l);var x=t.memoizedState;if(a=x.cache,Di(t,st,a),a!==p.cache&&hu(t,[st],l,!0),ss(),a=x.element,p.isDehydrated)if(p={element:a,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){t=am(e,t,a,l);break e}else if(a!==m){m=dn(Error(s(424)),t),es(m),t=am(e,t,a,l);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ke=gn(e.firstChild),Tt=t,we=!0,wi=null,pn=!0,l=tf(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Co(),a===m){t=ti(e,t,l);break e}Et(e,t,a,l)}t=t.child}return t;case 26:return ka(e,t),e===null?(l=_p(t.type,null,t.pendingProps,null))?t.memoizedState=l:we||(l=t.type,e=t.pendingProps,a=Wa(ye.current).createElement(l),a[We]=t,a[St]=e,Ct(a,l,e),$e(a),t.stateNode=a):t.memoizedState=_p(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ct(t),e===null&&we&&(a=t.stateNode=Sp(t.type,t.pendingProps,ye.current),Tt=t,pn=!0,m=Ke,Ji(t.type)?(Lc=m,Ke=gn(a.firstChild)):Ke=m),Et(e,t,t.pendingProps.children,l),ka(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&we&&((m=a=Ke)&&(a=Tv(a,t.type,t.pendingProps,pn),a!==null?(t.stateNode=a,Tt=t,Ke=gn(a.firstChild),pn=!1,m=!0):m=!1),m||Ii(t)),ct(t),m=t.type,p=t.pendingProps,x=e!==null?e.memoizedProps:null,a=p.children,Rc(m,p)?a=null:x!==null&&Rc(m,x)&&(t.flags|=32),t.memoizedState!==null&&(m=Mu(e,t,G0,null,null,l),Ns._currentValue=m),ka(e,t),Et(e,t,a,l),t.child;case 6:return e===null&&we&&((e=l=Ke)&&(l=_v(l,t.pendingProps,pn),l!==null?(t.stateNode=l,Tt=t,Ke=null,e=!0):e=!1),e||Ii(t)),null;case 13:return rm(e,t,l);case 4:return ot(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=wo(t,null,a,l):Et(e,t,a,l),t.child;case 11:return jf(e,t,t.type,t.pendingProps,l);case 7:return Et(e,t,t.pendingProps,l),t.child;case 8:return Et(e,t,t.pendingProps.children,l),t.child;case 12:return Et(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,Di(t,t.type,a.value),Et(e,t,a.children,l),t.child;case 9:return m=t.type._context,a=t.pendingProps.children,bo(t),m=_t(m),a=a(m),t.flags|=1,Et(e,t,a,l),t.child;case 14:return em(e,t,t.type,t.pendingProps,l);case 15:return tm(e,t,t.type,t.pendingProps,l);case 19:return cm(e,t,l);case 31:return F0(e,t,l);case 22:return nm(e,t,l,t.pendingProps);case 24:return bo(t),a=_t(st),e===null?(m=yu(),m===null&&(m=Je,p=gu(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=l),m=p),t.memoizedState={parent:a,cache:m},xu(t),Di(t,st,m)):((e.lanes&l)!==0&&(Tu(e,t),as(t,null,null,l),ss()),m=e.memoizedState,p=t.memoizedState,m.parent!==a?(m={parent:a,cache:a},t.memoizedState=m,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=m),Di(t,st,a)):(a=p.cache,Di(t,st,a),a!==m.cache&&hu(t,[st],l,!0))),Et(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function ni(e){e.flags|=4}function nc(e,t,l,a,m){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(m&335544128)===m)if(e.stateNode.complete)e.flags|=8192;else if(Pm())e.flags|=8192;else throw Ro=xa,Su}else e.flags&=-16777217}function fm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Np(t))if(Pm())e.flags|=8192;else throw Ro=xa,Su}function Ha(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Os():536870912,e.lanes|=t,Sl|=t)}function ms(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var m=e.child;m!==null;)l|=m.lanes|m.childLanes,a|=m.subtreeFlags&65011712,a|=m.flags&65011712,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)l|=m.lanes|m.childLanes,a|=m.subtreeFlags,a|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function Y0(e,t,l){var a=t.pendingProps;switch(cu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return Xe(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Wn(st),Ye(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(sl(t)?ni(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,fu())),Xe(t),null;case 26:var m=t.type,p=t.memoizedState;return e===null?(ni(t),p!==null?(Xe(t),fm(t,p)):(Xe(t),nc(t,m,null,a,l))):p?p!==e.memoizedState?(ni(t),Xe(t),fm(t,p)):(Xe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&ni(t),Xe(t),nc(t,m,e,a,l)),null;case 27:if(On(t),l=ye.current,m=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ni(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Xe(t),null}e=le.current,sl(t)?Fd(t):(e=Sp(m,a,l),t.stateNode=e,ni(t))}return Xe(t),null;case 5:if(On(t),m=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&ni(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Xe(t),null}if(p=le.current,sl(t))Fd(t);else{var x=Wa(ye.current);switch(p){case 1:p=x.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=x.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=x.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof a.is=="string"?x.createElement("select",{is:a.is}):x.createElement("select"),a.multiple?p.multiple=!0:a.size&&(p.size=a.size);break;default:p=typeof a.is=="string"?x.createElement(m,{is:a.is}):x.createElement(m)}}p[We]=t,p[St]=a;e:for(x=t.child;x!==null;){if(x.tag===5||x.tag===6)p.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}t.stateNode=p;e:switch(Ct(p,m,a),m){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ni(t)}}return Xe(t),nc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&ni(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(e=ye.current,sl(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,m=Tt,m!==null)switch(m.tag){case 27:case 5:a=m.memoizedProps}e[We]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||rp(e.nodeValue,l)),e||Ii(t,!0)}else e=Wa(e).createTextNode(a),e[We]=t,t.stateNode=e}return Xe(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=sl(t),l!==null){if(e===null){if(!a)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[We]=t}else Co(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),e=!1}else l=fu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(en(t),t):(en(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Xe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(m=sl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!m)throw Error(s(318));if(m=t.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[We]=t}else Co(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Xe(t),m=!1}else m=fu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=m),m=!0;if(!m)return t.flags&256?(en(t),t):(en(t),null)}return en(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,m=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(m=a.alternate.memoizedState.cachePool.pool),p=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),p!==m&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Ha(t,t.updateQueue),Xe(t),null);case 4:return Ye(),e===null&&Cc(t.stateNode.containerInfo),Xe(t),null;case 10:return Wn(t.type),Xe(t),null;case 19:if(J(nt),a=t.memoizedState,a===null)return Xe(t),null;if(m=(t.flags&128)!==0,p=a.rendering,p===null)if(m)ms(a,!1);else{if(tt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Ca(e),p!==null){for(t.flags|=128,ms(a,!1),e=p.updateQueue,t.updateQueue=e,Ha(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Vd(l,e),l=l.sibling;return ee(nt,nt.current&1|2),we&&Zn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&dt()>Ba&&(t.flags|=128,m=!0,ms(a,!1),t.lanes=4194304)}else{if(!m)if(e=Ca(p),e!==null){if(t.flags|=128,m=!0,e=e.updateQueue,t.updateQueue=e,Ha(t,e),ms(a,!0),a.tail===null&&a.tailMode==="hidden"&&!p.alternate&&!we)return Xe(t),null}else 2*dt()-a.renderingStartTime>Ba&&l!==536870912&&(t.flags|=128,m=!0,ms(a,!1),t.lanes=4194304);a.isBackwards?(p.sibling=t.child,t.child=p):(e=a.last,e!==null?e.sibling=p:t.child=p,a.last=p)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=dt(),e.sibling=null,l=nt.current,ee(nt,m?l&1|2:l&1),we&&Zn(t,a.treeForkCount),e):(Xe(t),null);case 22:case 23:return en(t),Au(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),l=t.updateQueue,l!==null&&Ha(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&J(No),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Wn(st),Xe(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function K0(e,t){switch(cu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wn(st),Ye(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return On(t),null;case 31:if(t.memoizedState!==null){if(en(t),t.alternate===null)throw Error(s(340));Co()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(en(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Co()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(nt),null;case 4:return Ye(),null;case 10:return Wn(t.type),null;case 22:case 23:return en(t),Au(),e!==null&&J(No),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Wn(st),null;case 25:return null;default:return null}}function mm(e,t){switch(cu(t),t.tag){case 3:Wn(st),Ye();break;case 26:case 27:case 5:On(t);break;case 4:Ye();break;case 31:t.memoizedState!==null&&en(t);break;case 13:en(t);break;case 19:J(nt);break;case 10:Wn(t.type);break;case 22:case 23:en(t),Au(),e!==null&&J(No);break;case 24:Wn(st)}}function ps(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var m=a.next;l=m;do{if((l.tag&e)===e){a=void 0;var p=l.create,x=l.inst;a=p(),x.destroy=a}l=l.next}while(l!==m)}}catch(C){ze(t,t.return,C)}}function Pi(e,t,l){try{var a=t.updateQueue,m=a!==null?a.lastEffect:null;if(m!==null){var p=m.next;a=p;do{if((a.tag&e)===e){var x=a.inst,C=x.destroy;if(C!==void 0){x.destroy=void 0,m=t;var b=l,k=C;try{k()}catch(z){ze(m,b,z)}}}a=a.next}while(a!==p)}}catch(z){ze(t,t.return,z)}}function pm(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{of(t,l)}catch(a){ze(e,e.return,a)}}}function hm(e,t,l){l.props=Do(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){ze(e,t,a)}}function hs(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(m){ze(e,t,m)}}function zn(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(m){ze(e,t,m)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){ze(e,t,m)}else l.current=null}function gm(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(m){ze(e,e.return,m)}}function ic(e,t,l){try{var a=e.stateNode;hv(a,e.type,l,t),a[St]=t}catch(m){ze(e,e.return,m)}}function vm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ji(e.type)||e.tag===4}function oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ji(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lc(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Nt));else if(a!==4&&(a===27&&Ji(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(lc(e,t,l),e=e.sibling;e!==null;)lc(e,t,l),e=e.sibling}function Pa(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&Ji(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Pa(e,t,l),e=e.sibling;e!==null;)Pa(e,t,l),e=e.sibling}function ym(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,m=t.attributes;m.length;)t.removeAttributeNode(m[0]);Ct(t,a,l),t[We]=e,t[St]=l}catch(p){ze(e,e.return,p)}}var ii=!1,ut=!1,sc=!1,Sm=typeof WeakSet=="function"?WeakSet:Set,vt=null;function X0(e,t){if(e=e.containerInfo,Nc=lr,e=wd(e),jr(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var m=a.anchorOffset,p=a.focusNode;a=a.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var x=0,C=-1,b=-1,k=0,z=0,F=e,G=null;t:for(;;){for(var P;F!==l||m!==0&&F.nodeType!==3||(C=x+m),F!==p||a!==0&&F.nodeType!==3||(b=x+a),F.nodeType===3&&(x+=F.nodeValue.length),(P=F.firstChild)!==null;)G=F,F=P;for(;;){if(F===e)break t;if(G===l&&++k===m&&(C=x),G===p&&++z===a&&(b=x),(P=F.nextSibling)!==null)break;F=G,G=F.parentNode}F=P}l=C===-1||b===-1?null:{start:C,end:b}}else l=null}l=l||{start:0,end:0}}else l=null;for(Mc={focusedElem:e,selectionRange:l},lr=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){switch(t=vt,p=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)m=e[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,l=t,m=p.memoizedProps,p=p.memoizedState,a=l.stateNode;try{var se=Do(l.type,m);e=a.getSnapshotBeforeUpdate(se,p),a.__reactInternalSnapshotBeforeUpdate=e}catch(fe){ze(l,l.return,fe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Ic(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ic(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}}function xm(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:li(e,l),a&4&&ps(5,l);break;case 1:if(li(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(x){ze(l,l.return,x)}else{var m=Do(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(m,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){ze(l,l.return,x)}}a&64&&pm(l),a&512&&hs(l,l.return);break;case 3:if(li(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{of(e,t)}catch(x){ze(l,l.return,x)}}break;case 27:t===null&&a&4&&ym(l);case 26:case 5:li(e,l),t===null&&a&4&&gm(l),a&512&&hs(l,l.return);break;case 12:li(e,l);break;case 31:li(e,l),a&4&&Em(e,l);break;case 13:li(e,l),a&4&&Cm(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=iv.bind(null,l),Ev(e,l))));break;case 22:if(a=l.memoizedState!==null||ii,!a){t=t!==null&&t.memoizedState!==null||ut,m=ii;var p=ut;ii=a,(ut=t)&&!p?si(e,l,(l.subtreeFlags&8772)!==0):li(e,l),ii=m,ut=p}break;case 30:break;default:li(e,l)}}function Tm(e){var t=e.alternate;t!==null&&(e.alternate=null,Tm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&yi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ze=null,Jt=!1;function oi(e,t,l){for(l=l.child;l!==null;)_m(e,t,l),l=l.sibling}function _m(e,t,l){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(no,l)}catch{}switch(l.tag){case 26:ut||zn(l,t),oi(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ut||zn(l,t);var a=Ze,m=Jt;Ji(l.type)&&(Ze=l.stateNode,Jt=!1),oi(e,t,l),Cs(l.stateNode),Ze=a,Jt=m;break;case 5:ut||zn(l,t);case 6:if(a=Ze,m=Jt,Ze=null,oi(e,t,l),Ze=a,Jt=m,Ze!==null)if(Jt)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(l.stateNode)}catch(p){ze(l,t,p)}else try{Ze.removeChild(l.stateNode)}catch(p){ze(l,t,p)}break;case 18:Ze!==null&&(Jt?(e=Ze,pp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Nl(e)):pp(Ze,l.stateNode));break;case 4:a=Ze,m=Jt,Ze=l.stateNode.containerInfo,Jt=!0,oi(e,t,l),Ze=a,Jt=m;break;case 0:case 11:case 14:case 15:Pi(2,l,t),ut||Pi(4,l,t),oi(e,t,l);break;case 1:ut||(zn(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&hm(l,t,a)),oi(e,t,l);break;case 21:oi(e,t,l);break;case 22:ut=(a=ut)||l.memoizedState!==null,oi(e,t,l),ut=a;break;default:oi(e,t,l)}}function Em(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Nl(e)}catch(l){ze(t,t.return,l)}}}function Cm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Nl(e)}catch(l){ze(t,t.return,l)}}function Q0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Sm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Sm),t;default:throw Error(s(435,e.tag))}}function Va(e,t){var l=Q0(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var m=ov.bind(null,e,a);a.then(m,m)}})}function Yt(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var m=l[a],p=e,x=t,C=x;e:for(;C!==null;){switch(C.tag){case 27:if(Ji(C.type)){Ze=C.stateNode,Jt=!1;break e}break;case 5:Ze=C.stateNode,Jt=!1;break e;case 3:case 4:Ze=C.stateNode.containerInfo,Jt=!0;break e}C=C.return}if(Ze===null)throw Error(s(160));_m(p,x,m),Ze=null,Jt=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Am(t,e),t=t.sibling}var Rn=null;function Am(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Yt(t,e),Kt(e),a&4&&(Pi(3,e,e.return),ps(3,e),Pi(5,e,e.return));break;case 1:Yt(t,e),Kt(e),a&512&&(ut||l===null||zn(l,l.return)),a&64&&ii&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var m=Rn;if(Yt(t,e),Kt(e),a&512&&(ut||l===null||zn(l,l.return)),a&4){var p=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,m=m.ownerDocument||m;t:switch(a){case"title":p=m.getElementsByTagName("title")[0],(!p||p[ao]||p[We]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(a),m.head.insertBefore(p,m.querySelector("head > title"))),Ct(p,a,l),p[We]=e,$e(p),a=p;break e;case"link":var x=Ap("link","href",m).get(a+(l.href||""));if(x){for(var C=0;C<x.length;C++)if(p=x[C],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(C,1);break t}}p=m.createElement(a),Ct(p,a,l),m.head.appendChild(p);break;case"meta":if(x=Ap("meta","content",m).get(a+(l.content||""))){for(C=0;C<x.length;C++)if(p=x[C],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(C,1);break t}}p=m.createElement(a),Ct(p,a,l),m.head.appendChild(p);break;default:throw Error(s(468,a))}p[We]=e,$e(p),a=p}e.stateNode=a}else bp(m,e.type,e.stateNode);else e.stateNode=Cp(m,a,e.memoizedProps);else p!==a?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,a===null?bp(m,e.type,e.stateNode):Cp(m,a,e.memoizedProps)):a===null&&e.stateNode!==null&&ic(e,e.memoizedProps,l.memoizedProps)}break;case 27:Yt(t,e),Kt(e),a&512&&(ut||l===null||zn(l,l.return)),l!==null&&a&4&&ic(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Yt(t,e),Kt(e),a&512&&(ut||l===null||zn(l,l.return)),e.flags&32){m=e.stateNode;try{mo(m,"")}catch(se){ze(e,e.return,se)}}a&4&&e.stateNode!=null&&(m=e.memoizedProps,ic(e,m,l!==null?l.memoizedProps:m)),a&1024&&(sc=!0);break;case 6:if(Yt(t,e),Kt(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(se){ze(e,e.return,se)}}break;case 3:if(tr=null,m=Rn,Rn=ja(t.containerInfo),Yt(t,e),Rn=m,Kt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Nl(t.containerInfo)}catch(se){ze(e,e.return,se)}sc&&(sc=!1,bm(e));break;case 4:a=Rn,Rn=ja(e.stateNode.containerInfo),Yt(t,e),Kt(e),Rn=a;break;case 12:Yt(t,e),Kt(e);break;case 31:Yt(t,e),Kt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Va(e,a)));break;case 13:Yt(t,e),Kt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(za=dt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Va(e,a)));break;case 22:m=e.memoizedState!==null;var b=l!==null&&l.memoizedState!==null,k=ii,z=ut;if(ii=k||m,ut=z||b,Yt(t,e),ut=z,ii=k,Kt(e),a&8192)e:for(t=e.stateNode,t._visibility=m?t._visibility&-2:t._visibility|1,m&&(l===null||b||ii||ut||Uo(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){b=l=t;try{if(p=b.stateNode,m)x=p.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{C=b.stateNode;var F=b.memoizedProps.style,G=F!=null&&F.hasOwnProperty("display")?F.display:null;C.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(se){ze(b,b.return,se)}}}else if(t.tag===6){if(l===null){b=t;try{b.stateNode.nodeValue=m?"":b.memoizedProps}catch(se){ze(b,b.return,se)}}}else if(t.tag===18){if(l===null){b=t;try{var P=b.stateNode;m?hp(P,!0):hp(b.stateNode,!1)}catch(se){ze(b,b.return,se)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,Va(e,l))));break;case 19:Yt(t,e),Kt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Va(e,a)));break;case 30:break;case 21:break;default:Yt(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(vm(a)){l=a;break}a=a.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var m=l.stateNode,p=oc(e);Pa(e,p,m);break;case 5:var x=l.stateNode;l.flags&32&&(mo(x,""),l.flags&=-33);var C=oc(e);Pa(e,C,x);break;case 3:case 4:var b=l.stateNode.containerInfo,k=oc(e);lc(e,k,b);break;default:throw Error(s(161))}}catch(z){ze(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;bm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function li(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)xm(e,t.alternate,t),t=t.sibling}function Uo(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Pi(4,t,t.return),Uo(t);break;case 1:zn(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&hm(t,t.return,l),Uo(t);break;case 27:Cs(t.stateNode);case 26:case 5:zn(t,t.return),Uo(t);break;case 22:t.memoizedState===null&&Uo(t);break;case 30:Uo(t);break;default:Uo(t)}e=e.sibling}}function si(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,m=e,p=t,x=p.flags;switch(p.tag){case 0:case 11:case 15:si(m,p,l),ps(4,p);break;case 1:if(si(m,p,l),a=p,m=a.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(k){ze(a,a.return,k)}if(a=p,m=a.updateQueue,m!==null){var C=a.stateNode;try{var b=m.shared.hiddenCallbacks;if(b!==null)for(m.shared.hiddenCallbacks=null,m=0;m<b.length;m++)nf(b[m],C)}catch(k){ze(a,a.return,k)}}l&&x&64&&pm(p),hs(p,p.return);break;case 27:ym(p);case 26:case 5:si(m,p,l),l&&a===null&&x&4&&gm(p),hs(p,p.return);break;case 12:si(m,p,l);break;case 31:si(m,p,l),l&&x&4&&Em(m,p);break;case 13:si(m,p,l),l&&x&4&&Cm(m,p);break;case 22:p.memoizedState===null&&si(m,p,l),hs(p,p.return);break;case 30:break;default:si(m,p,l)}t=t.sibling}}function ac(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&ts(l))}function rc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ts(e))}function wn(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Nm(e,t,l,a),t=t.sibling}function Nm(e,t,l,a){var m=t.flags;switch(t.tag){case 0:case 11:case 15:wn(e,t,l,a),m&2048&&ps(9,t);break;case 1:wn(e,t,l,a);break;case 3:wn(e,t,l,a),m&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ts(e)));break;case 12:if(m&2048){wn(e,t,l,a),e=t.stateNode;try{var p=t.memoizedProps,x=p.id,C=p.onPostCommit;typeof C=="function"&&C(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){ze(t,t.return,b)}}else wn(e,t,l,a);break;case 31:wn(e,t,l,a);break;case 13:wn(e,t,l,a);break;case 23:break;case 22:p=t.stateNode,x=t.alternate,t.memoizedState!==null?p._visibility&2?wn(e,t,l,a):gs(e,t):p._visibility&2?wn(e,t,l,a):(p._visibility|=2,gl(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),m&2048&&ac(x,t);break;case 24:wn(e,t,l,a),m&2048&&rc(t.alternate,t);break;default:wn(e,t,l,a)}}function gl(e,t,l,a,m){for(m=m&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var p=e,x=t,C=l,b=a,k=x.flags;switch(x.tag){case 0:case 11:case 15:gl(p,x,C,b,m),ps(8,x);break;case 23:break;case 22:var z=x.stateNode;x.memoizedState!==null?z._visibility&2?gl(p,x,C,b,m):gs(p,x):(z._visibility|=2,gl(p,x,C,b,m)),m&&k&2048&&ac(x.alternate,x);break;case 24:gl(p,x,C,b,m),m&&k&2048&&rc(x.alternate,x);break;default:gl(p,x,C,b,m)}t=t.sibling}}function gs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,m=a.flags;switch(a.tag){case 22:gs(l,a),m&2048&&ac(a.alternate,a);break;case 24:gs(l,a),m&2048&&rc(a.alternate,a);break;default:gs(l,a)}t=t.sibling}}var vs=8192;function vl(e,t,l){if(e.subtreeFlags&vs)for(e=e.child;e!==null;)Mm(e,t,l),e=e.sibling}function Mm(e,t,l){switch(e.tag){case 26:vl(e,t,l),e.flags&vs&&e.memoizedState!==null&&kv(l,Rn,e.memoizedState,e.memoizedProps);break;case 5:vl(e,t,l);break;case 3:case 4:var a=Rn;Rn=ja(e.stateNode.containerInfo),vl(e,t,l),Rn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=vs,vs=16777216,vl(e,t,l),vs=a):vl(e,t,l));break;default:vl(e,t,l)}}function Rm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ys(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];vt=a,Im(a,e)}Rm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wm(e),e=e.sibling}function wm(e){switch(e.tag){case 0:case 11:case 15:ys(e),e.flags&2048&&Pi(9,e,e.return);break;case 3:ys(e);break;case 12:ys(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,qa(e)):ys(e);break;default:ys(e)}}function qa(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];vt=a,Im(a,e)}Rm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Pi(8,t,t.return),qa(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,qa(t));break;default:qa(t)}e=e.sibling}}function Im(e,t){for(;vt!==null;){var l=vt;switch(l.tag){case 0:case 11:case 15:Pi(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ts(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,vt=a;else e:for(l=e;vt!==null;){a=vt;var m=a.sibling,p=a.return;if(Tm(a),a===l){vt=null;break e}if(m!==null){m.return=p,vt=m;break e}vt=p}}}var Z0={getCacheForType:function(e){var t=_t(st),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return _t(st).controller.signal}},$0=typeof WeakMap=="function"?WeakMap:Map,Pe=0,Je=null,Ce=null,be=0,qe=0,tn=null,Vi=!1,yl=!1,uc=!1,ai=0,tt=0,qi=0,Lo=0,cc=0,nn=0,Sl=0,Ss=null,Xt=null,dc=!1,za=0,Dm=0,Ba=1/0,Oa=null,zi=null,pt=0,Bi=null,xl=null,ri=0,fc=0,mc=null,Um=null,xs=0,pc=null;function on(){return(Pe&2)!==0&&be!==0?be&-be:q.T!==null?xc():Lr()}function Lm(){if(nn===0)if((be&536870912)===0||we){var e=Lt;Lt<<=1,(Lt&3932160)===0&&(Lt=262144),nn=e}else nn=536870912;return e=jt.current,e!==null&&(e.flags|=32),nn}function Qt(e,t,l){(e===Je&&(qe===2||qe===9)||e.cancelPendingCommit!==null)&&(Tl(e,0),Oi(e,be,nn,!1)),oo(e,l),((Pe&2)===0||e!==Je)&&(e===Je&&((Pe&2)===0&&(Lo|=l),tt===4&&Oi(e,be,nn,!1)),Bn(e))}function km(e,t,l){if((Pe&6)!==0)throw Error(s(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||_n(e,t),m=a?ev(e,t):gc(e,t,!0),p=a;do{if(m===0){yl&&!a&&Oi(e,t,0,!1);break}else{if(l=e.current.alternate,p&&!W0(l)){m=gc(e,t,!1),p=!1;continue}if(m===2){if(p=t,e.errorRecoveryDisabledLanes&p)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var C=e;m=Ss;var b=C.current.memoizedState.isDehydrated;if(b&&(Tl(C,x).flags|=256),x=gc(C,x,!1),x!==2){if(uc&&!b){C.errorRecoveryDisabledLanes|=p,Lo|=p,m=4;break e}p=Xt,Xt=m,p!==null&&(Xt===null?Xt=p:Xt.push.apply(Xt,p))}m=x}if(p=!1,m!==2)continue}}if(m===1){Tl(e,0),Oi(e,t,0,!0);break}e:{switch(a=e,p=m,p){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Oi(a,t,nn,!Vi);break e;case 2:Xt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(m=za+300-dt(),10<m)){if(Oi(a,t,nn,!Vi),zo(a,0,!0)!==0)break e;ri=t,a.timeoutHandle=fp(Gm.bind(null,a,l,Xt,Oa,dc,t,nn,Lo,Sl,Vi,p,"Throttled",-0,0),m);break e}Gm(a,l,Xt,Oa,dc,t,nn,Lo,Sl,Vi,p,null,-0,0)}}break}while(!0);Bn(e)}function Gm(e,t,l,a,m,p,x,C,b,k,z,F,G,P){if(e.timeoutHandle=-1,F=t.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nt},Mm(t,p,F);var se=(p&62914560)===p?za-dt():(p&4194048)===p?Dm-dt():0;if(se=Gv(F,se),se!==null){ri=p,e.cancelPendingCommit=se(Fm.bind(null,e,t,p,l,a,m,x,C,b,z,F,null,G,P)),Oi(e,p,x,!k);return}}Fm(e,t,p,l,a,m,x,C,b)}function W0(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var m=l[a],p=m.getSnapshot;m=m.value;try{if(!$t(p(),m))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Oi(e,t,l,a){t&=~cc,t&=~Lo,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var m=t;0<m;){var p=31-Ut(m),x=1<<p;a[p]=-1,m&=~x}l!==0&&lt(e,l,t)}function Fa(){return(Pe&6)===0?(Ts(0),!1):!0}function hc(){if(Ce!==null){if(qe===0)var e=Ce.return;else e=Ce,$n=Ao=null,Iu(e),dl=null,is=0,e=Ce;for(;e!==null;)mm(e.alternate,e),e=e.return;Ce=null}}function Tl(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,yv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),ri=0,hc(),Je=e,Ce=l=Qn(e.current,null),be=t,qe=0,tn=null,Vi=!1,yl=_n(e,t),uc=!1,Sl=nn=cc=Lo=qi=tt=0,Xt=Ss=null,dc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var m=31-Ut(a),p=1<<m;t|=e[m],a&=~p}return ai=t,da(),l}function Hm(e,t){ve=null,q.H=ds,t===cl||t===Sa?(t=Wd(),qe=3):t===Su?(t=Wd(),qe=4):qe=t===Ku?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,tn=t,Ce===null&&(tt=1,Ua(e,dn(t,e.current)))}function Pm(){var e=jt.current;return e===null?!0:(be&4194048)===be?hn===null:(be&62914560)===be||(be&536870912)!==0?e===hn:!1}function Vm(){var e=q.H;return q.H=ds,e===null?ds:e}function qm(){var e=q.A;return q.A=Z0,e}function Ja(){tt=4,Vi||(be&4194048)!==be&&jt.current!==null||(yl=!0),(qi&134217727)===0&&(Lo&134217727)===0||Je===null||Oi(Je,be,nn,!1)}function gc(e,t,l){var a=Pe;Pe|=2;var m=Vm(),p=qm();(Je!==e||be!==t)&&(Oa=null,Tl(e,t)),t=!1;var x=tt;e:do try{if(qe!==0&&Ce!==null){var C=Ce,b=tn;switch(qe){case 8:hc(),x=6;break e;case 3:case 2:case 9:case 6:jt.current===null&&(t=!0);var k=qe;if(qe=0,tn=null,_l(e,C,b,k),l&&yl){x=0;break e}break;default:k=qe,qe=0,tn=null,_l(e,C,b,k)}}j0(),x=tt;break}catch(z){Hm(e,z)}while(!0);return t&&e.shellSuspendCounter++,$n=Ao=null,Pe=a,q.H=m,q.A=p,Ce===null&&(Je=null,be=0,da()),x}function j0(){for(;Ce!==null;)zm(Ce)}function ev(e,t){var l=Pe;Pe|=2;var a=Vm(),m=qm();Je!==e||be!==t?(Oa=null,Ba=dt()+500,Tl(e,t)):yl=_n(e,t);e:do try{if(qe!==0&&Ce!==null){t=Ce;var p=tn;t:switch(qe){case 1:qe=0,tn=null,_l(e,t,p,1);break;case 2:case 9:if(Zd(p)){qe=0,tn=null,Bm(t);break}t=function(){qe!==2&&qe!==9||Je!==e||(qe=7),Bn(e)},p.then(t,t);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:Zd(p)?(qe=0,tn=null,Bm(t)):(qe=0,tn=null,_l(e,t,p,7));break;case 5:var x=null;switch(Ce.tag){case 26:x=Ce.memoizedState;case 5:case 27:var C=Ce;if(x?Np(x):C.stateNode.complete){qe=0,tn=null;var b=C.sibling;if(b!==null)Ce=b;else{var k=C.return;k!==null?(Ce=k,Ya(k)):Ce=null}break t}}qe=0,tn=null,_l(e,t,p,5);break;case 6:qe=0,tn=null,_l(e,t,p,6);break;case 8:hc(),tt=6;break e;default:throw Error(s(462))}}tv();break}catch(z){Hm(e,z)}while(!0);return $n=Ao=null,q.H=a,q.A=m,Pe=l,Ce!==null?0:(Je=null,be=0,da(),tt)}function tv(){for(;Ce!==null&&!bd();)zm(Ce)}function zm(e){var t=dm(e.alternate,e,ai);e.memoizedProps=e.pendingProps,t===null?Ya(e):Ce=t}function Bm(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=lm(l,t,t.pendingProps,t.type,void 0,be);break;case 11:t=lm(l,t,t.pendingProps,t.type.render,t.ref,be);break;case 5:Iu(t);default:mm(l,t),t=Ce=Vd(t,ai),t=dm(l,t,ai)}e.memoizedProps=e.pendingProps,t===null?Ya(e):Ce=t}function _l(e,t,l,a){$n=Ao=null,Iu(t),dl=null,is=0;var m=t.return;try{if(O0(e,m,t,l,be)){tt=1,Ua(e,dn(l,e.current)),Ce=null;return}}catch(p){if(m!==null)throw Ce=m,p;tt=1,Ua(e,dn(l,e.current)),Ce=null;return}t.flags&32768?(we||a===1?e=!0:yl||(be&536870912)!==0?e=!1:(Vi=e=!0,(a===2||a===9||a===3||a===6)&&(a=jt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Om(t,e)):Ya(t)}function Ya(e){var t=e;do{if((t.flags&32768)!==0){Om(t,Vi);return}e=t.return;var l=Y0(t.alternate,t,ai);if(l!==null){Ce=l;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);tt===0&&(tt=5)}function Om(e,t){do{var l=K0(e.alternate,e);if(l!==null){l.flags&=32767,Ce=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Ce=e;return}Ce=e=l}while(e!==null);tt=6,Ce=null}function Fm(e,t,l,a,m,p,x,C,b){e.cancelPendingCommit=null;do Ka();while(pt!==0);if((Pe&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(p=t.lanes|t.childLanes,p|=ou,Bo(e,l,p,x,C,b),e===Je&&(Ce=Je=null,be=0),xl=t,Bi=e,ri=l,fc=p,mc=m,Um=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,lv(Po,function(){return Qm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=q.T,q.T=null,m=Z.p,Z.p=2,x=Pe,Pe|=4;try{X0(e,t,l)}finally{Pe=x,Z.p=m,q.T=a}}pt=1,Jm(),Ym(),Km()}}function Jm(){if(pt===1){pt=0;var e=Bi,t=xl,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=q.T,q.T=null;var a=Z.p;Z.p=2;var m=Pe;Pe|=4;try{Am(t,e);var p=Mc,x=wd(e.containerInfo),C=p.focusedElem,b=p.selectionRange;if(x!==C&&C&&C.ownerDocument&&Rd(C.ownerDocument.documentElement,C)){if(b!==null&&jr(C)){var k=b.start,z=b.end;if(z===void 0&&(z=k),"selectionStart"in C)C.selectionStart=k,C.selectionEnd=Math.min(z,C.value.length);else{var F=C.ownerDocument||document,G=F&&F.defaultView||window;if(G.getSelection){var P=G.getSelection(),se=C.textContent.length,fe=Math.min(b.start,se),Fe=b.end===void 0?fe:Math.min(b.end,se);!P.extend&&fe>Fe&&(x=Fe,Fe=fe,fe=x);var D=Md(C,fe),R=Md(C,Fe);if(D&&R&&(P.rangeCount!==1||P.anchorNode!==D.node||P.anchorOffset!==D.offset||P.focusNode!==R.node||P.focusOffset!==R.offset)){var L=F.createRange();L.setStart(D.node,D.offset),P.removeAllRanges(),fe>Fe?(P.addRange(L),P.extend(R.node,R.offset)):(L.setEnd(R.node,R.offset),P.addRange(L))}}}}for(F=[],P=C;P=P.parentNode;)P.nodeType===1&&F.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<F.length;C++){var B=F[C];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}lr=!!Nc,Mc=Nc=null}finally{Pe=m,Z.p=a,q.T=l}}e.current=t,pt=2}}function Ym(){if(pt===2){pt=0;var e=Bi,t=xl,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=q.T,q.T=null;var a=Z.p;Z.p=2;var m=Pe;Pe|=4;try{xm(e,t.alternate,t)}finally{Pe=m,Z.p=a,q.T=l}}pt=3}}function Km(){if(pt===4||pt===3){pt=0,Bt();var e=Bi,t=xl,l=ri,a=Um;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?pt=5:(pt=0,xl=Bi=null,Xm(e,e.pendingLanes));var m=e.pendingLanes;if(m===0&&(zi=null),Fn(l),t=t.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(no,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=q.T,m=Z.p,Z.p=2,q.T=null;try{for(var p=e.onRecoverableError,x=0;x<a.length;x++){var C=a[x];p(C.value,{componentStack:C.stack})}}finally{q.T=t,Z.p=m}}(ri&3)!==0&&Ka(),Bn(e),m=e.pendingLanes,(l&261930)!==0&&(m&42)!==0?e===pc?xs++:(xs=0,pc=e):xs=0,Ts(0)}}function Xm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ts(t)))}function Ka(){return Jm(),Ym(),Km(),Qm()}function Qm(){if(pt!==5)return!1;var e=Bi,t=fc;fc=0;var l=Fn(ri),a=q.T,m=Z.p;try{Z.p=32>l?32:l,q.T=null,l=mc,mc=null;var p=Bi,x=ri;if(pt=0,xl=Bi=null,ri=0,(Pe&6)!==0)throw Error(s(331));var C=Pe;if(Pe|=4,wm(p.current),Nm(p,p.current,x,l),Pe=C,Ts(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(no,p)}catch{}return!0}finally{Z.p=m,q.T=a,Xm(e,t)}}function Zm(e,t,l){t=dn(l,t),t=Yu(e.stateNode,t,2),e=ki(e,t,2),e!==null&&(oo(e,2),Bn(e))}function ze(e,t,l){if(e.tag===3)Zm(e,e,l);else for(;t!==null;){if(t.tag===3){Zm(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(zi===null||!zi.has(a))){e=dn(l,e),l=$f(2),a=ki(t,l,2),a!==null&&(Wf(l,a,t,e),oo(a,2),Bn(a));break}}t=t.return}}function vc(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new $0;var m=new Set;a.set(t,m)}else m=a.get(t),m===void 0&&(m=new Set,a.set(t,m));m.has(l)||(uc=!0,m.add(l),e=nv.bind(null,e,t,l),t.then(e,e))}function nv(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Je===e&&(be&l)===l&&(tt===4||tt===3&&(be&62914560)===be&&300>dt()-za?(Pe&2)===0&&Tl(e,0):cc|=l,Sl===be&&(Sl=0)),Bn(e)}function $m(e,t){t===0&&(t=Os()),e=_o(e,t),e!==null&&(oo(e,t),Bn(e))}function iv(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),$m(e,l)}function ov(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,m=e.memoizedState;m!==null&&(l=m.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(t),$m(e,l)}function lv(e,t){return Ps(e,t)}var Xa=null,El=null,yc=!1,Qa=!1,Sc=!1,Fi=0;function Bn(e){e!==El&&e.next===null&&(El===null?Xa=El=e:El=El.next=e),Qa=!0,yc||(yc=!0,av())}function Ts(e,t){if(!Sc&&Qa){Sc=!0;do for(var l=!1,a=Xa;a!==null;){if(e!==0){var m=a.pendingLanes;if(m===0)var p=0;else{var x=a.suspendedLanes,C=a.pingedLanes;p=(1<<31-Ut(42|e)+1)-1,p&=m&~(x&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,tp(a,p))}else p=be,p=zo(a,a===Je?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(p&3)===0||_n(a,p)||(l=!0,tp(a,p));a=a.next}while(l);Sc=!1}}function sv(){Wm()}function Wm(){Qa=yc=!1;var e=0;Fi!==0&&vv()&&(e=Fi);for(var t=dt(),l=null,a=Xa;a!==null;){var m=a.next,p=jm(a,t);p===0?(a.next=null,l===null?Xa=m:l.next=m,m===null&&(El=l)):(l=a,(e!==0||(p&3)!==0)&&(Qa=!0)),a=m}pt!==0&&pt!==5||Ts(e),Fi!==0&&(Fi=0)}function jm(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,m=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var x=31-Ut(p),C=1<<x,b=m[x];b===-1?((C&l)===0||(C&a)!==0)&&(m[x]=Ur(C,t)):b<=t&&(e.expiredLanes|=C),p&=~C}if(t=Je,l=be,l=zo(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(qe===2||qe===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Vs(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||_n(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Vs(a),Fn(l)){case 2:case 8:l=xn;break;case 32:l=Po;break;case 268435456:l=zs;break;default:l=Po}return a=ep.bind(null,e),l=Ps(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Vs(a),e.callbackPriority=2,e.callbackNode=null,2}function ep(e,t){if(pt!==0&&pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ka()&&e.callbackNode!==l)return null;var a=be;return a=zo(e,e===Je?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(km(e,a,t),jm(e,dt()),e.callbackNode!=null&&e.callbackNode===l?ep.bind(null,e):null)}function tp(e,t){if(Ka())return null;km(e,t,!0)}function av(){Sv(function(){(Pe&6)!==0?Ps(qs,sv):Wm()})}function xc(){if(Fi===0){var e=rl;e===0&&(e=qo,qo<<=1,(qo&261888)===0&&(qo=256)),Fi=e}return Fi}function np(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ei(""+e)}function ip(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function rv(e,t,l,a,m){if(t==="submit"&&l&&l.stateNode===m){var p=np((m[St]||null).action),x=a.submitter;x&&(t=(t=x[St]||null)?np(t.formAction):x.getAttribute("formAction"),t!==null&&(p=t,x=null));var C=new Xo("action","action",null,a,m);e.push({event:C,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Fi!==0){var b=x?ip(m,x):new FormData(m);qu(l,{pending:!0,data:b,method:m.method,action:p},null,b)}}else typeof p=="function"&&(C.preventDefault(),b=x?ip(m,x):new FormData(m),qu(l,{pending:!0,data:b,method:m.method,action:p},p,b))},currentTarget:m}]})}}for(var Tc=0;Tc<iu.length;Tc++){var _c=iu[Tc],uv=_c.toLowerCase(),cv=_c[0].toUpperCase()+_c.slice(1);Mn(uv,"on"+cv)}Mn(Ud,"onAnimationEnd"),Mn(Ld,"onAnimationIteration"),Mn(kd,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(b0,"onTransitionRun"),Mn(N0,"onTransitionStart"),Mn(M0,"onTransitionCancel"),Mn(Gd,"onTransitionEnd"),kn("onMouseEnter",["mouseout","mouseover"]),kn("onMouseLeave",["mouseout","mouseover"]),kn("onPointerEnter",["pointerout","pointerover"]),kn("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_s));function op(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],m=a.event;a=a.listeners;e:{var p=void 0;if(t)for(var x=a.length-1;0<=x;x--){var C=a[x],b=C.instance,k=C.currentTarget;if(C=C.listener,b!==p&&m.isPropagationStopped())break e;p=C,m.currentTarget=k;try{p(m)}catch(z){ca(z)}m.currentTarget=null,p=b}else for(x=0;x<a.length;x++){if(C=a[x],b=C.instance,k=C.currentTarget,C=C.listener,b!==p&&m.isPropagationStopped())break e;p=C,m.currentTarget=k;try{p(m)}catch(z){ca(z)}m.currentTarget=null,p=b}}}}function Ae(e,t){var l=t[vi];l===void 0&&(l=t[vi]=new Set);var a=e+"__bubble";l.has(a)||(lp(t,e,2,!1),l.add(a))}function Ec(e,t,l){var a=0;t&&(a|=4),lp(l,e,a,t)}var Za="_reactListening"+Math.random().toString(36).slice(2);function Cc(e){if(!e[Za]){e[Za]=!0,Js.forEach(function(l){l!=="selectionchange"&&(dv.has(l)||Ec(l,!1,e),Ec(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Za]||(t[Za]=!0,Ec("selectionchange",!1,t))}}function lp(e,t,l,a){switch(Lp(t)){case 2:var m=Vv;break;case 8:m=qv;break;default:m=Vc}l=m.bind(null,t,l,e),m=void 0,!Xl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(m=!0),a?m!==void 0?e.addEventListener(t,l,{capture:!0,passive:m}):e.addEventListener(t,l,!0):m!==void 0?e.addEventListener(t,l,{passive:m}):e.addEventListener(t,l,!1)}function Ac(e,t,l,a,m){var p=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var x=a.tag;if(x===3||x===4){var C=a.stateNode.containerInfo;if(C===m)break;if(x===4)for(x=a.return;x!==null;){var b=x.tag;if((b===3||b===4)&&x.stateNode.containerInfo===m)return;x=x.return}for(;C!==null;){if(x=Ln(C),x===null)return;if(b=x.tag,b===5||b===6||b===26||b===27){a=p=x;continue e}C=C.parentNode}}a=a.return}Ws(function(){var k=p,z=Fo(l),F=[];e:{var G=Hd.get(e);if(G!==void 0){var P=Xo,se=e;switch(e){case"keypress":if(Yo(l)===0)break e;case"keydown":case"keyup":P=Qr;break;case"focusin":se="focus",P=Ql;break;case"focusout":se="blur",P=Ql;break;case"beforeblur":case"afterblur":P=Ql;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=ta;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=ia;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=A;break;case Ud:case Ld:case kd:P=zr;break;case Gd:P=I;break;case"scroll":case"scrollend":P=Pr;break;case"wheel":P=ue;break;case"copy":case"cut":case"paste":P=Or;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=sa;break;case"toggle":case"beforetoggle":P=Te}var fe=(t&4)!==0,Fe=!fe&&(e==="scroll"||e==="scrollend"),D=fe?G!==null?G+"Capture":null:G;fe=[];for(var R=k,L;R!==null;){var B=R;if(L=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||L===null||D===null||(B=bi(R,D),B!=null&&fe.push(Es(R,B,L))),Fe)break;R=R.return}0<fe.length&&(G=new P(G,se,null,l,z),F.push({event:G,listeners:fe}))}}if((t&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",G&&l!==ft&&(se=l.relatedTarget||l.fromElement)&&(Ln(se)||se[gi]))break e;if((P||G)&&(G=z.window===z?z:(G=z.ownerDocument)?G.defaultView||G.parentWindow:window,P?(se=l.relatedTarget||l.toElement,P=k,se=se?Ln(se):null,se!==null&&(Fe=d(se),fe=se.tag,se!==Fe||fe!==5&&fe!==27&&fe!==6)&&(se=null)):(P=null,se=k),P!==se)){if(fe=ta,B="onMouseLeave",D="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(fe=sa,B="onPointerLeave",D="onPointerEnter",R="pointer"),Fe=P==null?G:En(P),L=se==null?G:En(se),G=new fe(B,R+"leave",P,l,z),G.target=Fe,G.relatedTarget=L,B=null,Ln(z)===k&&(fe=new fe(D,R+"enter",se,l,z),fe.target=L,fe.relatedTarget=Fe,B=fe),Fe=B,P&&se)t:{for(fe=fv,D=P,R=se,L=0,B=D;B;B=fe(B))L++;B=0;for(var de=R;de;de=fe(de))B++;for(;0<L-B;)D=fe(D),L--;for(;0<B-L;)R=fe(R),B--;for(;L--;){if(D===R||R!==null&&D===R.alternate){fe=D;break t}D=fe(D),R=fe(R)}fe=null}else fe=null;P!==null&&sp(F,G,P,fe,!1),se!==null&&Fe!==null&&sp(F,Fe,se,fe,!0)}}e:{if(G=k?En(k):window,P=G.nodeName&&G.nodeName.toLowerCase(),P==="select"||P==="input"&&G.type==="file")var Le=Rt;else if(un(G))if(gt)Le=E0;else{Le=ua;var ce=Wr}else P=G.nodeName,!P||P.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?k&&Kl(k.elementType)&&(Le=Rt):Le=_0;if(Le&&(Le=Le(e,k))){Ht(F,Le,l,z);break e}ce&&ce(e,G,k),e==="focusout"&&k&&G.type==="number"&&k.memoizedProps.value!=null&&Jl(G,"number",G.value)}switch(ce=k?En(k):window,e){case"focusin":(un(ce)||ce.contentEditable==="true")&&(el=ce,eu=k,Wl=null);break;case"focusout":Wl=eu=el=null;break;case"mousedown":tu=!0;break;case"contextmenu":case"mouseup":case"dragend":tu=!1,Id(F,l,z);break;case"selectionchange":if(A0)break;case"keydown":case"keyup":Id(F,l,z)}var Se;if(Ni)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Gt?_e(e,l)&&(Ne="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ne="onCompositionStart");Ne&&(Mi&&l.locale!=="ko"&&(Gt||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Gt&&(Se=js()):(Pn=z,Jo="value"in Pn?Pn.value:Pn.textContent,Gt=!0)),ce=$a(k,Ne),0<ce.length&&(Ne=new oa(Ne,e,null,l,z),F.push({event:Ne,listeners:ce}),Se?Ne.data=Se:(Se=Mt(l),Se!==null&&(Ne.data=Se)))),(Se=jo?ht(e,l):Nn(e,l))&&(Ne=$a(k,"onBeforeInput"),0<Ne.length&&(ce=new oa("onBeforeInput","beforeinput",null,l,z),F.push({event:ce,listeners:Ne}),ce.data=Se)),rv(F,e,k,l,z)}op(F,t)})}function Es(e,t,l){return{instance:e,listener:t,currentTarget:l}}function $a(e,t){for(var l=t+"Capture",a=[];e!==null;){var m=e,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=bi(e,l),m!=null&&a.unshift(Es(e,m,p)),m=bi(e,t),m!=null&&a.push(Es(e,m,p))),e.tag===3)return a;e=e.return}return[]}function fv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function sp(e,t,l,a,m){for(var p=t._reactName,x=[];l!==null&&l!==a;){var C=l,b=C.alternate,k=C.stateNode;if(C=C.tag,b!==null&&b===a)break;C!==5&&C!==26&&C!==27||k===null||(b=k,m?(k=bi(l,p),k!=null&&x.unshift(Es(l,k,b))):m||(k=bi(l,p),k!=null&&x.push(Es(l,k,b)))),l=l.return}x.length!==0&&e.push({event:t,listeners:x})}var mv=/\r\n?/g,pv=/\u0000|\uFFFD/g;function ap(e){return(typeof e=="string"?e:""+e).replace(mv,`
`).replace(pv,"")}function rp(e,t){return t=ap(t),ap(e)===t}function Oe(e,t,l,a,m,p){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||mo(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&mo(e,""+a);break;case"className":uo(e,"class",a);break;case"tabIndex":uo(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":uo(e,l,a);break;case"style":Qs(e,a,p);break;case"data":if(t!=="object"){uo(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Ei(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(t!=="input"&&Oe(e,t,"name",m.name,m,null),Oe(e,t,"formEncType",m.formEncType,m,null),Oe(e,t,"formMethod",m.formMethod,m,null),Oe(e,t,"formTarget",m.formTarget,m,null)):(Oe(e,t,"encType",m.encType,m,null),Oe(e,t,"method",m.method,m,null),Oe(e,t,"target",m.target,m,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Ei(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=Nt);break;case"onScroll":a!=null&&Ae("scroll",e);break;case"onScrollEnd":a!=null&&Ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Ei(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":Ae("beforetoggle",e),Ae("toggle",e),Gn(e,"popover",a);break;case"xlinkActuate":Ot(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":Ot(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":Ot(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":Ot(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":Ot(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":Ot(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":Ot(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":Ot(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":Ot(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Gn(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Zs.get(l)||l,Gn(e,l,a))}}function bc(e,t,l,a,m,p){switch(l){case"style":Qs(e,a,p);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(m.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof a=="string"?mo(e,a):(typeof a=="number"||typeof a=="bigint")&&mo(e,""+a);break;case"onScroll":a!=null&&Ae("scroll",e);break;case"onScrollEnd":a!=null&&Ae("scrollend",e);break;case"onClick":a!=null&&(e.onclick=Nt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ro.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),t=l.slice(2,m?l.length-7:void 0),p=e[St]||null,p=p!=null?p[l]:null,typeof p=="function"&&e.removeEventListener(t,p,m),typeof a=="function")){typeof p!="function"&&p!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,m);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Gn(e,l,a)}}}function Ct(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",e),Ae("load",e);var a=!1,m=!1,p;for(p in l)if(l.hasOwnProperty(p)){var x=l[p];if(x!=null)switch(p){case"src":a=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Oe(e,t,p,x,l,null)}}m&&Oe(e,t,"srcSet",l.srcSet,l,null),a&&Oe(e,t,"src",l.src,l,null);return;case"input":Ae("invalid",e);var C=p=x=m=null,b=null,k=null;for(a in l)if(l.hasOwnProperty(a)){var z=l[a];if(z!=null)switch(a){case"name":m=z;break;case"type":x=z;break;case"checked":b=z;break;case"defaultChecked":k=z;break;case"value":p=z;break;case"defaultValue":C=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,t));break;default:Oe(e,t,a,z,l,null)}}Fl(e,p,C,b,k,x,m,!1);return;case"select":Ae("invalid",e),a=x=p=null;for(m in l)if(l.hasOwnProperty(m)&&(C=l[m],C!=null))switch(m){case"value":p=C;break;case"defaultValue":x=C;break;case"multiple":a=C;default:Oe(e,t,m,C,l,null)}t=p,l=x,e.multiple=!!a,t!=null?Ti(e,!!a,t,!1):l!=null&&Ti(e,!!a,l,!0);return;case"textarea":Ae("invalid",e),p=m=a=null;for(x in l)if(l.hasOwnProperty(x)&&(C=l[x],C!=null))switch(x){case"value":a=C;break;case"defaultValue":m=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:Oe(e,t,x,C,l,null)}Gr(e,a,m,p);return;case"option":for(b in l)l.hasOwnProperty(b)&&(a=l[b],a!=null)&&(b==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":Oe(e,t,b,a,l,null));return;case"dialog":Ae("beforetoggle",e),Ae("toggle",e),Ae("cancel",e),Ae("close",e);break;case"iframe":case"object":Ae("load",e);break;case"video":case"audio":for(a=0;a<_s.length;a++)Ae(_s[a],e);break;case"image":Ae("error",e),Ae("load",e);break;case"details":Ae("toggle",e);break;case"embed":case"source":case"link":Ae("error",e),Ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in l)if(l.hasOwnProperty(k)&&(a=l[k],a!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Oe(e,t,k,a,l,null)}return;default:if(Kl(t)){for(z in l)l.hasOwnProperty(z)&&(a=l[z],a!==void 0&&bc(e,t,z,a,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(a=l[C],a!=null&&Oe(e,t,C,a,l,null))}function hv(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,x=null,C=null,b=null,k=null,z=null;for(P in l){var F=l[P];if(l.hasOwnProperty(P)&&F!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":b=F;default:a.hasOwnProperty(P)||Oe(e,t,P,null,a,F)}}for(var G in a){var P=a[G];if(F=l[G],a.hasOwnProperty(G)&&(P!=null||F!=null))switch(G){case"type":p=P;break;case"name":m=P;break;case"checked":k=P;break;case"defaultChecked":z=P;break;case"value":x=P;break;case"defaultValue":C=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,t));break;default:P!==F&&Oe(e,t,G,P,a,F)}}fo(e,x,C,b,k,z,p,m);return;case"select":P=x=C=G=null;for(p in l)if(b=l[p],l.hasOwnProperty(p)&&b!=null)switch(p){case"value":break;case"multiple":P=b;default:a.hasOwnProperty(p)||Oe(e,t,p,null,a,b)}for(m in a)if(p=a[m],b=l[m],a.hasOwnProperty(m)&&(p!=null||b!=null))switch(m){case"value":G=p;break;case"defaultValue":C=p;break;case"multiple":x=p;default:p!==b&&Oe(e,t,m,p,a,b)}t=C,l=x,a=P,G!=null?Ti(e,!!l,G,!1):!!a!=!!l&&(t!=null?Ti(e,!!l,t,!0):Ti(e,!!l,l?[]:"",!1));return;case"textarea":P=G=null;for(C in l)if(m=l[C],l.hasOwnProperty(C)&&m!=null&&!a.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Oe(e,t,C,null,a,m)}for(x in a)if(m=a[x],p=l[x],a.hasOwnProperty(x)&&(m!=null||p!=null))switch(x){case"value":G=m;break;case"defaultValue":P=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==p&&Oe(e,t,x,m,a,p)}_i(e,G,P);return;case"option":for(var se in l)G=l[se],l.hasOwnProperty(se)&&G!=null&&!a.hasOwnProperty(se)&&(se==="selected"?e.selected=!1:Oe(e,t,se,null,a,G));for(b in a)G=a[b],P=l[b],a.hasOwnProperty(b)&&G!==P&&(G!=null||P!=null)&&(b==="selected"?e.selected=G&&typeof G!="function"&&typeof G!="symbol":Oe(e,t,b,G,a,P));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in l)G=l[fe],l.hasOwnProperty(fe)&&G!=null&&!a.hasOwnProperty(fe)&&Oe(e,t,fe,null,a,G);for(k in a)if(G=a[k],P=l[k],a.hasOwnProperty(k)&&G!==P&&(G!=null||P!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,t));break;default:Oe(e,t,k,G,a,P)}return;default:if(Kl(t)){for(var Fe in l)G=l[Fe],l.hasOwnProperty(Fe)&&G!==void 0&&!a.hasOwnProperty(Fe)&&bc(e,t,Fe,void 0,a,G);for(z in a)G=a[z],P=l[z],!a.hasOwnProperty(z)||G===P||G===void 0&&P===void 0||bc(e,t,z,G,a,P);return}}for(var D in l)G=l[D],l.hasOwnProperty(D)&&G!=null&&!a.hasOwnProperty(D)&&Oe(e,t,D,null,a,G);for(F in a)G=a[F],P=l[F],!a.hasOwnProperty(F)||G===P||G==null&&P==null||Oe(e,t,F,G,a,P)}function up(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var m=l[a],p=m.transferSize,x=m.initiatorType,C=m.duration;if(p&&C&&up(x)){for(x=0,C=m.responseEnd,a+=1;a<l.length;a++){var b=l[a],k=b.startTime;if(k>C)break;var z=b.transferSize,F=b.initiatorType;z&&up(F)&&(b=b.responseEnd,x+=z*(b<C?1:(C-k)/(b-k)))}if(--a,t+=8*(p+x)/(m.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Nc=null,Mc=null;function Wa(e){return e.nodeType===9?e:e.ownerDocument}function cp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Rc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wc=null;function vv(){var e=window.event;return e&&e.type==="popstate"?e===wc?!1:(wc=e,!0):(wc=null,!1)}var fp=typeof setTimeout=="function"?setTimeout:void 0,yv=typeof clearTimeout=="function"?clearTimeout:void 0,mp=typeof Promise=="function"?Promise:void 0,Sv=typeof queueMicrotask=="function"?queueMicrotask:typeof mp<"u"?function(e){return mp.resolve(null).then(e).catch(xv)}:fp;function xv(e){setTimeout(function(){throw e})}function Ji(e){return e==="head"}function pp(e,t){var l=t,a=0;do{var m=l.nextSibling;if(e.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(m),Nl(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Cs(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Cs(l);for(var p=l.firstChild;p;){var x=p.nextSibling,C=p.nodeName;p[ao]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=x}}else l==="body"&&Cs(e.ownerDocument.body);l=m}while(l);Nl(t)}function hp(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function Ic(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Ic(l),yi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Tv(e,t,l,a){for(;e.nodeType===1;){var m=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[ao])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==m.rel||e.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||e.getAttribute("title")!==(m.title==null?null:m.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(m.src==null?null:m.src)||e.getAttribute("type")!==(m.type==null?null:m.type)||e.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=gn(e.nextSibling),e===null)break}return null}function _v(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=gn(e.nextSibling),e===null))return null;return e}function gp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=gn(e.nextSibling),e===null))return null;return e}function Dc(e){return e.data==="$?"||e.data==="$~"}function Uc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ev(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function gn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Lc=null;function vp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return gn(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function yp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Sp(e,t,l){switch(t=Wa(l),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Cs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);yi(e)}var vn=new Map,xp=new Set;function ja(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ui=Z.d;Z.d={f:Cv,r:Av,D:bv,C:Nv,L:Mv,m:Rv,X:Iv,S:wv,M:Dv};function Cv(){var e=ui.f(),t=Fa();return e||t}function Av(e){var t=Si(e);t!==null&&t.tag===5&&t.type==="form"?Hf(t):ui.r(e)}var Cl=typeof document>"u"?null:document;function Tp(e,t,l){var a=Cl;if(a&&typeof t=="string"&&t){var m=Re(t);m='link[rel="'+e+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),xp.has(m)||(xp.add(m),e={rel:e,crossOrigin:l,href:t},a.querySelector(m)===null&&(t=a.createElement("link"),Ct(t,"link",e),$e(t),a.head.appendChild(t)))}}function bv(e){ui.D(e),Tp("dns-prefetch",e,null)}function Nv(e,t){ui.C(e,t),Tp("preconnect",e,t)}function Mv(e,t,l){ui.L(e,t,l);var a=Cl;if(a&&e&&t){var m='link[rel="preload"][as="'+Re(t)+'"]';t==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Re(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Re(l.imageSizes)+'"]')):m+='[href="'+Re(e)+'"]';var p=m;switch(t){case"style":p=Al(e);break;case"script":p=bl(e)}vn.has(p)||(e=T({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),vn.set(p,e),a.querySelector(m)!==null||t==="style"&&a.querySelector(As(p))||t==="script"&&a.querySelector(bs(p))||(t=a.createElement("link"),Ct(t,"link",e),$e(t),a.head.appendChild(t)))}}function Rv(e,t){ui.m(e,t);var l=Cl;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",m='link[rel="modulepreload"][as="'+Re(a)+'"][href="'+Re(e)+'"]',p=m;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=bl(e)}if(!vn.has(p)&&(e=T({rel:"modulepreload",href:e},t),vn.set(p,e),l.querySelector(m)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(bs(p)))return}a=l.createElement("link"),Ct(a,"link",e),$e(a),l.head.appendChild(a)}}}function wv(e,t,l){ui.S(e,t,l);var a=Cl;if(a&&e){var m=xi(a).hoistableStyles,p=Al(e);t=t||"default";var x=m.get(p);if(!x){var C={loading:0,preload:null};if(x=a.querySelector(As(p)))C.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":t},l),(l=vn.get(p))&&kc(e,l);var b=x=a.createElement("link");$e(b),Ct(b,"link",e),b._p=new Promise(function(k,z){b.onload=k,b.onerror=z}),b.addEventListener("load",function(){C.loading|=1}),b.addEventListener("error",function(){C.loading|=2}),C.loading|=4,er(x,t,a)}x={type:"stylesheet",instance:x,count:1,state:C},m.set(p,x)}}}function Iv(e,t){ui.X(e,t);var l=Cl;if(l&&e){var a=xi(l).hoistableScripts,m=bl(e),p=a.get(m);p||(p=l.querySelector(bs(m)),p||(e=T({src:e,async:!0},t),(t=vn.get(m))&&Gc(e,t),p=l.createElement("script"),$e(p),Ct(p,"link",e),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(m,p))}}function Dv(e,t){ui.M(e,t);var l=Cl;if(l&&e){var a=xi(l).hoistableScripts,m=bl(e),p=a.get(m);p||(p=l.querySelector(bs(m)),p||(e=T({src:e,async:!0,type:"module"},t),(t=vn.get(m))&&Gc(e,t),p=l.createElement("script"),$e(p),Ct(p,"link",e),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(m,p))}}function _p(e,t,l,a){var m=(m=ye.current)?ja(m):null;if(!m)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Al(l.href),l=xi(m).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Al(l.href);var p=xi(m).hoistableStyles,x=p.get(e);if(x||(m=m.ownerDocument||m,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,x),(p=m.querySelector(As(e)))&&!p._p&&(x.instance=p,x.state.loading=5),vn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},vn.set(e,l),p||Uv(m,e,l,x.state))),t&&a===null)throw Error(s(528,""));return x}if(t&&a!==null)throw Error(s(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=bl(l),l=xi(m).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Al(e){return'href="'+Re(e)+'"'}function As(e){return'link[rel="stylesheet"]['+e+"]"}function Ep(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function Uv(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Ct(t,"link",l),$e(t),e.head.appendChild(t))}function bl(e){return'[src="'+Re(e)+'"]'}function bs(e){return"script[async]"+e}function Cp(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Re(l.href)+'"]');if(a)return t.instance=a,$e(a),a;var m=T({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),$e(a),Ct(a,"style",m),er(a,l.precedence,e),t.instance=a;case"stylesheet":m=Al(l.href);var p=e.querySelector(As(m));if(p)return t.state.loading|=4,t.instance=p,$e(p),p;a=Ep(l),(m=vn.get(m))&&kc(a,m),p=(e.ownerDocument||e).createElement("link"),$e(p);var x=p;return x._p=new Promise(function(C,b){x.onload=C,x.onerror=b}),Ct(p,"link",a),t.state.loading|=4,er(p,l.precedence,e),t.instance=p;case"script":return p=bl(l.src),(m=e.querySelector(bs(p)))?(t.instance=m,$e(m),m):(a=l,(m=vn.get(p))&&(a=T({},l),Gc(a,m)),e=e.ownerDocument||e,m=e.createElement("script"),$e(m),Ct(m,"link",a),e.head.appendChild(m),t.instance=m);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,er(a,l.precedence,e));return t.instance}function er(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=a.length?a[a.length-1]:null,p=m,x=0;x<a.length;x++){var C=a[x];if(C.dataset.precedence===t)p=C;else if(p!==m)break}p?p.parentNode.insertBefore(e,p.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function kc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Gc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var tr=null;function Ap(e,t,l){if(tr===null){var a=new Map,m=tr=new Map;m.set(l,a)}else m=tr,a=m.get(l),a||(a=new Map,m.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),m=0;m<l.length;m++){var p=l[m];if(!(p[ao]||p[We]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var x=p.getAttribute(t)||"";x=e+x;var C=a.get(x);C?C.push(p):a.set(x,[p])}}return a}function bp(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function Lv(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Np(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function kv(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=Al(a.href),p=t.querySelector(As(m));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=nr.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=p,$e(p);return}p=t.ownerDocument||t,a=Ep(a),(m=vn.get(m))&&kc(a,m),p=p.createElement("link"),$e(p);var x=p;x._p=new Promise(function(C,b){x.onload=C,x.onerror=b}),Ct(p,"link",a),l.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=nr.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var Hc=0;function Gv(e,t){return e.stylesheets&&e.count===0&&or(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&or(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+t);0<e.imgBytes&&Hc===0&&(Hc=62500*gv());var m=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&or(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>Hc?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(m)}}:null}function nr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)or(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ir=null;function or(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ir=new Map,t.forEach(Hv,e),ir=null,nr.call(e))}function Hv(e,t){if(!(t.state.loading&4)){var l=ir.get(e);if(l)var a=l.get(null);else{l=new Map,ir.set(e,l);for(var m=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var x=m[p];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),a=x)}a&&l.set(null,a)}m=t.instance,x=m.getAttribute("data-precedence"),p=l.get(x)||a,p===a&&l.set(null,m),l.set(x,m),this.count++,a=nr.bind(this),m.addEventListener("load",a),m.addEventListener("error",a),p?p.parentNode.insertBefore(m,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(m,e.firstChild)),t.state.loading|=4}}var Ns={$$typeof:X,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function Pv(e,t,l,a,m,p,x,C,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=a,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Mp(e,t,l,a,m,p,x,C,b,k,z,F){return e=new Pv(e,t,l,x,b,k,z,F,C),t=1,p===!0&&(t|=24),p=Wt(3,null,null,t),e.current=p,p.stateNode=e,t=gu(),t.refCount++,e.pooledCache=t,t.refCount++,p.memoizedState={element:a,isDehydrated:l,cache:t},xu(p),e}function Rp(e){return e?(e=il,e):il}function wp(e,t,l,a,m,p){m=Rp(m),a.context===null?a.context=m:a.pendingContext=m,a=Li(t),a.payload={element:l},p=p===void 0?null:p,p!==null&&(a.callback=p),l=ki(e,a,t),l!==null&&(Qt(l,e,t),ls(l,e,t))}function Ip(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Pc(e,t){Ip(e,t),(e=e.alternate)&&Ip(e,t)}function Dp(e){if(e.tag===13||e.tag===31){var t=_o(e,67108864);t!==null&&Qt(t,e,67108864),Pc(e,67108864)}}function Up(e){if(e.tag===13||e.tag===31){var t=on();t=lo(t);var l=_o(e,t);l!==null&&Qt(l,e,t),Pc(e,t)}}var lr=!0;function Vv(e,t,l,a){var m=q.T;q.T=null;var p=Z.p;try{Z.p=2,Vc(e,t,l,a)}finally{Z.p=p,q.T=m}}function qv(e,t,l,a){var m=q.T;q.T=null;var p=Z.p;try{Z.p=8,Vc(e,t,l,a)}finally{Z.p=p,q.T=m}}function Vc(e,t,l,a){if(lr){var m=qc(a);if(m===null)Ac(e,t,a,sr,l),kp(e,a);else if(Bv(m,e,t,l,a))a.stopPropagation();else if(kp(e,a),t&4&&-1<zv.indexOf(e)){for(;m!==null;){var p=Si(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var x=Zt(p.pendingLanes);if(x!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;x;){var b=1<<31-Ut(x);C.entanglements[1]|=b,x&=~b}Bn(p),(Pe&6)===0&&(Ba=dt()+500,Ts(0))}}break;case 31:case 13:C=_o(p,2),C!==null&&Qt(C,p,2),Fa(),Pc(p,2)}if(p=qc(a),p===null&&Ac(e,t,a,sr,l),p===m)break;m=p}m!==null&&a.stopPropagation()}else Ac(e,t,a,null,l)}}function qc(e){return e=Fo(e),zc(e)}var sr=null;function zc(e){if(sr=null,e=Ln(e),e!==null){var t=d(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=f(t),e!==null)return e;e=null}else if(l===31){if(e=g(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sr=e,null}function Lp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hl()){case qs:return 2;case xn:return 8;case Po:case Tn:return 32;case zs:return 268435456;default:return 32}default:return 32}}var Bc=!1,Yi=null,Ki=null,Xi=null,Ms=new Map,Rs=new Map,Qi=[],zv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kp(e,t){switch(e){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":Ms.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rs.delete(t.pointerId)}}function ws(e,t,l,a,m,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:p,targetContainers:[m]},t!==null&&(t=Si(t),t!==null&&Dp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,m!==null&&t.indexOf(m)===-1&&t.push(m),e)}function Bv(e,t,l,a,m){switch(t){case"focusin":return Yi=ws(Yi,e,t,l,a,m),!0;case"dragenter":return Ki=ws(Ki,e,t,l,a,m),!0;case"mouseover":return Xi=ws(Xi,e,t,l,a,m),!0;case"pointerover":var p=m.pointerId;return Ms.set(p,ws(Ms.get(p)||null,e,t,l,a,m)),!0;case"gotpointercapture":return p=m.pointerId,Rs.set(p,ws(Rs.get(p)||null,e,t,l,a,m)),!0}return!1}function Gp(e){var t=Ln(e.target);if(t!==null){var l=d(t);if(l!==null){if(t=l.tag,t===13){if(t=f(l),t!==null){e.blockedOn=t,sn(e.priority,function(){Up(l)});return}}else if(t===31){if(t=g(l),t!==null){e.blockedOn=t,sn(e.priority,function(){Up(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ar(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=qc(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);ft=a,l.target.dispatchEvent(a),ft=null}else return t=Si(l),t!==null&&Dp(t),e.blockedOn=l,!1;t.shift()}return!0}function Hp(e,t,l){ar(e)&&l.delete(t)}function Ov(){Bc=!1,Yi!==null&&ar(Yi)&&(Yi=null),Ki!==null&&ar(Ki)&&(Ki=null),Xi!==null&&ar(Xi)&&(Xi=null),Ms.forEach(Hp),Rs.forEach(Hp)}function rr(e,t){e.blockedOn===t&&(e.blockedOn=null,Bc||(Bc=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ov)))}var ur=null;function Pp(e){ur!==e&&(ur=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ur===e&&(ur=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],m=e[t+2];if(typeof a!="function"){if(zc(a||l)===null)continue;break}var p=Si(l);p!==null&&(e.splice(t,3),t-=3,qu(p,{pending:!0,data:m,method:l.method,action:a},a,m))}}))}function Nl(e){function t(b){return rr(b,e)}Yi!==null&&rr(Yi,e),Ki!==null&&rr(Ki,e),Xi!==null&&rr(Xi,e),Ms.forEach(t),Rs.forEach(t);for(var l=0;l<Qi.length;l++){var a=Qi[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Qi.length&&(l=Qi[0],l.blockedOn===null);)Gp(l),l.blockedOn===null&&Qi.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var m=l[a],p=l[a+1],x=m[St]||null;if(typeof p=="function")x||Pp(l);else if(x){var C=null;if(p&&p.hasAttribute("formAction")){if(m=p,x=p[St]||null)C=x.formAction;else if(zc(m)!==null)continue}else C=x.action;typeof C=="function"?l[a+1]=C:(l.splice(a,3),a-=3),Pp(l)}}}function Vp(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(x){return m=x})},focusReset:"manual",scroll:"manual"})}function t(){m!==null&&(m(),m=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,m=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),m!==null&&(m(),m=null)}}}function Oc(e){this._internalRoot=e}cr.prototype.render=Oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var l=t.current,a=on();wp(l,a,e,t,null,null)},cr.prototype.unmount=Oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wp(e.current,2,null,e,null,null),Fa(),t[gi]=null}};function cr(e){this._internalRoot=e}cr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lr();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Qi.length&&t!==0&&t<Qi[l].priority;l++);Qi.splice(l,0,e),l===0&&Gp(e)}};var qp=n.version;if(qp!=="19.2.4")throw Error(s(527,qp,"19.2.4"));Z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=h(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Fv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dr.isDisabled&&dr.supportsFiber)try{no=dr.inject(Fv),bt=dr}catch{}}return Ds.createRoot=function(e,t){if(!r(e))throw Error(s(299));var l=!1,a="",m=Kf,p=Xf,x=Qf;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(m=t.onUncaughtError),t.onCaughtError!==void 0&&(p=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError)),t=Mp(e,1,!1,null,null,l,a,null,m,p,x,Vp),e[gi]=t.current,Cc(e),new Oc(t)},Ds.hydrateRoot=function(e,t,l){if(!r(e))throw Error(s(299));var a=!1,m="",p=Kf,x=Xf,C=Qf,b=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.formState!==void 0&&(b=l.formState)),t=Mp(e,1,!0,t,l??null,a,m,b,p,x,C,Vp),t.context=Rp(null),l=t.current,a=on(),a=lo(a),m=Li(a),m.callback=null,ki(l,m,a),l=a,t.current.lanes=l,oo(t,l),Bn(t),e[gi]=t.current,Cc(e),new cr(t)},Ds.version="19.2.4",Ds}var Zp;function ey(){if(Zp)return Yc.exports;Zp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Yc.exports=jv(),Yc.exports}var ty=ey(),ny={};let iy,oy;function ly(){return{geminiUrl:iy,vertexUrl:oy}}function sy(i,n,o,s){var r,d;if(!i?.baseUrl){const f=ly();return n?(r=f.vertexUrl)!==null&&r!==void 0?r:o:(d=f.geminiUrl)!==null&&d!==void 0?d:s}return i.baseUrl}class di{}function ne(i,n){const o=/\{([^}]+)\}/g;return i.replace(o,(s,r)=>{if(Object.prototype.hasOwnProperty.call(n,r)){const d=n[r];return d!=null?String(d):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,n,o){for(let d=0;d<n.length-1;d++){const f=n[d];if(f.endsWith("[]")){const g=f.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(i[g])){const v=i[g];if(Array.isArray(o))for(let h=0;h<v.length;h++){const y=v[h];c(y,n.slice(d+1),o[h])}else for(const h of v)c(h,n.slice(d+1),o)}return}else if(f.endsWith("[0]")){const g=f.slice(0,-3);g in i||(i[g]=[{}]);const v=i[g];c(v[0],n.slice(d+1),o);return}(!i[f]||typeof i[f]!="object")&&(i[f]={}),i=i[f]}const s=n[n.length-1],r=i[s];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[s]=o}function u(i,n,o=void 0){try{if(n.length===1&&n[0]==="_self")return i;for(let s=0;s<n.length;s++){if(typeof i!="object"||i===null)return o;const r=n[s];if(r.endsWith("[]")){const d=r.slice(0,-2);if(d in i){const f=i[d];return Array.isArray(f)?f.map(g=>u(g,n.slice(s+1),o)):o}else return o}else i=i[r]}return i}catch(s){if(s instanceof TypeError)return o;throw s}}function ay(i,n){for(const[o,s]of Object.entries(n)){const r=o.split("."),d=s.split("."),f=new Set;let g=-1;for(let v=0;v<r.length;v++)if(r[v]==="*"){g=v;break}if(g!==-1&&d.length>g)for(let v=g;v<d.length;v++){const h=d[v];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&f.add(h)}ed(i,r,d,0,f)}}function ed(i,n,o,s,r){if(s>=n.length||typeof i!="object"||i===null)return;const d=n[s];if(d.endsWith("[]")){const f=d.slice(0,-2),g=i;if(f in g&&Array.isArray(g[f]))for(const v of g[f])ed(v,n,o,s+1,r)}else if(d==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const f=i,g=Object.keys(f).filter(h=>!h.startsWith("_")&&!r.has(h)),v={};for(const h of g)v[h]=f[h];for(const[h,y]of Object.entries(v)){const T=[];for(const _ of o.slice(s))_==="*"?T.push(h):T.push(_);c(f,T,y)}for(const h of g)delete f[h]}}else{const f=i;d in f&&ed(f[d],n,o,s+1,r)}}function gd(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}function ry(i){const n={},o=u(i,["operationName"]);o!=null&&c(n,["operationName"],o);const s=u(i,["resourceName"]);return s!=null&&c(n,["_url","resourceName"],s),n}function uy(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const d=u(i,["error"]);d!=null&&c(n,["error"],d);const f=u(i,["response","generateVideoResponse"]);return f!=null&&c(n,["response"],dy(f)),n}function cy(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const d=u(i,["error"]);d!=null&&c(n,["error"],d);const f=u(i,["response"]);return f!=null&&c(n,["response"],fy(f)),n}function dy(i){const n={},o=u(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>my(f))),c(n,["generatedVideos"],d)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(n,["raiMediaFilteredReasons"],r),n}function fy(i){const n={},o=u(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>py(f))),c(n,["generatedVideos"],d)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(n,["raiMediaFilteredReasons"],r),n}function my(i){const n={},o=u(i,["video"]);return o!=null&&c(n,["video"],xy(o)),n}function py(i){const n={},o=u(i,["_self"]);return o!=null&&c(n,["video"],Ty(o)),n}function hy(i){const n={},o=u(i,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function gy(i){const n={},o=u(i,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function vy(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const d=u(i,["error"]);d!=null&&c(n,["error"],d);const f=u(i,["response"]);return f!=null&&c(n,["response"],yy(f)),n}function yy(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(n,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(n,["documentName"],r),n}function wg(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const d=u(i,["error"]);d!=null&&c(n,["error"],d);const f=u(i,["response"]);return f!=null&&c(n,["response"],Sy(f)),n}function Sy(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(n,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(n,["documentName"],r),n}function xy(i){const n={},o=u(i,["uri"]);o!=null&&c(n,["uri"],o);const s=u(i,["encodedVideo"]);s!=null&&c(n,["videoBytes"],gd(s));const r=u(i,["encoding"]);return r!=null&&c(n,["mimeType"],r),n}function Ty(i){const n={},o=u(i,["gcsUri"]);o!=null&&c(n,["uri"],o);const s=u(i,["bytesBase64Encoded"]);s!=null&&c(n,["videoBytes"],gd(s));const r=u(i,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}var $p;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})($p||($p={}));var Wp;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Wp||(Wp={}));var jp;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(jp||(jp={}));var $i;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})($i||($i={}));var eh;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(eh||(eh={}));var th;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(th||(th={}));var nh;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(nh||(nh={}));var ih;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(ih||(ih={}));var oh;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(oh||(oh={}));var lh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(lh||(lh={}));var sh;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(sh||(sh={}));var ah;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(ah||(ah={}));var rh;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(rh||(rh={}));var uh;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(uh||(uh={}));var ch;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(ch||(ch={}));var dh;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(dh||(dh={}));var fh;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(fh||(fh={}));var mh;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(mh||(mh={}));var ph;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ph||(ph={}));var hh;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(hh||(hh={}));var gh;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(gh||(gh={}));var Sr;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Sr||(Sr={}));var vh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(vh||(vh={}));var yh;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(yh||(yh={}));var Sh;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Sh||(Sh={}));var td;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(td||(td={}));var xh;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(xh||(xh={}));var Th;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Th||(Th={}));var nd;(function(i){i.COLLECTION="COLLECTION"})(nd||(nd={}));var _h;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(_h||(_h={}));var Eh;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Eh||(Eh={}));var Ch;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Ch||(Ch={}));var Ah;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Ah||(Ah={}));var bh;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(bh||(bh={}));var Nh;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Nh||(Nh={}));var Mh;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Mh||(Mh={}));var Rh;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Rh||(Rh={}));var wh;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(wh||(wh={}));var Ih;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Ih||(Ih={}));var Dh;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Dh||(Dh={}));var Uh;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Uh||(Uh={}));var Lh;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Lh||(Lh={}));var kh;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING",i.DISTILLATION="DISTILLATION"})(kh||(kh={}));var Gh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Gh||(Gh={}));var Hh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Hh||(Hh={}));var Ph;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(Ph||(Ph={}));var Vh;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Vh||(Vh={}));var qh;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(qh||(qh={}));var zh;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(zh||(zh={}));var Bh;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(Bh||(Bh={}));var Oh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Oh||(Oh={}));var Fh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Fh||(Fh={}));var Jh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Jh||(Jh={}));var Yh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Yh||(Yh={}));var Kh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Kh||(Kh={}));var Xh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Xh||(Xh={}));var Rl;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Rl||(Rl={}));class id{constructor(n){const o={};for(const s of n.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=n}json(){return this.responseInternal.json()}}class Us{get text(){var n,o,s,r,d,f,g,v;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",y=!1;const T=[];for(const _ of(v=(g=(f=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[N,U]of Object.entries(_))N!=="text"&&N!=="thought"&&N!=="thoughtSignature"&&(U!==null||U!==void 0)&&T.push(N);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;y=!0,h+=_.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?h:void 0}get data(){var n,o,s,r,d,f,g,v;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const y=[];for(const T of(v=(g=(f=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)!==null&&v!==void 0?v:[]){for(const[_,N]of Object.entries(T))_!=="inlineData"&&(N!==null||N!==void 0)&&y.push(_);T.inlineData&&typeof T.inlineData.data=="string"&&(h+=atob(T.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var n,o,s,r,d,f,g,v;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(v=(g=(f=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if(h?.length!==0)return h}get executableCode(){var n,o,s,r,d,f,g,v,h;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(v=(g=(f=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if(y?.length!==0)return(h=y?.[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var n,o,s,r,d,f,g,v,h;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(v=(g=(f=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content)===null||g===void 0?void 0:g.parts)===null||v===void 0?void 0:v.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if(y?.length!==0)return(h=y?.[0])===null||h===void 0?void 0:h.output}}class Qh{}class Zh{}class _y{}class Ey{}class Cy{}class Ay{}class $h{}class Wh{}class jh{}class by{}class xr{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const s=new xr;let r;const d=n;return o?r=cy(d):r=uy(d),Object.assign(s,r),s}}class eg{}class tg{}class ng{}class ig{}class Ny{}class My{}class Ry{}class vd{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const s=new vd,d=vy(n);return Object.assign(s,d),s}}class wy{}class Iy{}class Dy{}class Uy{}class og{}class Ly{get text(){var n,o,s;let r="",d=!1;const f=[];for(const g of(s=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[v,h]of Object.entries(g))v!=="text"&&v!=="thought"&&h!==null&&f.push(v);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;d=!0,r+=g.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?r:void 0}get data(){var n,o,s;let r="";const d=[];for(const f of(s=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[g,v]of Object.entries(f))g!=="inlineData"&&v!==null&&d.push(g);f.inlineData&&typeof f.inlineData.data=="string"&&(r+=atob(f.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class ky{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class yd{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const s=new yd,d=wg(n);return Object.assign(s,d),s}}function Ge(i,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(n.includes("..")||n.includes("?")||n.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const o=n.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function Ig(i,n){const o=Ge(i,n);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function Dg(i){return Array.isArray(i)?i.map(n=>Tr(n)):[Tr(i)]}function Tr(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Ug(i){const n=Tr(i);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Lg(i){const n=Tr(i);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function lg(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function kg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(n=>lg(n)):[lg(i)]}function od(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function sg(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function ag(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function Dt(i){if(i==null)throw new Error("ContentUnion is required");return od(i)?i:{role:"user",parts:kg(i)}}function Sd(i,n){if(!n)return[];if(i.isVertexAI()&&Array.isArray(n))return n.flatMap(o=>{const s=Dt(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(i.isVertexAI()){const o=Dt(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(n)?n.map(o=>Dt(o)):[Dt(n)]}function yn(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(sg(i)||ag(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Dt(i)]}const n=[],o=[],s=od(i[0]);for(const r of i){const d=od(r);if(d!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)n.push(r);else{if(sg(r)||ag(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return s||n.push({role:"user",parts:kg(o)}),n}function Gy(i,n){i.includes("null")&&(n.nullable=!0);const o=i.filter(s=>s!=="null");if(o.length===1)n.type=Object.values($i).includes(o[0].toUpperCase())?o[0].toUpperCase():$i.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const s of o)n.anyOf.push({type:Object.values($i).includes(s.toUpperCase())?s.toUpperCase():$i.TYPE_UNSPECIFIED})}}function Il(i){const n={},o=["items"],s=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=i.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(n.nullable=!0,i=d[1]):d[1].type==="null"&&(n.nullable=!0,i=d[0])),i.type instanceof Array&&Gy(i.type,n);for(const[f,g]of Object.entries(i))if(g!=null)if(f=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;n.type=Object.values($i).includes(g.toUpperCase())?g.toUpperCase():$i.TYPE_UNSPECIFIED}else if(o.includes(f))n[f]=Il(g);else if(s.includes(f)){const v=[];for(const h of g){if(h.type=="null"){n.nullable=!0;continue}v.push(Il(h))}n[f]=v}else if(r.includes(f)){const v={};for(const[h,y]of Object.entries(g))v[h]=Il(y);n[f]=v}else{if(f==="additionalProperties")continue;n[f]=g}return n}function xd(i){return Il(i)}function Td(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function _d(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Ul(i){if(i.functionDeclarations)for(const n of i.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=Il(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=Il(n.response));return i}function Ll(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const n=[];for(const o of i)n.push(o);return n}function Hy(i,n,o,s=1){const r=!n.startsWith(`${o}/`)&&n.split("/").length===s;return i.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${i.getProject()}/${n}`:n.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${n}`:n:r?`${o}/${n}`:n}function fi(i,n){if(typeof n!="string")throw new Error("name must be a string");return Hy(i,n,"cachedContents")}function Gg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Wi(i){return gd(i)}function Py(i){return i!=null&&typeof i=="object"&&"name"in i}function Vy(i){return i!=null&&typeof i=="object"&&"video"in i}function qy(i){return i!=null&&typeof i=="object"&&"uri"in i}function Hg(i){var n;let o;if(Py(i)&&(o=i.name),!(qy(i)&&(o=i.uri,o===void 0))&&!(Vy(i)&&(o=(n=i.video)===null||n===void 0?void 0:n.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Pg(i,n){let o;return i.isVertexAI()?o=n?"publishers/google/models":"models":o=n?"models":"tunedModels",o}function Vg(i){for(const n of["models","tunedModels","publisherModels"])if(zy(i,n))return i[n];return[]}function zy(i,n){return i!==null&&typeof i=="object"&&n in i}function By(i,n={}){const o=i,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),n.behavior&&(s.behavior=n.behavior),{functionDeclarations:[s]}}function Oy(i,n={}){const o=[],s=new Set;for(const r of i){const d=r.name;if(s.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);s.add(d);const f=By(r,n);f.functionDeclarations&&o.push(...f.functionDeclarations)}return{functionDeclarations:o}}function qg(i,n){let o;if(typeof n=="string")if(i.isVertexAI())if(n.startsWith("gs://"))o={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))o={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))o={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:n}}else o=n;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function Fy(i){if(typeof i!="string")return i;const n=i;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function zg(i){if(typeof i!="object"||i===null)return{};const n=i,o=n.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let d=!1;for(const f of r){if(typeof f!="object"||f===null)continue;const v=f.response;if(typeof v!="object"||v===null)continue;if(v.embedding!==void 0){d=!0;break}}return d&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),i}function kl(i,n){const o=n;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Bg(i){const n=i;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}function Jy(i){const n={},o=u(i,["responsesFile"]);o!=null&&c(n,["fileName"],o);const s=u(i,["inlinedResponses","inlinedResponses"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>AS(f))),c(n,["inlinedResponses"],d)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),c(n,["inlinedEmbedContentResponses"],d)}return n}function Yy(i){const n={},o=u(i,["predictionsFormat"]);o!=null&&c(n,["format"],o);const s=u(i,["gcsDestination","outputUriPrefix"]);s!=null&&c(n,["gcsUri"],s);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(n,["bigqueryUri"],r),n}function Ky(i){const n={},o=u(i,["format"]);o!=null&&c(n,["predictionsFormat"],o);const s=u(i,["gcsUri"]);s!=null&&c(n,["gcsDestination","outputUriPrefix"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&c(n,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function vr(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["metadata","displayName"]);s!=null&&c(n,["displayName"],s);const r=u(i,["metadata","state"]);r!=null&&c(n,["state"],Bg(r));const d=u(i,["metadata","createTime"]);d!=null&&c(n,["createTime"],d);const f=u(i,["metadata","endTime"]);f!=null&&c(n,["endTime"],f);const g=u(i,["metadata","updateTime"]);g!=null&&c(n,["updateTime"],g);const v=u(i,["metadata","model"]);v!=null&&c(n,["model"],v);const h=u(i,["metadata","output"]);return h!=null&&c(n,["dest"],Jy(zg(h))),n}function ld(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["displayName"]);s!=null&&c(n,["displayName"],s);const r=u(i,["state"]);r!=null&&c(n,["state"],Bg(r));const d=u(i,["error"]);d!=null&&c(n,["error"],d);const f=u(i,["createTime"]);f!=null&&c(n,["createTime"],f);const g=u(i,["startTime"]);g!=null&&c(n,["startTime"],g);const v=u(i,["endTime"]);v!=null&&c(n,["endTime"],v);const h=u(i,["updateTime"]);h!=null&&c(n,["updateTime"],h);const y=u(i,["model"]);y!=null&&c(n,["model"],y);const T=u(i,["inputConfig"]);T!=null&&c(n,["src"],Xy(T));const _=u(i,["outputConfig"]);_!=null&&c(n,["dest"],Yy(zg(_)));const N=u(i,["completionStats"]);return N!=null&&c(n,["completionStats"],N),n}function Xy(i){const n={},o=u(i,["instancesFormat"]);o!=null&&c(n,["format"],o);const s=u(i,["gcsSource","uris"]);s!=null&&c(n,["gcsUri"],s);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(n,["bigqueryUri"],r),n}function Qy(i,n){const o={};if(u(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=u(n,["fileName"]);s!=null&&c(o,["fileName"],s);const r=u(n,["inlinedRequests"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>CS(i,f))),c(o,["requests","requests"],d)}return o}function Zy(i){const n={},o=u(i,["format"]);o!=null&&c(n,["instancesFormat"],o);const s=u(i,["gcsUri"]);s!=null&&c(n,["gcsSource","uris"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&c(n,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function $y(i){const n={},o=u(i,["data"]);if(o!=null&&c(n,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function Wy(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],kl(i,s)),o}function jy(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],kl(i,s)),o}function eS(i){const n={},o=u(i,["content"]);o!=null&&c(n,["content"],o);const s=u(i,["citationMetadata"]);s!=null&&c(n,["citationMetadata"],tS(s));const r=u(i,["tokenCount"]);r!=null&&c(n,["tokenCount"],r);const d=u(i,["finishReason"]);d!=null&&c(n,["finishReason"],d);const f=u(i,["avgLogprobs"]);f!=null&&c(n,["avgLogprobs"],f);const g=u(i,["groundingMetadata"]);g!=null&&c(n,["groundingMetadata"],g);const v=u(i,["index"]);v!=null&&c(n,["index"],v);const h=u(i,["logprobsResult"]);h!=null&&c(n,["logprobsResult"],h);const y=u(i,["safetyRatings"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(N=>N)),c(n,["safetyRatings"],_)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(n,["urlContextMetadata"],T),n}function tS(i){const n={},o=u(i,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(n,["citations"],s)}return n}function Og(i){const n={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>DS(d))),c(n,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(n,["role"],s),n}function nS(i,n){const o={},s=u(i,["displayName"]);if(n!==void 0&&s!=null&&c(n,["batch","displayName"],s),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function iS(i,n){const o={},s=u(i,["displayName"]);n!==void 0&&s!=null&&c(n,["displayName"],s);const r=u(i,["dest"]);return n!==void 0&&r!=null&&c(n,["outputConfig"],Ky(Fy(r))),o}function rg(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],Ge(i,s));const r=u(n,["src"]);r!=null&&c(o,["batch","inputConfig"],Qy(i,qg(i,r)));const d=u(n,["config"]);return d!=null&&nS(d,o),o}function oS(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["model"],Ge(i,s));const r=u(n,["src"]);r!=null&&c(o,["inputConfig"],Zy(qg(i,r)));const d=u(n,["config"]);return d!=null&&iS(d,o),o}function lS(i,n){const o={},s=u(i,["displayName"]);return n!==void 0&&s!=null&&c(n,["batch","displayName"],s),o}function sS(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],Ge(i,s));const r=u(n,["src"]);r!=null&&c(o,["batch","inputConfig"],mS(i,r));const d=u(n,["config"]);return d!=null&&lS(d,o),o}function aS(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],kl(i,s)),o}function rS(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],kl(i,s)),o}function uS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["name"]);s!=null&&c(n,["name"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const d=u(i,["error"]);return d!=null&&c(n,["error"],d),n}function cS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["name"]);s!=null&&c(n,["name"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const d=u(i,["error"]);return d!=null&&c(n,["error"],d),n}function dS(i,n){const o={},s=u(n,["contents"]);if(s!=null){let d=Sd(i,s);Array.isArray(d)&&(d=d.map(f=>f)),c(o,["requests[]","request","content"],d)}const r=u(n,["config"]);return r!=null&&(c(o,["_self"],fS(r,o)),ay(o,{"requests[].*":"requests[].request.*"})),o}function fS(i,n){const o={},s=u(i,["taskType"]);n!==void 0&&s!=null&&c(n,["requests[]","taskType"],s);const r=u(i,["title"]);n!==void 0&&r!=null&&c(n,["requests[]","title"],r);const d=u(i,["outputDimensionality"]);if(n!==void 0&&d!=null&&c(n,["requests[]","outputDimensionality"],d),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function mS(i,n){const o={},s=u(n,["fileName"]);s!=null&&c(o,["file_name"],s);const r=u(n,["inlinedRequests"]);return r!=null&&c(o,["requests"],dS(i,r)),o}function pS(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function hS(i){const n={},o=u(i,["id"]);o!=null&&c(n,["id"],o);const s=u(i,["args"]);s!=null&&c(n,["args"],s);const r=u(i,["name"]);if(r!=null&&c(n,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function gS(i){const n={},o=u(i,["allowedFunctionNames"]);o!=null&&c(n,["allowedFunctionNames"],o);const s=u(i,["mode"]);if(s!=null&&c(n,["mode"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function vS(i,n,o){const s={},r=u(n,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Og(Dt(r)));const d=u(n,["temperature"]);d!=null&&c(s,["temperature"],d);const f=u(n,["topP"]);f!=null&&c(s,["topP"],f);const g=u(n,["topK"]);g!=null&&c(s,["topK"],g);const v=u(n,["candidateCount"]);v!=null&&c(s,["candidateCount"],v);const h=u(n,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const y=u(n,["stopSequences"]);y!=null&&c(s,["stopSequences"],y);const T=u(n,["responseLogprobs"]);T!=null&&c(s,["responseLogprobs"],T);const _=u(n,["logprobs"]);_!=null&&c(s,["logprobs"],_);const N=u(n,["presencePenalty"]);N!=null&&c(s,["presencePenalty"],N);const U=u(n,["frequencyPenalty"]);U!=null&&c(s,["frequencyPenalty"],U);const V=u(n,["seed"]);V!=null&&c(s,["seed"],V);const H=u(n,["responseMimeType"]);H!=null&&c(s,["responseMimeType"],H);const Y=u(n,["responseSchema"]);Y!=null&&c(s,["responseSchema"],xd(Y));const j=u(n,["responseJsonSchema"]);if(j!=null&&c(s,["responseJsonSchema"],j),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const X=u(n,["safetySettings"]);if(o!==void 0&&X!=null){let Qe=X;Array.isArray(Qe)&&(Qe=Qe.map(Ve=>US(Ve))),c(o,["safetySettings"],Qe)}const $=u(n,["tools"]);if(o!==void 0&&$!=null){let Qe=Ll($);Array.isArray(Qe)&&(Qe=Qe.map(Ve=>kS(Ul(Ve)))),c(o,["tools"],Qe)}const O=u(n,["toolConfig"]);if(o!==void 0&&O!=null&&c(o,["toolConfig"],LS(O)),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const te=u(n,["cachedContent"]);o!==void 0&&te!=null&&c(o,["cachedContent"],fi(i,te));const W=u(n,["responseModalities"]);W!=null&&c(s,["responseModalities"],W);const ie=u(n,["mediaResolution"]);ie!=null&&c(s,["mediaResolution"],ie);const oe=u(n,["speechConfig"]);if(oe!=null&&c(s,["speechConfig"],Td(oe)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const he=u(n,["thinkingConfig"]);he!=null&&c(s,["thinkingConfig"],he);const Ie=u(n,["imageConfig"]);Ie!=null&&c(s,["imageConfig"],ES(Ie));const Me=u(n,["enableEnhancedCivicAnswers"]);if(Me!=null&&c(s,["enableEnhancedCivicAnswers"],Me),u(n,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function yS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["candidates"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(h=>eS(h))),c(n,["candidates"],v)}const r=u(i,["modelVersion"]);r!=null&&c(n,["modelVersion"],r);const d=u(i,["promptFeedback"]);d!=null&&c(n,["promptFeedback"],d);const f=u(i,["responseId"]);f!=null&&c(n,["responseId"],f);const g=u(i,["usageMetadata"]);return g!=null&&c(n,["usageMetadata"],g),n}function SS(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],kl(i,s)),o}function xS(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],kl(i,s)),o}function TS(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function _S(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function ES(i){const n={},o=u(i,["aspectRatio"]);o!=null&&c(n,["aspectRatio"],o);const s=u(i,["imageSize"]);if(s!=null&&c(n,["imageSize"],s),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function CS(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["request","model"],Ge(i,s));const r=u(n,["contents"]);if(r!=null){let g=yn(r);Array.isArray(g)&&(g=g.map(v=>Og(v))),c(o,["request","contents"],g)}const d=u(n,["metadata"]);d!=null&&c(o,["metadata"],d);const f=u(n,["config"]);return f!=null&&c(o,["request","generationConfig"],vS(i,f,u(o,["request"],{}))),o}function AS(i){const n={},o=u(i,["response"]);o!=null&&c(n,["response"],yS(o));const s=u(i,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(i,["error"]);return r!=null&&c(n,["error"],r),n}function bS(i,n){const o={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(i,["pageToken"]);if(n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function NS(i,n){const o={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(i,["pageToken"]);n!==void 0&&r!=null&&c(n,["_query","pageToken"],r);const d=u(i,["filter"]);return n!==void 0&&d!=null&&c(n,["_query","filter"],d),o}function MS(i){const n={},o=u(i,["config"]);return o!=null&&bS(o,n),n}function RS(i){const n={},o=u(i,["config"]);return o!=null&&NS(o,n),n}function wS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["operations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>vr(f))),c(n,["batchJobs"],d)}return n}function IS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["batchPredictionJobs"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>ld(f))),c(n,["batchJobs"],d)}return n}function DS(i){const n={},o=u(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(n,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(n,["fileData"],pS(d));const f=u(i,["functionCall"]);f!=null&&c(n,["functionCall"],hS(f));const g=u(i,["functionResponse"]);g!=null&&c(n,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(n,["inlineData"],$y(v));const h=u(i,["text"]);h!=null&&c(n,["text"],h);const y=u(i,["thought"]);y!=null&&c(n,["thought"],y);const T=u(i,["thoughtSignature"]);T!=null&&c(n,["thoughtSignature"],T);const _=u(i,["videoMetadata"]);return _!=null&&c(n,["videoMetadata"],_),n}function US(i){const n={},o=u(i,["category"]);if(o!=null&&c(n,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&c(n,["threshold"],s),n}function LS(i){const n={},o=u(i,["retrievalConfig"]);o!=null&&c(n,["retrievalConfig"],o);const s=u(i,["functionCallingConfig"]);return s!=null&&c(n,["functionCallingConfig"],gS(s)),n}function kS(i){const n={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(n,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&c(n,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&c(n,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(T=>T)),c(n,["functionDeclarations"],y)}const f=u(i,["googleMaps"]);f!=null&&c(n,["googleMaps"],TS(f));const g=u(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],_S(g));const v=u(i,["googleSearchRetrieval"]);v!=null&&c(n,["googleSearchRetrieval"],v);const h=u(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}var ci;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(ci||(ci={}));class Go{constructor(n,o,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(n,s,r)}init(n,o,s){var r,d;this.nameInternal=n,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o?.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!s||Object.keys(s).length===0?f={config:{}}:typeof s=="object"?f=Object.assign({},s):f=s,f.config&&(f.config.pageToken=o.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(d=(r=f.config)===null||r===void 0?void 0:r.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}class GS extends di{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new Go(ci.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(n){const o=rg(this.apiClient,n),s=o._url,r=ne("{model}:batchGenerateContent",s),g=o.batch.inputConfig.requests,v=g.requests,h=[];for(const y of v){const T=Object.assign({},y);if(T.systemInstruction){const _=T.systemInstruction;delete T.systemInstruction;const N=T.request;N.systemInstruction=_,T.request=N}h.push(T)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,o){const s=o?Object.assign({},o):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const d=this.getGcsUri(n),f=this.getBigqueryUri(n);if(d)d.endsWith(".jsonl")?s.dest=`${d.slice(0,-6)}/dest`:s.dest=`${d}_dest_${r}`;else if(f)s.dest=`${f}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=oS(this.apiClient,n);return g=ne("batchPredictionJobs",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),f.then(y=>ld(y))}else{const h=rg(this.apiClient,n);return g=ne("{model}:batchGenerateContent",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),f.then(y=>vr(y))}}async createEmbeddingsInternal(n){var o,s;let r,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=sS(this.apiClient,n);return d=ne("{model}:asyncBatchEmbedContent",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>vr(v))}}async get(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=xS(this.apiClient,n);return g=ne("batchPredictionJobs/{name}",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),f.then(y=>ld(y))}else{const h=SS(this.apiClient,n);return g=ne("batches/{name}",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),f.then(y=>vr(y))}}async cancel(n){var o,s,r,d;let f="",g={};if(this.apiClient.isVertexAI()){const v=jy(this.apiClient,n);f=ne("batchPredictionJobs/{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const v=Wy(this.apiClient,n);f=ne("batches/{name}:cancel",v._url),g=v._query,delete v._url,delete v._query,await this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=RS(n);return g=ne("batchPredictionJobs",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>{const T=IS(y),_=new og;return Object.assign(_,T),_})}else{const h=MS(n);return g=ne("batches",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>{const T=wS(y),_=new og;return Object.assign(_,T),_})}}async delete(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=rS(this.apiClient,n);return g=ne("batchPredictionJobs/{name}",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>cS(y))}else{const h=aS(this.apiClient,n);return g=ne("batches/{name}",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>uS(y))}}}function HS(i){const n={},o=u(i,["data"]);if(o!=null&&c(n,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function ug(i){const n={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>sx(d))),c(n,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(n,["role"],s),n}function PS(i,n){const o={},s=u(i,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const r=u(i,["expireTime"]);n!==void 0&&r!=null&&c(n,["expireTime"],r);const d=u(i,["displayName"]);n!==void 0&&d!=null&&c(n,["displayName"],d);const f=u(i,["contents"]);if(n!==void 0&&f!=null){let y=yn(f);Array.isArray(y)&&(y=y.map(T=>ug(T))),c(n,["contents"],y)}const g=u(i,["systemInstruction"]);n!==void 0&&g!=null&&c(n,["systemInstruction"],ug(Dt(g)));const v=u(i,["tools"]);if(n!==void 0&&v!=null){let y=v;Array.isArray(y)&&(y=y.map(T=>rx(T))),c(n,["tools"],y)}const h=u(i,["toolConfig"]);if(n!==void 0&&h!=null&&c(n,["toolConfig"],ax(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function VS(i,n){const o={},s=u(i,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const r=u(i,["expireTime"]);n!==void 0&&r!=null&&c(n,["expireTime"],r);const d=u(i,["displayName"]);n!==void 0&&d!=null&&c(n,["displayName"],d);const f=u(i,["contents"]);if(n!==void 0&&f!=null){let T=yn(f);Array.isArray(T)&&(T=T.map(_=>_)),c(n,["contents"],T)}const g=u(i,["systemInstruction"]);n!==void 0&&g!=null&&c(n,["systemInstruction"],Dt(g));const v=u(i,["tools"]);if(n!==void 0&&v!=null){let T=v;Array.isArray(T)&&(T=T.map(_=>ux(_))),c(n,["tools"],T)}const h=u(i,["toolConfig"]);n!==void 0&&h!=null&&c(n,["toolConfig"],h);const y=u(i,["kmsKeyName"]);return n!==void 0&&y!=null&&c(n,["encryption_spec","kmsKeyName"],y),o}function qS(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["model"],Ig(i,s));const r=u(n,["config"]);return r!=null&&PS(r,o),o}function zS(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["model"],Ig(i,s));const r=u(n,["config"]);return r!=null&&VS(r,o),o}function BS(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],fi(i,s)),o}function OS(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],fi(i,s)),o}function FS(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function JS(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function YS(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function KS(i){const n={},o=u(i,["id"]);o!=null&&c(n,["id"],o);const s=u(i,["args"]);s!=null&&c(n,["args"],s);const r=u(i,["name"]);if(r!=null&&c(n,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function XS(i){const n={},o=u(i,["allowedFunctionNames"]);o!=null&&c(n,["allowedFunctionNames"],o);const s=u(i,["mode"]);if(s!=null&&c(n,["mode"],s),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function QS(i){const n={},o=u(i,["description"]);o!=null&&c(n,["description"],o);const s=u(i,["name"]);s!=null&&c(n,["name"],s);const r=u(i,["parameters"]);r!=null&&c(n,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const f=u(i,["response"]);f!=null&&c(n,["response"],f);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(n,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function ZS(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],fi(i,s)),o}function $S(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],fi(i,s)),o}function WS(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function jS(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function ex(i,n){const o={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function tx(i,n){const o={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function nx(i){const n={},o=u(i,["config"]);return o!=null&&ex(o,n),n}function ix(i){const n={},o=u(i,["config"]);return o!=null&&tx(o,n),n}function ox(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),c(n,["cachedContents"],d)}return n}function lx(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),c(n,["cachedContents"],d)}return n}function sx(i){const n={},o=u(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(n,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(n,["fileData"],YS(d));const f=u(i,["functionCall"]);f!=null&&c(n,["functionCall"],KS(f));const g=u(i,["functionResponse"]);g!=null&&c(n,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(n,["inlineData"],HS(v));const h=u(i,["text"]);h!=null&&c(n,["text"],h);const y=u(i,["thought"]);y!=null&&c(n,["thought"],y);const T=u(i,["thoughtSignature"]);T!=null&&c(n,["thoughtSignature"],T);const _=u(i,["videoMetadata"]);return _!=null&&c(n,["videoMetadata"],_),n}function ax(i){const n={},o=u(i,["retrievalConfig"]);o!=null&&c(n,["retrievalConfig"],o);const s=u(i,["functionCallingConfig"]);return s!=null&&c(n,["functionCallingConfig"],XS(s)),n}function rx(i){const n={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(n,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&c(n,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&c(n,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(T=>T)),c(n,["functionDeclarations"],y)}const f=u(i,["googleMaps"]);f!=null&&c(n,["googleMaps"],WS(f));const g=u(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],jS(g));const v=u(i,["googleSearchRetrieval"]);v!=null&&c(n,["googleSearchRetrieval"],v);const h=u(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function ux(i){const n={},o=u(i,["retrieval"]);o!=null&&c(n,["retrieval"],o);const s=u(i,["computerUse"]);if(s!=null&&c(n,["computerUse"],s),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(n,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&c(n,["enterpriseWebSearch"],d);const f=u(i,["functionDeclarations"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(_=>QS(_))),c(n,["functionDeclarations"],T)}const g=u(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],g);const v=u(i,["googleSearch"]);v!=null&&c(n,["googleSearch"],v);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(n,["googleSearchRetrieval"],h);const y=u(i,["urlContext"]);return y!=null&&c(n,["urlContext"],y),n}function cx(i,n){const o={},s=u(i,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const r=u(i,["expireTime"]);return n!==void 0&&r!=null&&c(n,["expireTime"],r),o}function dx(i,n){const o={},s=u(i,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const r=u(i,["expireTime"]);return n!==void 0&&r!=null&&c(n,["expireTime"],r),o}function fx(i,n){const o={},s=u(n,["name"]);s!=null&&c(o,["_url","name"],fi(i,s));const r=u(n,["config"]);return r!=null&&cx(r,o),o}function mx(i,n){const o={},s=u(n,["name"]);s!=null&&c(o,["_url","name"],fi(i,s));const r=u(n,["config"]);return r!=null&&dx(r,o),o}class px extends di{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new Go(ci.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=zS(this.apiClient,n);return g=ne("cachedContents",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),f.then(y=>y)}else{const h=qS(this.apiClient,n);return g=ne("cachedContents",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),f.then(y=>y)}}async get(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=$S(this.apiClient,n);return g=ne("{name}",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),f.then(y=>y)}else{const h=ZS(this.apiClient,n);return g=ne("{name}",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),f.then(y=>y)}}async delete(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=OS(this.apiClient,n);return g=ne("{name}",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>{const T=JS(y),_=new ng;return Object.assign(_,T),_})}else{const h=BS(this.apiClient,n);return g=ne("{name}",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>{const T=FS(y),_=new ng;return Object.assign(_,T),_})}}async update(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=mx(this.apiClient,n);return g=ne("{name}",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),f.then(y=>y)}else{const h=fx(this.apiClient,n);return g=ne("{name}",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),f.then(y=>y)}}async listInternal(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=ix(n);return g=ne("cachedContents",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>{const T=lx(y),_=new ig;return Object.assign(_,T),_})}else{const h=nx(n);return g=ne("cachedContents",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>{const T=ox(y),_=new ig;return Object.assign(_,T),_})}}}function _r(i,n){var o={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&n.indexOf(s)<0&&(o[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(i);r<s.length;r++)n.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(i,s[r])&&(o[s[r]]=i[s[r]]);return o}function cg(i){var n=typeof Symbol=="function"&&Symbol.iterator,o=n&&i[n],s=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function pe(i){return this instanceof pe?(this.v=i,this):new pe(i)}function In(i,n,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(i,n||[]),r,d=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",f),r[Symbol.asyncIterator]=function(){return this},r;function f(N){return function(U){return Promise.resolve(U).then(N,T)}}function g(N,U){s[N]&&(r[N]=function(V){return new Promise(function(H,Y){d.push([N,V,H,Y])>1||v(N,V)})},U&&(r[N]=U(r[N])))}function v(N,U){try{h(s[N](U))}catch(V){_(d[0][3],V)}}function h(N){N.value instanceof pe?Promise.resolve(N.value.v).then(y,T):_(d[0][2],N)}function y(N){v("next",N)}function T(N){v("throw",N)}function _(N,U){N(U),d.shift(),d.length&&v(d[0][0],d[0][1])}}function Dn(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],o;return n?n.call(i):(i=typeof cg=="function"?cg(i):i[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(d){o[d]=i[d]&&function(f){return new Promise(function(g,v){f=i[d](f),r(g,v,f.done,f.value)})}}function r(d,f,g,v){Promise.resolve(v).then(function(h){d({value:h,done:g})},f)}}function hx(i){var n;if(i.candidates==null||i.candidates.length===0)return!1;const o=(n=i.candidates[0])===null||n===void 0?void 0:n.content;return o===void 0?!1:Fg(o)}function Fg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const n of i.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function gx(i){if(i.length!==0){for(const n of i)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function dg(i){if(i===void 0||i.length===0)return[];const n=[],o=i.length;let s=0;for(;s<o;)if(i[s].role==="user")n.push(i[s]),s++;else{const r=[];let d=!0;for(;s<o&&i[s].role==="model";)r.push(i[s]),d&&!Fg(i[s])&&(d=!1),s++;d?n.push(...r):n.pop()}return n}class vx{constructor(n,o){this.modelsModule=n,this.apiClient=o}create(n){return new yx(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class yx{constructor(n,o,s,r={},d=[]){this.apiClient=n,this.modelsModule=o,this.model=s,this.config=r,this.history=d,this.sendPromise=Promise.resolve(),gx(d)}async sendMessage(n){var o;await this.sendPromise;const s=Dt(n.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=n.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,f,g;const v=await r,h=(f=(d=v.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content,y=v.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let _=[];y!=null&&(_=(g=y.slice(T))!==null&&g!==void 0?g:[]);const N=h?[h]:[];this.recordHistory(s,N,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(n){var o;await this.sendPromise;const s=Dt(n.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=n.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const d=await r;return this.processStreamResponse(d,s)}getHistory(n=!1){const o=n?dg(this.history):this.history;return structuredClone(o)}processStreamResponse(n,o){return In(this,arguments,function*(){var r,d,f,g,v,h;const y=[];try{for(var T=!0,_=Dn(n),N;N=yield pe(_.next()),r=N.done,!r;T=!0){g=N.value,T=!1;const U=g;if(hx(U)){const V=(h=(v=U.candidates)===null||v===void 0?void 0:v[0])===null||h===void 0?void 0:h.content;V!==void 0&&y.push(V)}yield yield pe(U)}}catch(U){d={error:U}}finally{try{!T&&!r&&(f=_.return)&&(yield pe(f.call(_)))}finally{if(d)throw d.error}}this.recordHistory(o,y)})}recordHistory(n,o,s){let r=[];o.length>0&&o.every(d=>d.role!==void 0)?r=o:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...dg(s)):this.history.push(n),this.history.push(...r)}}class Gs extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,Gs.prototype)}}function Sx(i){const n={},o=u(i,["file"]);return o!=null&&c(n,["file"],o),n}function xx(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function Tx(i){const n={},o=u(i,["name"]);return o!=null&&c(n,["_url","file"],Hg(o)),n}function _x(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function Ex(i){const n={},o=u(i,["name"]);return o!=null&&c(n,["_url","file"],Hg(o)),n}function Cx(i){const n={},o=u(i,["uris"]);return o!=null&&c(n,["uris"],o),n}function Ax(i,n){const o={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function bx(i){const n={},o=u(i,["config"]);return o!=null&&Ax(o,n),n}function Nx(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["files"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),c(n,["files"],d)}return n}function Mx(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["files"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),c(n,["files"],r)}return n}class Rx extends di{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new Go(ci.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(o=>o)}async download(n){await this.apiClient.downloadFile(n)}async registerFiles(n){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(n){return this.registerFilesInternal(n)}async listInternal(n){var o,s;let r,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=bx(n);return d=ne("files",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const h=Nx(v),y=new wy;return Object.assign(y,h),y})}}async createInternal(n){var o,s;let r,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Sx(n);return d=ne("upload/v1beta/files",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=xx(v),y=new Iy;return Object.assign(y,h),y})}}async get(n){var o,s;let r,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Ex(n);return d=ne("files/{file}",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(n){var o,s;let r,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Tx(n);return d=ne("files/{file}",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const h=_x(v),y=new Dy;return Object.assign(y,h),y})}}async registerFilesInternal(n){var o,s;let r,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Cx(n);return d=ne("files:register",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=Mx(v),y=new Uy;return Object.assign(y,h),y})}}}function yr(i){const n={},o=u(i,["data"]);if(o!=null&&c(n,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function wx(i){const n={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>Yx(d))),c(n,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(n,["role"],s),n}function Ix(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function Dx(i){const n={},o=u(i,["id"]);o!=null&&c(n,["id"],o);const s=u(i,["args"]);s!=null&&c(n,["args"],s);const r=u(i,["name"]);if(r!=null&&c(n,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function Ux(i){const n={},o=u(i,["description"]);o!=null&&c(n,["description"],o);const s=u(i,["name"]);s!=null&&c(n,["name"],s);const r=u(i,["parameters"]);r!=null&&c(n,["parameters"],r);const d=u(i,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const f=u(i,["response"]);f!=null&&c(n,["response"],f);const g=u(i,["responseJsonSchema"]);if(g!=null&&c(n,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function Lx(i){const n={},o=u(i,["modelSelectionConfig"]);o!=null&&c(n,["modelConfig"],o);const s=u(i,["responseJsonSchema"]);s!=null&&c(n,["responseJsonSchema"],s);const r=u(i,["audioTimestamp"]);r!=null&&c(n,["audioTimestamp"],r);const d=u(i,["candidateCount"]);d!=null&&c(n,["candidateCount"],d);const f=u(i,["enableAffectiveDialog"]);f!=null&&c(n,["enableAffectiveDialog"],f);const g=u(i,["frequencyPenalty"]);g!=null&&c(n,["frequencyPenalty"],g);const v=u(i,["logprobs"]);v!=null&&c(n,["logprobs"],v);const h=u(i,["maxOutputTokens"]);h!=null&&c(n,["maxOutputTokens"],h);const y=u(i,["mediaResolution"]);y!=null&&c(n,["mediaResolution"],y);const T=u(i,["presencePenalty"]);T!=null&&c(n,["presencePenalty"],T);const _=u(i,["responseLogprobs"]);_!=null&&c(n,["responseLogprobs"],_);const N=u(i,["responseMimeType"]);N!=null&&c(n,["responseMimeType"],N);const U=u(i,["responseModalities"]);U!=null&&c(n,["responseModalities"],U);const V=u(i,["responseSchema"]);V!=null&&c(n,["responseSchema"],V);const H=u(i,["routingConfig"]);H!=null&&c(n,["routingConfig"],H);const Y=u(i,["seed"]);Y!=null&&c(n,["seed"],Y);const j=u(i,["speechConfig"]);j!=null&&c(n,["speechConfig"],j);const X=u(i,["stopSequences"]);X!=null&&c(n,["stopSequences"],X);const $=u(i,["temperature"]);$!=null&&c(n,["temperature"],$);const O=u(i,["thinkingConfig"]);O!=null&&c(n,["thinkingConfig"],O);const te=u(i,["topK"]);te!=null&&c(n,["topK"],te);const W=u(i,["topP"]);if(W!=null&&c(n,["topP"],W),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function kx(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function Gx(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function Hx(i,n){const o={},s=u(i,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const f=u(i,["topP"]);n!==void 0&&f!=null&&c(n,["setup","generationConfig","topP"],f);const g=u(i,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const v=u(i,["maxOutputTokens"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","maxOutputTokens"],v);const h=u(i,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const y=u(i,["seed"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","seed"],y);const T=u(i,["speechConfig"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","speechConfig"],_d(T));const _=u(i,["thinkingConfig"]);n!==void 0&&_!=null&&c(n,["setup","generationConfig","thinkingConfig"],_);const N=u(i,["enableAffectiveDialog"]);n!==void 0&&N!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],N);const U=u(i,["systemInstruction"]);n!==void 0&&U!=null&&c(n,["setup","systemInstruction"],wx(Dt(U)));const V=u(i,["tools"]);if(n!==void 0&&V!=null){let te=Ll(V);Array.isArray(te)&&(te=te.map(W=>Xx(Ul(W)))),c(n,["setup","tools"],te)}const H=u(i,["sessionResumption"]);n!==void 0&&H!=null&&c(n,["setup","sessionResumption"],Kx(H));const Y=u(i,["inputAudioTranscription"]);n!==void 0&&Y!=null&&c(n,["setup","inputAudioTranscription"],Y);const j=u(i,["outputAudioTranscription"]);n!==void 0&&j!=null&&c(n,["setup","outputAudioTranscription"],j);const X=u(i,["realtimeInputConfig"]);n!==void 0&&X!=null&&c(n,["setup","realtimeInputConfig"],X);const $=u(i,["contextWindowCompression"]);n!==void 0&&$!=null&&c(n,["setup","contextWindowCompression"],$);const O=u(i,["proactivity"]);if(n!==void 0&&O!=null&&c(n,["setup","proactivity"],O),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function Px(i,n){const o={},s=u(i,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],Lx(s));const r=u(i,["responseModalities"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const f=u(i,["topP"]);n!==void 0&&f!=null&&c(n,["setup","generationConfig","topP"],f);const g=u(i,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const v=u(i,["maxOutputTokens"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","maxOutputTokens"],v);const h=u(i,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const y=u(i,["seed"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","seed"],y);const T=u(i,["speechConfig"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","speechConfig"],_d(T));const _=u(i,["thinkingConfig"]);n!==void 0&&_!=null&&c(n,["setup","generationConfig","thinkingConfig"],_);const N=u(i,["enableAffectiveDialog"]);n!==void 0&&N!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],N);const U=u(i,["systemInstruction"]);n!==void 0&&U!=null&&c(n,["setup","systemInstruction"],Dt(U));const V=u(i,["tools"]);if(n!==void 0&&V!=null){let W=Ll(V);Array.isArray(W)&&(W=W.map(ie=>Qx(Ul(ie)))),c(n,["setup","tools"],W)}const H=u(i,["sessionResumption"]);n!==void 0&&H!=null&&c(n,["setup","sessionResumption"],H);const Y=u(i,["inputAudioTranscription"]);n!==void 0&&Y!=null&&c(n,["setup","inputAudioTranscription"],Y);const j=u(i,["outputAudioTranscription"]);n!==void 0&&j!=null&&c(n,["setup","outputAudioTranscription"],j);const X=u(i,["realtimeInputConfig"]);n!==void 0&&X!=null&&c(n,["setup","realtimeInputConfig"],X);const $=u(i,["contextWindowCompression"]);n!==void 0&&$!=null&&c(n,["setup","contextWindowCompression"],$);const O=u(i,["proactivity"]);n!==void 0&&O!=null&&c(n,["setup","proactivity"],O);const te=u(i,["explicitVadSignal"]);return n!==void 0&&te!=null&&c(n,["setup","explicitVadSignal"],te),o}function Vx(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["setup","model"],Ge(i,s));const r=u(n,["config"]);return r!=null&&c(o,["config"],Hx(r,o)),o}function qx(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["setup","model"],Ge(i,s));const r=u(n,["config"]);return r!=null&&c(o,["config"],Px(r,o)),o}function zx(i){const n={},o=u(i,["musicGenerationConfig"]);return o!=null&&c(n,["musicGenerationConfig"],o),n}function Bx(i){const n={},o=u(i,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(n,["weightedPrompts"],s)}return n}function Ox(i){const n={},o=u(i,["media"]);if(o!=null){let h=Dg(o);Array.isArray(h)&&(h=h.map(y=>yr(y))),c(n,["mediaChunks"],h)}const s=u(i,["audio"]);s!=null&&c(n,["audio"],yr(Lg(s)));const r=u(i,["audioStreamEnd"]);r!=null&&c(n,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(n,["video"],yr(Ug(d)));const f=u(i,["text"]);f!=null&&c(n,["text"],f);const g=u(i,["activityStart"]);g!=null&&c(n,["activityStart"],g);const v=u(i,["activityEnd"]);return v!=null&&c(n,["activityEnd"],v),n}function Fx(i){const n={},o=u(i,["media"]);if(o!=null){let h=Dg(o);Array.isArray(h)&&(h=h.map(y=>y)),c(n,["mediaChunks"],h)}const s=u(i,["audio"]);s!=null&&c(n,["audio"],Lg(s));const r=u(i,["audioStreamEnd"]);r!=null&&c(n,["audioStreamEnd"],r);const d=u(i,["video"]);d!=null&&c(n,["video"],Ug(d));const f=u(i,["text"]);f!=null&&c(n,["text"],f);const g=u(i,["activityStart"]);g!=null&&c(n,["activityStart"],g);const v=u(i,["activityEnd"]);return v!=null&&c(n,["activityEnd"],v),n}function Jx(i){const n={},o=u(i,["setupComplete"]);o!=null&&c(n,["setupComplete"],o);const s=u(i,["serverContent"]);s!=null&&c(n,["serverContent"],s);const r=u(i,["toolCall"]);r!=null&&c(n,["toolCall"],r);const d=u(i,["toolCallCancellation"]);d!=null&&c(n,["toolCallCancellation"],d);const f=u(i,["usageMetadata"]);f!=null&&c(n,["usageMetadata"],Zx(f));const g=u(i,["goAway"]);g!=null&&c(n,["goAway"],g);const v=u(i,["sessionResumptionUpdate"]);v!=null&&c(n,["sessionResumptionUpdate"],v);const h=u(i,["voiceActivityDetectionSignal"]);h!=null&&c(n,["voiceActivityDetectionSignal"],h);const y=u(i,["voiceActivity"]);return y!=null&&c(n,["voiceActivity"],$x(y)),n}function Yx(i){const n={},o=u(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(n,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(n,["fileData"],Ix(d));const f=u(i,["functionCall"]);f!=null&&c(n,["functionCall"],Dx(f));const g=u(i,["functionResponse"]);g!=null&&c(n,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(n,["inlineData"],yr(v));const h=u(i,["text"]);h!=null&&c(n,["text"],h);const y=u(i,["thought"]);y!=null&&c(n,["thought"],y);const T=u(i,["thoughtSignature"]);T!=null&&c(n,["thoughtSignature"],T);const _=u(i,["videoMetadata"]);return _!=null&&c(n,["videoMetadata"],_),n}function Kx(i){const n={},o=u(i,["handle"]);if(o!=null&&c(n,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function Xx(i){const n={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(n,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&c(n,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&c(n,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(T=>T)),c(n,["functionDeclarations"],y)}const f=u(i,["googleMaps"]);f!=null&&c(n,["googleMaps"],kx(f));const g=u(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],Gx(g));const v=u(i,["googleSearchRetrieval"]);v!=null&&c(n,["googleSearchRetrieval"],v);const h=u(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function Qx(i){const n={},o=u(i,["retrieval"]);o!=null&&c(n,["retrieval"],o);const s=u(i,["computerUse"]);if(s!=null&&c(n,["computerUse"],s),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(n,["codeExecution"],r);const d=u(i,["enterpriseWebSearch"]);d!=null&&c(n,["enterpriseWebSearch"],d);const f=u(i,["functionDeclarations"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(_=>Ux(_))),c(n,["functionDeclarations"],T)}const g=u(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],g);const v=u(i,["googleSearch"]);v!=null&&c(n,["googleSearch"],v);const h=u(i,["googleSearchRetrieval"]);h!=null&&c(n,["googleSearchRetrieval"],h);const y=u(i,["urlContext"]);return y!=null&&c(n,["urlContext"],y),n}function Zx(i){const n={},o=u(i,["promptTokenCount"]);o!=null&&c(n,["promptTokenCount"],o);const s=u(i,["cachedContentTokenCount"]);s!=null&&c(n,["cachedContentTokenCount"],s);const r=u(i,["candidatesTokenCount"]);r!=null&&c(n,["responseTokenCount"],r);const d=u(i,["toolUsePromptTokenCount"]);d!=null&&c(n,["toolUsePromptTokenCount"],d);const f=u(i,["thoughtsTokenCount"]);f!=null&&c(n,["thoughtsTokenCount"],f);const g=u(i,["totalTokenCount"]);g!=null&&c(n,["totalTokenCount"],g);const v=u(i,["promptTokensDetails"]);if(v!=null){let N=v;Array.isArray(N)&&(N=N.map(U=>U)),c(n,["promptTokensDetails"],N)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let N=h;Array.isArray(N)&&(N=N.map(U=>U)),c(n,["cacheTokensDetails"],N)}const y=u(i,["candidatesTokensDetails"]);if(y!=null){let N=y;Array.isArray(N)&&(N=N.map(U=>U)),c(n,["responseTokensDetails"],N)}const T=u(i,["toolUsePromptTokensDetails"]);if(T!=null){let N=T;Array.isArray(N)&&(N=N.map(U=>U)),c(n,["toolUsePromptTokensDetails"],N)}const _=u(i,["trafficType"]);return _!=null&&c(n,["trafficType"],_),n}function $x(i){const n={},o=u(i,["type"]);return o!=null&&c(n,["voiceActivityType"],o),n}function Wx(i,n){const o={},s=u(i,["data"]);if(s!=null&&c(o,["data"],s),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["mimeType"]);return r!=null&&c(o,["mimeType"],r),o}function jx(i,n){const o={},s=u(i,["content"]);s!=null&&c(o,["content"],s);const r=u(i,["citationMetadata"]);r!=null&&c(o,["citationMetadata"],eT(r));const d=u(i,["tokenCount"]);d!=null&&c(o,["tokenCount"],d);const f=u(i,["finishReason"]);f!=null&&c(o,["finishReason"],f);const g=u(i,["avgLogprobs"]);g!=null&&c(o,["avgLogprobs"],g);const v=u(i,["groundingMetadata"]);v!=null&&c(o,["groundingMetadata"],v);const h=u(i,["index"]);h!=null&&c(o,["index"],h);const y=u(i,["logprobsResult"]);y!=null&&c(o,["logprobsResult"],y);const T=u(i,["safetyRatings"]);if(T!=null){let N=T;Array.isArray(N)&&(N=N.map(U=>U)),c(o,["safetyRatings"],N)}const _=u(i,["urlContextMetadata"]);return _!=null&&c(o,["urlContextMetadata"],_),o}function eT(i,n){const o={},s=u(i,["citationSources"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),c(o,["citations"],r)}return o}function tT(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ge(i,r));const d=u(n,["contents"]);if(d!=null){let f=yn(d);Array.isArray(f)&&(f=f.map(g=>g)),c(s,["contents"],f)}return s}function nT(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["tokensInfo"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),c(o,["tokensInfo"],d)}return o}function iT(i,n){const o={},s=u(i,["values"]);s!=null&&c(o,["values"],s);const r=u(i,["statistics"]);return r!=null&&c(o,["statistics"],oT(r)),o}function oT(i,n){const o={},s=u(i,["truncated"]);s!=null&&c(o,["truncated"],s);const r=u(i,["token_count"]);return r!=null&&c(o,["tokenCount"],r),o}function br(i,n){const o={},s=u(i,["parts"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>m_(f))),c(o,["parts"],d)}const r=u(i,["role"]);return r!=null&&c(o,["role"],r),o}function lT(i,n){const o={},s=u(i,["controlType"]);s!=null&&c(o,["controlType"],s);const r=u(i,["enableControlImageComputation"]);return r!=null&&c(o,["computeControl"],r),o}function sT(i,n){const o={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return o}function aT(i,n,o){const s={},r=u(i,["systemInstruction"]);n!==void 0&&r!=null&&c(n,["systemInstruction"],Dt(r));const d=u(i,["tools"]);if(n!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>Xg(v))),c(n,["tools"],g)}const f=u(i,["generationConfig"]);return n!==void 0&&f!=null&&c(n,["generationConfig"],WT(f)),s}function rT(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ge(i,r));const d=u(n,["contents"]);if(d!=null){let g=yn(d);Array.isArray(g)&&(g=g.map(v=>br(v))),c(s,["contents"],g)}const f=u(n,["config"]);return f!=null&&sT(f),s}function uT(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ge(i,r));const d=u(n,["contents"]);if(d!=null){let g=yn(d);Array.isArray(g)&&(g=g.map(v=>v)),c(s,["contents"],g)}const f=u(n,["config"]);return f!=null&&aT(f,s),s}function cT(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["totalTokens"]);r!=null&&c(o,["totalTokens"],r);const d=u(i,["cachedContentTokenCount"]);return d!=null&&c(o,["cachedContentTokenCount"],d),o}function dT(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["totalTokens"]);return r!=null&&c(o,["totalTokens"],r),o}function fT(i,n,o){const s={},r=u(n,["model"]);return r!=null&&c(s,["_url","name"],Ge(i,r)),s}function mT(i,n,o){const s={},r=u(n,["model"]);return r!=null&&c(s,["_url","name"],Ge(i,r)),s}function pT(i,n){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&c(o,["sdkHttpResponse"],s),o}function hT(i,n){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&c(o,["sdkHttpResponse"],s),o}function gT(i,n,o){const s={},r=u(i,["outputGcsUri"]);n!==void 0&&r!=null&&c(n,["parameters","storageUri"],r);const d=u(i,["negativePrompt"]);n!==void 0&&d!=null&&c(n,["parameters","negativePrompt"],d);const f=u(i,["numberOfImages"]);n!==void 0&&f!=null&&c(n,["parameters","sampleCount"],f);const g=u(i,["aspectRatio"]);n!==void 0&&g!=null&&c(n,["parameters","aspectRatio"],g);const v=u(i,["guidanceScale"]);n!==void 0&&v!=null&&c(n,["parameters","guidanceScale"],v);const h=u(i,["seed"]);n!==void 0&&h!=null&&c(n,["parameters","seed"],h);const y=u(i,["safetyFilterLevel"]);n!==void 0&&y!=null&&c(n,["parameters","safetySetting"],y);const T=u(i,["personGeneration"]);n!==void 0&&T!=null&&c(n,["parameters","personGeneration"],T);const _=u(i,["includeSafetyAttributes"]);n!==void 0&&_!=null&&c(n,["parameters","includeSafetyAttributes"],_);const N=u(i,["includeRaiReason"]);n!==void 0&&N!=null&&c(n,["parameters","includeRaiReason"],N);const U=u(i,["language"]);n!==void 0&&U!=null&&c(n,["parameters","language"],U);const V=u(i,["outputMimeType"]);n!==void 0&&V!=null&&c(n,["parameters","outputOptions","mimeType"],V);const H=u(i,["outputCompressionQuality"]);n!==void 0&&H!=null&&c(n,["parameters","outputOptions","compressionQuality"],H);const Y=u(i,["addWatermark"]);n!==void 0&&Y!=null&&c(n,["parameters","addWatermark"],Y);const j=u(i,["labels"]);n!==void 0&&j!=null&&c(n,["labels"],j);const X=u(i,["editMode"]);n!==void 0&&X!=null&&c(n,["parameters","editMode"],X);const $=u(i,["baseSteps"]);return n!==void 0&&$!=null&&c(n,["parameters","editConfig","baseSteps"],$),s}function vT(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ge(i,r));const d=u(n,["prompt"]);d!=null&&c(s,["instances[0]","prompt"],d);const f=u(n,["referenceImages"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(h=>S_(h))),c(s,["instances[0]","referenceImages"],v)}const g=u(n,["config"]);return g!=null&&gT(g,s),s}function yT(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>Nr(f))),c(o,["generatedImages"],d)}return o}function ST(i,n,o){const s={},r=u(i,["taskType"]);n!==void 0&&r!=null&&c(n,["requests[]","taskType"],r);const d=u(i,["title"]);n!==void 0&&d!=null&&c(n,["requests[]","title"],d);const f=u(i,["outputDimensionality"]);if(n!==void 0&&f!=null&&c(n,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function xT(i,n,o){const s={},r=u(i,["taskType"]);n!==void 0&&r!=null&&c(n,["instances[]","task_type"],r);const d=u(i,["title"]);n!==void 0&&d!=null&&c(n,["instances[]","title"],d);const f=u(i,["outputDimensionality"]);n!==void 0&&f!=null&&c(n,["parameters","outputDimensionality"],f);const g=u(i,["mimeType"]);n!==void 0&&g!=null&&c(n,["instances[]","mimeType"],g);const v=u(i,["autoTruncate"]);return n!==void 0&&v!=null&&c(n,["parameters","autoTruncate"],v),s}function TT(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ge(i,r));const d=u(n,["contents"]);if(d!=null){let v=Sd(i,d);Array.isArray(v)&&(v=v.map(h=>h)),c(s,["requests[]","content"],v)}const f=u(n,["config"]);f!=null&&ST(f,s);const g=u(n,["model"]);return g!==void 0&&c(s,["requests[]","model"],Ge(i,g)),s}function _T(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ge(i,r));const d=u(n,["contents"]);if(d!=null){let g=Sd(i,d);Array.isArray(g)&&(g=g.map(v=>v)),c(s,["instances[]","content"],g)}const f=u(n,["config"]);return f!=null&&xT(f,s),s}function ET(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["embeddings"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>g)),c(o,["embeddings"],f)}const d=u(i,["metadata"]);return d!=null&&c(o,["metadata"],d),o}function CT(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["predictions[]","embeddings"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>iT(g))),c(o,["embeddings"],f)}const d=u(i,["metadata"]);return d!=null&&c(o,["metadata"],d),o}function AT(i,n){const o={},s=u(i,["endpoint"]);s!=null&&c(o,["name"],s);const r=u(i,["deployedModelId"]);return r!=null&&c(o,["deployedModelId"],r),o}function bT(i,n){const o={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["fileUri"]);s!=null&&c(o,["fileUri"],s);const r=u(i,["mimeType"]);return r!=null&&c(o,["mimeType"],r),o}function NT(i,n){const o={},s=u(i,["id"]);s!=null&&c(o,["id"],s);const r=u(i,["args"]);r!=null&&c(o,["args"],r);const d=u(i,["name"]);if(d!=null&&c(o,["name"],d),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return o}function MT(i,n){const o={},s=u(i,["allowedFunctionNames"]);s!=null&&c(o,["allowedFunctionNames"],s);const r=u(i,["mode"]);if(r!=null&&c(o,["mode"],r),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return o}function RT(i,n){const o={},s=u(i,["description"]);s!=null&&c(o,["description"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const d=u(i,["parameters"]);d!=null&&c(o,["parameters"],d);const f=u(i,["parametersJsonSchema"]);f!=null&&c(o,["parametersJsonSchema"],f);const g=u(i,["response"]);g!=null&&c(o,["response"],g);const v=u(i,["responseJsonSchema"]);if(v!=null&&c(o,["responseJsonSchema"],v),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return o}function wT(i,n,o,s){const r={},d=u(n,["systemInstruction"]);o!==void 0&&d!=null&&c(o,["systemInstruction"],br(Dt(d)));const f=u(n,["temperature"]);f!=null&&c(r,["temperature"],f);const g=u(n,["topP"]);g!=null&&c(r,["topP"],g);const v=u(n,["topK"]);v!=null&&c(r,["topK"],v);const h=u(n,["candidateCount"]);h!=null&&c(r,["candidateCount"],h);const y=u(n,["maxOutputTokens"]);y!=null&&c(r,["maxOutputTokens"],y);const T=u(n,["stopSequences"]);T!=null&&c(r,["stopSequences"],T);const _=u(n,["responseLogprobs"]);_!=null&&c(r,["responseLogprobs"],_);const N=u(n,["logprobs"]);N!=null&&c(r,["logprobs"],N);const U=u(n,["presencePenalty"]);U!=null&&c(r,["presencePenalty"],U);const V=u(n,["frequencyPenalty"]);V!=null&&c(r,["frequencyPenalty"],V);const H=u(n,["seed"]);H!=null&&c(r,["seed"],H);const Y=u(n,["responseMimeType"]);Y!=null&&c(r,["responseMimeType"],Y);const j=u(n,["responseSchema"]);j!=null&&c(r,["responseSchema"],xd(j));const X=u(n,["responseJsonSchema"]);if(X!=null&&c(r,["responseJsonSchema"],X),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const $=u(n,["safetySettings"]);if(o!==void 0&&$!=null){let Ve=$;Array.isArray(Ve)&&(Ve=Ve.map(De=>x_(De))),c(o,["safetySettings"],Ve)}const O=u(n,["tools"]);if(o!==void 0&&O!=null){let Ve=Ll(O);Array.isArray(Ve)&&(Ve=Ve.map(De=>N_(Ul(De)))),c(o,["tools"],Ve)}const te=u(n,["toolConfig"]);if(o!==void 0&&te!=null&&c(o,["toolConfig"],b_(te)),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=u(n,["cachedContent"]);o!==void 0&&W!=null&&c(o,["cachedContent"],fi(i,W));const ie=u(n,["responseModalities"]);ie!=null&&c(r,["responseModalities"],ie);const oe=u(n,["mediaResolution"]);oe!=null&&c(r,["mediaResolution"],oe);const he=u(n,["speechConfig"]);if(he!=null&&c(r,["speechConfig"],Td(he)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Ie=u(n,["thinkingConfig"]);Ie!=null&&c(r,["thinkingConfig"],Ie);const Me=u(n,["imageConfig"]);Me!=null&&c(r,["imageConfig"],i_(Me));const Qe=u(n,["enableEnhancedCivicAnswers"]);if(Qe!=null&&c(r,["enableEnhancedCivicAnswers"],Qe),u(n,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function IT(i,n,o,s){const r={},d=u(n,["systemInstruction"]);o!==void 0&&d!=null&&c(o,["systemInstruction"],Dt(d));const f=u(n,["temperature"]);f!=null&&c(r,["temperature"],f);const g=u(n,["topP"]);g!=null&&c(r,["topP"],g);const v=u(n,["topK"]);v!=null&&c(r,["topK"],v);const h=u(n,["candidateCount"]);h!=null&&c(r,["candidateCount"],h);const y=u(n,["maxOutputTokens"]);y!=null&&c(r,["maxOutputTokens"],y);const T=u(n,["stopSequences"]);T!=null&&c(r,["stopSequences"],T);const _=u(n,["responseLogprobs"]);_!=null&&c(r,["responseLogprobs"],_);const N=u(n,["logprobs"]);N!=null&&c(r,["logprobs"],N);const U=u(n,["presencePenalty"]);U!=null&&c(r,["presencePenalty"],U);const V=u(n,["frequencyPenalty"]);V!=null&&c(r,["frequencyPenalty"],V);const H=u(n,["seed"]);H!=null&&c(r,["seed"],H);const Y=u(n,["responseMimeType"]);Y!=null&&c(r,["responseMimeType"],Y);const j=u(n,["responseSchema"]);j!=null&&c(r,["responseSchema"],xd(j));const X=u(n,["responseJsonSchema"]);X!=null&&c(r,["responseJsonSchema"],X);const $=u(n,["routingConfig"]);$!=null&&c(r,["routingConfig"],$);const O=u(n,["modelSelectionConfig"]);O!=null&&c(r,["modelConfig"],O);const te=u(n,["safetySettings"]);if(o!==void 0&&te!=null){let re=te;Array.isArray(re)&&(re=re.map(xe=>xe)),c(o,["safetySettings"],re)}const W=u(n,["tools"]);if(o!==void 0&&W!=null){let re=Ll(W);Array.isArray(re)&&(re=re.map(xe=>Xg(Ul(xe)))),c(o,["tools"],re)}const ie=u(n,["toolConfig"]);o!==void 0&&ie!=null&&c(o,["toolConfig"],ie);const oe=u(n,["labels"]);o!==void 0&&oe!=null&&c(o,["labels"],oe);const he=u(n,["cachedContent"]);o!==void 0&&he!=null&&c(o,["cachedContent"],fi(i,he));const Ie=u(n,["responseModalities"]);Ie!=null&&c(r,["responseModalities"],Ie);const Me=u(n,["mediaResolution"]);Me!=null&&c(r,["mediaResolution"],Me);const Qe=u(n,["speechConfig"]);Qe!=null&&c(r,["speechConfig"],Td(Qe));const Ve=u(n,["audioTimestamp"]);Ve!=null&&c(r,["audioTimestamp"],Ve);const De=u(n,["thinkingConfig"]);De!=null&&c(r,["thinkingConfig"],De);const q=u(n,["imageConfig"]);if(q!=null&&c(r,["imageConfig"],o_(q)),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const Z=u(n,["modelArmorConfig"]);return o!==void 0&&Z!=null&&c(o,["modelArmorConfig"],Z),r}function fg(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ge(i,r));const d=u(n,["contents"]);if(d!=null){let g=yn(d);Array.isArray(g)&&(g=g.map(v=>br(v))),c(s,["contents"],g)}const f=u(n,["config"]);return f!=null&&c(s,["generationConfig"],wT(i,f,s)),s}function mg(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ge(i,r));const d=u(n,["contents"]);if(d!=null){let g=yn(d);Array.isArray(g)&&(g=g.map(v=>v)),c(s,["contents"],g)}const f=u(n,["config"]);return f!=null&&c(s,["generationConfig"],IT(i,f,s)),s}function pg(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(y=>jx(y))),c(o,["candidates"],h)}const d=u(i,["modelVersion"]);d!=null&&c(o,["modelVersion"],d);const f=u(i,["promptFeedback"]);f!=null&&c(o,["promptFeedback"],f);const g=u(i,["responseId"]);g!=null&&c(o,["responseId"],g);const v=u(i,["usageMetadata"]);return v!=null&&c(o,["usageMetadata"],v),o}function hg(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["candidates"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(T=>T)),c(o,["candidates"],y)}const d=u(i,["createTime"]);d!=null&&c(o,["createTime"],d);const f=u(i,["modelVersion"]);f!=null&&c(o,["modelVersion"],f);const g=u(i,["promptFeedback"]);g!=null&&c(o,["promptFeedback"],g);const v=u(i,["responseId"]);v!=null&&c(o,["responseId"],v);const h=u(i,["usageMetadata"]);return h!=null&&c(o,["usageMetadata"],h),o}function DT(i,n,o){const s={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=u(i,["numberOfImages"]);n!==void 0&&r!=null&&c(n,["parameters","sampleCount"],r);const d=u(i,["aspectRatio"]);n!==void 0&&d!=null&&c(n,["parameters","aspectRatio"],d);const f=u(i,["guidanceScale"]);if(n!==void 0&&f!=null&&c(n,["parameters","guidanceScale"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=u(i,["safetyFilterLevel"]);n!==void 0&&g!=null&&c(n,["parameters","safetySetting"],g);const v=u(i,["personGeneration"]);n!==void 0&&v!=null&&c(n,["parameters","personGeneration"],v);const h=u(i,["includeSafetyAttributes"]);n!==void 0&&h!=null&&c(n,["parameters","includeSafetyAttributes"],h);const y=u(i,["includeRaiReason"]);n!==void 0&&y!=null&&c(n,["parameters","includeRaiReason"],y);const T=u(i,["language"]);n!==void 0&&T!=null&&c(n,["parameters","language"],T);const _=u(i,["outputMimeType"]);n!==void 0&&_!=null&&c(n,["parameters","outputOptions","mimeType"],_);const N=u(i,["outputCompressionQuality"]);if(n!==void 0&&N!=null&&c(n,["parameters","outputOptions","compressionQuality"],N),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=u(i,["imageSize"]);if(n!==void 0&&U!=null&&c(n,["parameters","sampleImageSize"],U),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function UT(i,n,o){const s={},r=u(i,["outputGcsUri"]);n!==void 0&&r!=null&&c(n,["parameters","storageUri"],r);const d=u(i,["negativePrompt"]);n!==void 0&&d!=null&&c(n,["parameters","negativePrompt"],d);const f=u(i,["numberOfImages"]);n!==void 0&&f!=null&&c(n,["parameters","sampleCount"],f);const g=u(i,["aspectRatio"]);n!==void 0&&g!=null&&c(n,["parameters","aspectRatio"],g);const v=u(i,["guidanceScale"]);n!==void 0&&v!=null&&c(n,["parameters","guidanceScale"],v);const h=u(i,["seed"]);n!==void 0&&h!=null&&c(n,["parameters","seed"],h);const y=u(i,["safetyFilterLevel"]);n!==void 0&&y!=null&&c(n,["parameters","safetySetting"],y);const T=u(i,["personGeneration"]);n!==void 0&&T!=null&&c(n,["parameters","personGeneration"],T);const _=u(i,["includeSafetyAttributes"]);n!==void 0&&_!=null&&c(n,["parameters","includeSafetyAttributes"],_);const N=u(i,["includeRaiReason"]);n!==void 0&&N!=null&&c(n,["parameters","includeRaiReason"],N);const U=u(i,["language"]);n!==void 0&&U!=null&&c(n,["parameters","language"],U);const V=u(i,["outputMimeType"]);n!==void 0&&V!=null&&c(n,["parameters","outputOptions","mimeType"],V);const H=u(i,["outputCompressionQuality"]);n!==void 0&&H!=null&&c(n,["parameters","outputOptions","compressionQuality"],H);const Y=u(i,["addWatermark"]);n!==void 0&&Y!=null&&c(n,["parameters","addWatermark"],Y);const j=u(i,["labels"]);n!==void 0&&j!=null&&c(n,["labels"],j);const X=u(i,["imageSize"]);n!==void 0&&X!=null&&c(n,["parameters","sampleImageSize"],X);const $=u(i,["enhancePrompt"]);return n!==void 0&&$!=null&&c(n,["parameters","enhancePrompt"],$),s}function LT(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ge(i,r));const d=u(n,["prompt"]);d!=null&&c(s,["instances[0]","prompt"],d);const f=u(n,["config"]);return f!=null&&DT(f,s),s}function kT(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ge(i,r));const d=u(n,["prompt"]);d!=null&&c(s,["instances[0]","prompt"],d);const f=u(n,["config"]);return f!=null&&UT(f,s),s}function GT(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>XT(g))),c(o,["generatedImages"],f)}const d=u(i,["positivePromptSafetyAttributes"]);return d!=null&&c(o,["positivePromptSafetyAttributes"],Yg(d)),o}function HT(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>Nr(g))),c(o,["generatedImages"],f)}const d=u(i,["positivePromptSafetyAttributes"]);return d!=null&&c(o,["positivePromptSafetyAttributes"],Kg(d)),o}function PT(i,n,o){const s={},r=u(i,["numberOfVideos"]);if(n!==void 0&&r!=null&&c(n,["parameters","sampleCount"],r),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const d=u(i,["durationSeconds"]);if(n!==void 0&&d!=null&&c(n,["parameters","durationSeconds"],d),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["aspectRatio"]);n!==void 0&&f!=null&&c(n,["parameters","aspectRatio"],f);const g=u(i,["resolution"]);n!==void 0&&g!=null&&c(n,["parameters","resolution"],g);const v=u(i,["personGeneration"]);if(n!==void 0&&v!=null&&c(n,["parameters","personGeneration"],v),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=u(i,["negativePrompt"]);n!==void 0&&h!=null&&c(n,["parameters","negativePrompt"],h);const y=u(i,["enhancePrompt"]);if(n!==void 0&&y!=null&&c(n,["parameters","enhancePrompt"],y),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const T=u(i,["lastFrame"]);n!==void 0&&T!=null&&c(n,["instances[0]","lastFrame"],Mr(T));const _=u(i,["referenceImages"]);if(n!==void 0&&_!=null){let N=_;Array.isArray(N)&&(N=N.map(U=>q_(U))),c(n,["instances[0]","referenceImages"],N)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return s}function VT(i,n,o){const s={},r=u(i,["numberOfVideos"]);n!==void 0&&r!=null&&c(n,["parameters","sampleCount"],r);const d=u(i,["outputGcsUri"]);n!==void 0&&d!=null&&c(n,["parameters","storageUri"],d);const f=u(i,["fps"]);n!==void 0&&f!=null&&c(n,["parameters","fps"],f);const g=u(i,["durationSeconds"]);n!==void 0&&g!=null&&c(n,["parameters","durationSeconds"],g);const v=u(i,["seed"]);n!==void 0&&v!=null&&c(n,["parameters","seed"],v);const h=u(i,["aspectRatio"]);n!==void 0&&h!=null&&c(n,["parameters","aspectRatio"],h);const y=u(i,["resolution"]);n!==void 0&&y!=null&&c(n,["parameters","resolution"],y);const T=u(i,["personGeneration"]);n!==void 0&&T!=null&&c(n,["parameters","personGeneration"],T);const _=u(i,["pubsubTopic"]);n!==void 0&&_!=null&&c(n,["parameters","pubsubTopic"],_);const N=u(i,["negativePrompt"]);n!==void 0&&N!=null&&c(n,["parameters","negativePrompt"],N);const U=u(i,["enhancePrompt"]);n!==void 0&&U!=null&&c(n,["parameters","enhancePrompt"],U);const V=u(i,["generateAudio"]);n!==void 0&&V!=null&&c(n,["parameters","generateAudio"],V);const H=u(i,["lastFrame"]);n!==void 0&&H!=null&&c(n,["instances[0]","lastFrame"],Un(H));const Y=u(i,["referenceImages"]);if(n!==void 0&&Y!=null){let $=Y;Array.isArray($)&&($=$.map(O=>z_(O))),c(n,["instances[0]","referenceImages"],$)}const j=u(i,["mask"]);n!==void 0&&j!=null&&c(n,["instances[0]","mask"],V_(j));const X=u(i,["compressionQuality"]);return n!==void 0&&X!=null&&c(n,["parameters","compressionQuality"],X),s}function qT(i,n){const o={},s=u(i,["name"]);s!=null&&c(o,["name"],s);const r=u(i,["metadata"]);r!=null&&c(o,["metadata"],r);const d=u(i,["done"]);d!=null&&c(o,["done"],d);const f=u(i,["error"]);f!=null&&c(o,["error"],f);const g=u(i,["response","generateVideoResponse"]);return g!=null&&c(o,["response"],FT(g)),o}function zT(i,n){const o={},s=u(i,["name"]);s!=null&&c(o,["name"],s);const r=u(i,["metadata"]);r!=null&&c(o,["metadata"],r);const d=u(i,["done"]);d!=null&&c(o,["done"],d);const f=u(i,["error"]);f!=null&&c(o,["error"],f);const g=u(i,["response"]);return g!=null&&c(o,["response"],JT(g)),o}function BT(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ge(i,r));const d=u(n,["prompt"]);d!=null&&c(s,["instances[0]","prompt"],d);const f=u(n,["image"]);f!=null&&c(s,["instances[0]","image"],Mr(f));const g=u(n,["video"]);g!=null&&c(s,["instances[0]","video"],Qg(g));const v=u(n,["source"]);v!=null&&YT(v,s);const h=u(n,["config"]);return h!=null&&PT(h,s),s}function OT(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ge(i,r));const d=u(n,["prompt"]);d!=null&&c(s,["instances[0]","prompt"],d);const f=u(n,["image"]);f!=null&&c(s,["instances[0]","image"],Un(f));const g=u(n,["video"]);g!=null&&c(s,["instances[0]","video"],Zg(g));const v=u(n,["source"]);v!=null&&KT(v,s);const h=u(n,["config"]);return h!=null&&VT(h,s),s}function FT(i,n){const o={},s=u(i,["generatedSamples"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(g=>ZT(g))),c(o,["generatedVideos"],f)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&c(o,["raiMediaFilteredCount"],r);const d=u(i,["raiMediaFilteredReasons"]);return d!=null&&c(o,["raiMediaFilteredReasons"],d),o}function JT(i,n){const o={},s=u(i,["videos"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(g=>$T(g))),c(o,["generatedVideos"],f)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&c(o,["raiMediaFilteredCount"],r);const d=u(i,["raiMediaFilteredReasons"]);return d!=null&&c(o,["raiMediaFilteredReasons"],d),o}function YT(i,n,o){const s={},r=u(i,["prompt"]);n!==void 0&&r!=null&&c(n,["instances[0]","prompt"],r);const d=u(i,["image"]);n!==void 0&&d!=null&&c(n,["instances[0]","image"],Mr(d));const f=u(i,["video"]);return n!==void 0&&f!=null&&c(n,["instances[0]","video"],Qg(f)),s}function KT(i,n,o){const s={},r=u(i,["prompt"]);n!==void 0&&r!=null&&c(n,["instances[0]","prompt"],r);const d=u(i,["image"]);n!==void 0&&d!=null&&c(n,["instances[0]","image"],Un(d));const f=u(i,["video"]);return n!==void 0&&f!=null&&c(n,["instances[0]","video"],Zg(f)),s}function XT(i,n){const o={},s=u(i,["_self"]);s!=null&&c(o,["image"],l_(s));const r=u(i,["raiFilteredReason"]);r!=null&&c(o,["raiFilteredReason"],r);const d=u(i,["_self"]);return d!=null&&c(o,["safetyAttributes"],Yg(d)),o}function Nr(i,n){const o={},s=u(i,["_self"]);s!=null&&c(o,["image"],Jg(s));const r=u(i,["raiFilteredReason"]);r!=null&&c(o,["raiFilteredReason"],r);const d=u(i,["_self"]);d!=null&&c(o,["safetyAttributes"],Kg(d));const f=u(i,["prompt"]);return f!=null&&c(o,["enhancedPrompt"],f),o}function QT(i,n){const o={},s=u(i,["_self"]);s!=null&&c(o,["mask"],Jg(s));const r=u(i,["labels"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),c(o,["labels"],d)}return o}function ZT(i,n){const o={},s=u(i,["video"]);return s!=null&&c(o,["video"],H_(s)),o}function $T(i,n){const o={},s=u(i,["_self"]);return s!=null&&c(o,["video"],P_(s)),o}function WT(i,n){const o={},s=u(i,["modelSelectionConfig"]);s!=null&&c(o,["modelConfig"],s);const r=u(i,["responseJsonSchema"]);r!=null&&c(o,["responseJsonSchema"],r);const d=u(i,["audioTimestamp"]);d!=null&&c(o,["audioTimestamp"],d);const f=u(i,["candidateCount"]);f!=null&&c(o,["candidateCount"],f);const g=u(i,["enableAffectiveDialog"]);g!=null&&c(o,["enableAffectiveDialog"],g);const v=u(i,["frequencyPenalty"]);v!=null&&c(o,["frequencyPenalty"],v);const h=u(i,["logprobs"]);h!=null&&c(o,["logprobs"],h);const y=u(i,["maxOutputTokens"]);y!=null&&c(o,["maxOutputTokens"],y);const T=u(i,["mediaResolution"]);T!=null&&c(o,["mediaResolution"],T);const _=u(i,["presencePenalty"]);_!=null&&c(o,["presencePenalty"],_);const N=u(i,["responseLogprobs"]);N!=null&&c(o,["responseLogprobs"],N);const U=u(i,["responseMimeType"]);U!=null&&c(o,["responseMimeType"],U);const V=u(i,["responseModalities"]);V!=null&&c(o,["responseModalities"],V);const H=u(i,["responseSchema"]);H!=null&&c(o,["responseSchema"],H);const Y=u(i,["routingConfig"]);Y!=null&&c(o,["routingConfig"],Y);const j=u(i,["seed"]);j!=null&&c(o,["seed"],j);const X=u(i,["speechConfig"]);X!=null&&c(o,["speechConfig"],X);const $=u(i,["stopSequences"]);$!=null&&c(o,["stopSequences"],$);const O=u(i,["temperature"]);O!=null&&c(o,["temperature"],O);const te=u(i,["thinkingConfig"]);te!=null&&c(o,["thinkingConfig"],te);const W=u(i,["topK"]);W!=null&&c(o,["topK"],W);const ie=u(i,["topP"]);if(ie!=null&&c(o,["topP"],ie),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function jT(i,n,o){const s={},r=u(n,["model"]);return r!=null&&c(s,["_url","name"],Ge(i,r)),s}function e_(i,n,o){const s={},r=u(n,["model"]);return r!=null&&c(s,["_url","name"],Ge(i,r)),s}function t_(i,n){const o={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=u(i,["enableWidget"]);return s!=null&&c(o,["enableWidget"],s),o}function n_(i,n){const o={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=u(i,["timeRangeFilter"]);return s!=null&&c(o,["timeRangeFilter"],s),o}function i_(i,n){const o={},s=u(i,["aspectRatio"]);s!=null&&c(o,["aspectRatio"],s);const r=u(i,["imageSize"]);if(r!=null&&c(o,["imageSize"],r),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return o}function o_(i,n){const o={},s=u(i,["aspectRatio"]);s!=null&&c(o,["aspectRatio"],s);const r=u(i,["imageSize"]);r!=null&&c(o,["imageSize"],r);const d=u(i,["personGeneration"]);d!=null&&c(o,["personGeneration"],d);const f=u(i,["outputMimeType"]);f!=null&&c(o,["imageOutputOptions","mimeType"],f);const g=u(i,["outputCompressionQuality"]);return g!=null&&c(o,["imageOutputOptions","compressionQuality"],g),o}function l_(i,n){const o={},s=u(i,["bytesBase64Encoded"]);s!=null&&c(o,["imageBytes"],Wi(s));const r=u(i,["mimeType"]);return r!=null&&c(o,["mimeType"],r),o}function Jg(i,n){const o={},s=u(i,["gcsUri"]);s!=null&&c(o,["gcsUri"],s);const r=u(i,["bytesBase64Encoded"]);r!=null&&c(o,["imageBytes"],Wi(r));const d=u(i,["mimeType"]);return d!=null&&c(o,["mimeType"],d),o}function Mr(i,n){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=u(i,["imageBytes"]);s!=null&&c(o,["bytesBase64Encoded"],Wi(s));const r=u(i,["mimeType"]);return r!=null&&c(o,["mimeType"],r),o}function Un(i,n){const o={},s=u(i,["gcsUri"]);s!=null&&c(o,["gcsUri"],s);const r=u(i,["imageBytes"]);r!=null&&c(o,["bytesBase64Encoded"],Wi(r));const d=u(i,["mimeType"]);return d!=null&&c(o,["mimeType"],d),o}function s_(i,n,o,s){const r={},d=u(n,["pageSize"]);o!==void 0&&d!=null&&c(o,["_query","pageSize"],d);const f=u(n,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const g=u(n,["filter"]);o!==void 0&&g!=null&&c(o,["_query","filter"],g);const v=u(n,["queryBase"]);return o!==void 0&&v!=null&&c(o,["_url","models_url"],Pg(i,v)),r}function a_(i,n,o,s){const r={},d=u(n,["pageSize"]);o!==void 0&&d!=null&&c(o,["_query","pageSize"],d);const f=u(n,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const g=u(n,["filter"]);o!==void 0&&g!=null&&c(o,["_query","filter"],g);const v=u(n,["queryBase"]);return o!==void 0&&v!=null&&c(o,["_url","models_url"],Pg(i,v)),r}function r_(i,n,o){const s={},r=u(n,["config"]);return r!=null&&s_(i,r,s),s}function u_(i,n,o){const s={},r=u(n,["config"]);return r!=null&&a_(i,r,s),s}function c_(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(i,["_self"]);if(d!=null){let f=Vg(d);Array.isArray(f)&&(f=f.map(g=>sd(g))),c(o,["models"],f)}return o}function d_(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(i,["_self"]);if(d!=null){let f=Vg(d);Array.isArray(f)&&(f=f.map(g=>ad(g))),c(o,["models"],f)}return o}function f_(i,n){const o={},s=u(i,["maskMode"]);s!=null&&c(o,["maskMode"],s);const r=u(i,["segmentationClasses"]);r!=null&&c(o,["maskClasses"],r);const d=u(i,["maskDilation"]);return d!=null&&c(o,["dilation"],d),o}function sd(i,n){const o={},s=u(i,["name"]);s!=null&&c(o,["name"],s);const r=u(i,["displayName"]);r!=null&&c(o,["displayName"],r);const d=u(i,["description"]);d!=null&&c(o,["description"],d);const f=u(i,["version"]);f!=null&&c(o,["version"],f);const g=u(i,["_self"]);g!=null&&c(o,["tunedModelInfo"],M_(g));const v=u(i,["inputTokenLimit"]);v!=null&&c(o,["inputTokenLimit"],v);const h=u(i,["outputTokenLimit"]);h!=null&&c(o,["outputTokenLimit"],h);const y=u(i,["supportedGenerationMethods"]);y!=null&&c(o,["supportedActions"],y);const T=u(i,["temperature"]);T!=null&&c(o,["temperature"],T);const _=u(i,["maxTemperature"]);_!=null&&c(o,["maxTemperature"],_);const N=u(i,["topP"]);N!=null&&c(o,["topP"],N);const U=u(i,["topK"]);U!=null&&c(o,["topK"],U);const V=u(i,["thinking"]);return V!=null&&c(o,["thinking"],V),o}function ad(i,n){const o={},s=u(i,["name"]);s!=null&&c(o,["name"],s);const r=u(i,["displayName"]);r!=null&&c(o,["displayName"],r);const d=u(i,["description"]);d!=null&&c(o,["description"],d);const f=u(i,["versionId"]);f!=null&&c(o,["version"],f);const g=u(i,["deployedModels"]);if(g!=null){let _=g;Array.isArray(_)&&(_=_.map(N=>AT(N))),c(o,["endpoints"],_)}const v=u(i,["labels"]);v!=null&&c(o,["labels"],v);const h=u(i,["_self"]);h!=null&&c(o,["tunedModelInfo"],R_(h));const y=u(i,["defaultCheckpointId"]);y!=null&&c(o,["defaultCheckpointId"],y);const T=u(i,["checkpoints"]);if(T!=null){let _=T;Array.isArray(_)&&(_=_.map(N=>N)),c(o,["checkpoints"],_)}return o}function m_(i,n){const o={},s=u(i,["mediaResolution"]);s!=null&&c(o,["mediaResolution"],s);const r=u(i,["codeExecutionResult"]);r!=null&&c(o,["codeExecutionResult"],r);const d=u(i,["executableCode"]);d!=null&&c(o,["executableCode"],d);const f=u(i,["fileData"]);f!=null&&c(o,["fileData"],bT(f));const g=u(i,["functionCall"]);g!=null&&c(o,["functionCall"],NT(g));const v=u(i,["functionResponse"]);v!=null&&c(o,["functionResponse"],v);const h=u(i,["inlineData"]);h!=null&&c(o,["inlineData"],Wx(h));const y=u(i,["text"]);y!=null&&c(o,["text"],y);const T=u(i,["thought"]);T!=null&&c(o,["thought"],T);const _=u(i,["thoughtSignature"]);_!=null&&c(o,["thoughtSignature"],_);const N=u(i,["videoMetadata"]);return N!=null&&c(o,["videoMetadata"],N),o}function p_(i,n){const o={},s=u(i,["productImage"]);return s!=null&&c(o,["image"],Un(s)),o}function h_(i,n,o){const s={},r=u(i,["numberOfImages"]);n!==void 0&&r!=null&&c(n,["parameters","sampleCount"],r);const d=u(i,["baseSteps"]);n!==void 0&&d!=null&&c(n,["parameters","baseSteps"],d);const f=u(i,["outputGcsUri"]);n!==void 0&&f!=null&&c(n,["parameters","storageUri"],f);const g=u(i,["seed"]);n!==void 0&&g!=null&&c(n,["parameters","seed"],g);const v=u(i,["safetyFilterLevel"]);n!==void 0&&v!=null&&c(n,["parameters","safetySetting"],v);const h=u(i,["personGeneration"]);n!==void 0&&h!=null&&c(n,["parameters","personGeneration"],h);const y=u(i,["addWatermark"]);n!==void 0&&y!=null&&c(n,["parameters","addWatermark"],y);const T=u(i,["outputMimeType"]);n!==void 0&&T!=null&&c(n,["parameters","outputOptions","mimeType"],T);const _=u(i,["outputCompressionQuality"]);n!==void 0&&_!=null&&c(n,["parameters","outputOptions","compressionQuality"],_);const N=u(i,["enhancePrompt"]);n!==void 0&&N!=null&&c(n,["parameters","enhancePrompt"],N);const U=u(i,["labels"]);return n!==void 0&&U!=null&&c(n,["labels"],U),s}function g_(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ge(i,r));const d=u(n,["source"]);d!=null&&y_(d,s);const f=u(n,["config"]);return f!=null&&h_(f,s),s}function v_(i,n){const o={},s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>Nr(d))),c(o,["generatedImages"],r)}return o}function y_(i,n,o){const s={},r=u(i,["prompt"]);n!==void 0&&r!=null&&c(n,["instances[0]","prompt"],r);const d=u(i,["personImage"]);n!==void 0&&d!=null&&c(n,["instances[0]","personImage","image"],Un(d));const f=u(i,["productImages"]);if(n!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>p_(v))),c(n,["instances[0]","productImages"],g)}return s}function S_(i,n){const o={},s=u(i,["referenceImage"]);s!=null&&c(o,["referenceImage"],Un(s));const r=u(i,["referenceId"]);r!=null&&c(o,["referenceId"],r);const d=u(i,["referenceType"]);d!=null&&c(o,["referenceType"],d);const f=u(i,["maskImageConfig"]);f!=null&&c(o,["maskImageConfig"],f_(f));const g=u(i,["controlImageConfig"]);g!=null&&c(o,["controlImageConfig"],lT(g));const v=u(i,["styleImageConfig"]);v!=null&&c(o,["styleImageConfig"],v);const h=u(i,["subjectImageConfig"]);return h!=null&&c(o,["subjectImageConfig"],h),o}function Yg(i,n){const o={},s=u(i,["safetyAttributes","categories"]);s!=null&&c(o,["categories"],s);const r=u(i,["safetyAttributes","scores"]);r!=null&&c(o,["scores"],r);const d=u(i,["contentType"]);return d!=null&&c(o,["contentType"],d),o}function Kg(i,n){const o={},s=u(i,["safetyAttributes","categories"]);s!=null&&c(o,["categories"],s);const r=u(i,["safetyAttributes","scores"]);r!=null&&c(o,["scores"],r);const d=u(i,["contentType"]);return d!=null&&c(o,["contentType"],d),o}function x_(i,n){const o={},s=u(i,["category"]);if(s!=null&&c(o,["category"],s),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(i,["threshold"]);return r!=null&&c(o,["threshold"],r),o}function T_(i,n){const o={},s=u(i,["image"]);return s!=null&&c(o,["image"],Un(s)),o}function __(i,n,o){const s={},r=u(i,["mode"]);n!==void 0&&r!=null&&c(n,["parameters","mode"],r);const d=u(i,["maxPredictions"]);n!==void 0&&d!=null&&c(n,["parameters","maxPredictions"],d);const f=u(i,["confidenceThreshold"]);n!==void 0&&f!=null&&c(n,["parameters","confidenceThreshold"],f);const g=u(i,["maskDilation"]);n!==void 0&&g!=null&&c(n,["parameters","maskDilation"],g);const v=u(i,["binaryColorThreshold"]);n!==void 0&&v!=null&&c(n,["parameters","binaryColorThreshold"],v);const h=u(i,["labels"]);return n!==void 0&&h!=null&&c(n,["labels"],h),s}function E_(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ge(i,r));const d=u(n,["source"]);d!=null&&A_(d,s);const f=u(n,["config"]);return f!=null&&__(f,s),s}function C_(i,n){const o={},s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>QT(d))),c(o,["generatedMasks"],r)}return o}function A_(i,n,o){const s={},r=u(i,["prompt"]);n!==void 0&&r!=null&&c(n,["instances[0]","prompt"],r);const d=u(i,["image"]);n!==void 0&&d!=null&&c(n,["instances[0]","image"],Un(d));const f=u(i,["scribbleImage"]);return n!==void 0&&f!=null&&c(n,["instances[0]","scribble"],T_(f)),s}function b_(i,n){const o={},s=u(i,["retrievalConfig"]);s!=null&&c(o,["retrievalConfig"],s);const r=u(i,["functionCallingConfig"]);return r!=null&&c(o,["functionCallingConfig"],MT(r)),o}function N_(i,n){const o={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["computerUse"]);s!=null&&c(o,["computerUse"],s);const r=u(i,["fileSearch"]);r!=null&&c(o,["fileSearch"],r);const d=u(i,["codeExecution"]);if(d!=null&&c(o,["codeExecution"],d),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let T=f;Array.isArray(T)&&(T=T.map(_=>_)),c(o,["functionDeclarations"],T)}const g=u(i,["googleMaps"]);g!=null&&c(o,["googleMaps"],t_(g));const v=u(i,["googleSearch"]);v!=null&&c(o,["googleSearch"],n_(v));const h=u(i,["googleSearchRetrieval"]);h!=null&&c(o,["googleSearchRetrieval"],h);const y=u(i,["urlContext"]);return y!=null&&c(o,["urlContext"],y),o}function Xg(i,n){const o={},s=u(i,["retrieval"]);s!=null&&c(o,["retrieval"],s);const r=u(i,["computerUse"]);if(r!=null&&c(o,["computerUse"],r),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const d=u(i,["codeExecution"]);d!=null&&c(o,["codeExecution"],d);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(o,["enterpriseWebSearch"],f);const g=u(i,["functionDeclarations"]);if(g!=null){let _=g;Array.isArray(_)&&(_=_.map(N=>RT(N))),c(o,["functionDeclarations"],_)}const v=u(i,["googleMaps"]);v!=null&&c(o,["googleMaps"],v);const h=u(i,["googleSearch"]);h!=null&&c(o,["googleSearch"],h);const y=u(i,["googleSearchRetrieval"]);y!=null&&c(o,["googleSearchRetrieval"],y);const T=u(i,["urlContext"]);return T!=null&&c(o,["urlContext"],T),o}function M_(i,n){const o={},s=u(i,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(i,["createTime"]);r!=null&&c(o,["createTime"],r);const d=u(i,["updateTime"]);return d!=null&&c(o,["updateTime"],d),o}function R_(i,n){const o={},s=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&c(o,["baseModel"],s);const r=u(i,["createTime"]);r!=null&&c(o,["createTime"],r);const d=u(i,["updateTime"]);return d!=null&&c(o,["updateTime"],d),o}function w_(i,n,o){const s={},r=u(i,["displayName"]);n!==void 0&&r!=null&&c(n,["displayName"],r);const d=u(i,["description"]);n!==void 0&&d!=null&&c(n,["description"],d);const f=u(i,["defaultCheckpointId"]);return n!==void 0&&f!=null&&c(n,["defaultCheckpointId"],f),s}function I_(i,n,o){const s={},r=u(i,["displayName"]);n!==void 0&&r!=null&&c(n,["displayName"],r);const d=u(i,["description"]);n!==void 0&&d!=null&&c(n,["description"],d);const f=u(i,["defaultCheckpointId"]);return n!==void 0&&f!=null&&c(n,["defaultCheckpointId"],f),s}function D_(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","name"],Ge(i,r));const d=u(n,["config"]);return d!=null&&w_(d,s),s}function U_(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ge(i,r));const d=u(n,["config"]);return d!=null&&I_(d,s),s}function L_(i,n,o){const s={},r=u(i,["outputGcsUri"]);n!==void 0&&r!=null&&c(n,["parameters","storageUri"],r);const d=u(i,["safetyFilterLevel"]);n!==void 0&&d!=null&&c(n,["parameters","safetySetting"],d);const f=u(i,["personGeneration"]);n!==void 0&&f!=null&&c(n,["parameters","personGeneration"],f);const g=u(i,["includeRaiReason"]);n!==void 0&&g!=null&&c(n,["parameters","includeRaiReason"],g);const v=u(i,["outputMimeType"]);n!==void 0&&v!=null&&c(n,["parameters","outputOptions","mimeType"],v);const h=u(i,["outputCompressionQuality"]);n!==void 0&&h!=null&&c(n,["parameters","outputOptions","compressionQuality"],h);const y=u(i,["enhanceInputImage"]);n!==void 0&&y!=null&&c(n,["parameters","upscaleConfig","enhanceInputImage"],y);const T=u(i,["imagePreservationFactor"]);n!==void 0&&T!=null&&c(n,["parameters","upscaleConfig","imagePreservationFactor"],T);const _=u(i,["labels"]);n!==void 0&&_!=null&&c(n,["labels"],_);const N=u(i,["numberOfImages"]);n!==void 0&&N!=null&&c(n,["parameters","sampleCount"],N);const U=u(i,["mode"]);return n!==void 0&&U!=null&&c(n,["parameters","mode"],U),s}function k_(i,n,o){const s={},r=u(n,["model"]);r!=null&&c(s,["_url","model"],Ge(i,r));const d=u(n,["image"]);d!=null&&c(s,["instances[0]","image"],Un(d));const f=u(n,["upscaleFactor"]);f!=null&&c(s,["parameters","upscaleConfig","upscaleFactor"],f);const g=u(n,["config"]);return g!=null&&L_(g,s),s}function G_(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["predictions"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>Nr(f))),c(o,["generatedImages"],d)}return o}function H_(i,n){const o={},s=u(i,["uri"]);s!=null&&c(o,["uri"],s);const r=u(i,["encodedVideo"]);r!=null&&c(o,["videoBytes"],Wi(r));const d=u(i,["encoding"]);return d!=null&&c(o,["mimeType"],d),o}function P_(i,n){const o={},s=u(i,["gcsUri"]);s!=null&&c(o,["uri"],s);const r=u(i,["bytesBase64Encoded"]);r!=null&&c(o,["videoBytes"],Wi(r));const d=u(i,["mimeType"]);return d!=null&&c(o,["mimeType"],d),o}function V_(i,n){const o={},s=u(i,["image"]);s!=null&&c(o,["_self"],Un(s));const r=u(i,["maskMode"]);return r!=null&&c(o,["maskMode"],r),o}function q_(i,n){const o={},s=u(i,["image"]);s!=null&&c(o,["image"],Mr(s));const r=u(i,["referenceType"]);return r!=null&&c(o,["referenceType"],r),o}function z_(i,n){const o={},s=u(i,["image"]);s!=null&&c(o,["image"],Un(s));const r=u(i,["referenceType"]);return r!=null&&c(o,["referenceType"],r),o}function Qg(i,n){const o={},s=u(i,["uri"]);s!=null&&c(o,["uri"],s);const r=u(i,["videoBytes"]);r!=null&&c(o,["encodedVideo"],Wi(r));const d=u(i,["mimeType"]);return d!=null&&c(o,["encoding"],d),o}function Zg(i,n){const o={},s=u(i,["uri"]);s!=null&&c(o,["gcsUri"],s);const r=u(i,["videoBytes"]);r!=null&&c(o,["bytesBase64Encoded"],Wi(r));const d=u(i,["mimeType"]);return d!=null&&c(o,["mimeType"],d),o}function B_(i,n){const o={},s=u(i,["displayName"]);return n!==void 0&&s!=null&&c(n,["displayName"],s),o}function O_(i){const n={},o=u(i,["config"]);return o!=null&&B_(o,n),n}function F_(i,n){const o={},s=u(i,["force"]);return n!==void 0&&s!=null&&c(n,["_query","force"],s),o}function J_(i){const n={},o=u(i,["name"]);o!=null&&c(n,["_url","name"],o);const s=u(i,["config"]);return s!=null&&F_(s,n),n}function Y_(i){const n={},o=u(i,["name"]);return o!=null&&c(n,["_url","name"],o),n}function K_(i,n){const o={},s=u(i,["customMetadata"]);if(n!==void 0&&s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>f)),c(n,["customMetadata"],d)}const r=u(i,["chunkingConfig"]);return n!==void 0&&r!=null&&c(n,["chunkingConfig"],r),o}function X_(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const d=u(i,["error"]);d!=null&&c(n,["error"],d);const f=u(i,["response"]);return f!=null&&c(n,["response"],Z_(f)),n}function Q_(i){const n={},o=u(i,["fileSearchStoreName"]);o!=null&&c(n,["_url","file_search_store_name"],o);const s=u(i,["fileName"]);s!=null&&c(n,["fileName"],s);const r=u(i,["config"]);return r!=null&&K_(r,n),n}function Z_(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(n,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(n,["documentName"],r),n}function $_(i,n){const o={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function W_(i){const n={},o=u(i,["config"]);return o!=null&&$_(o,n),n}function j_(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["fileSearchStores"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),c(n,["fileSearchStores"],d)}return n}function $g(i,n){const o={},s=u(i,["mimeType"]);n!==void 0&&s!=null&&c(n,["mimeType"],s);const r=u(i,["displayName"]);n!==void 0&&r!=null&&c(n,["displayName"],r);const d=u(i,["customMetadata"]);if(n!==void 0&&d!=null){let g=d;Array.isArray(g)&&(g=g.map(v=>v)),c(n,["customMetadata"],g)}const f=u(i,["chunkingConfig"]);return n!==void 0&&f!=null&&c(n,["chunkingConfig"],f),o}function eE(i){const n={},o=u(i,["fileSearchStoreName"]);o!=null&&c(n,["_url","file_search_store_name"],o);const s=u(i,["config"]);return s!=null&&$g(s,n),n}function tE(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}const nE="Content-Type",iE="X-Server-Timeout",oE="User-Agent",rd="x-goog-api-client",lE="1.39.0",sE=`google-genai-sdk/${lE}`,aE="v1beta1",rE="v1beta";class uE{constructor(n){var o,s,r;this.clientOptions=Object.assign({},n),this.customBaseUrl=(o=n.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const d={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const g=n.project&&n.location||!!n.apiKey;this.customBaseUrl&&!g?(d.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?d.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(d.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),d.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:aE}else{if(!this.clientOptions.apiKey)throw new Gs({message:"API key must be set when using the Gemini API.",status:403});d.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:rE,d.baseUrl="https://generativelanguage.googleapis.com/"}d.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=d,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(d,n.httpOptions))}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const n=new Headers;return await this.clientOptions.auth.addAuthHeaders(n),n}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&s.push(n.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),o=new URL(n);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,o,s){const r=[this.getRequestUrlInternal(o)];return s&&r.push(this.getBaseResourcePath()),n!==""&&r.push(n),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(n,o){return!(o.baseUrl&&o.baseUrlResourceScope===nd.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n,o),r=this.constructUrl(n.path,o,s);if(n.queryParams)for(const[f,g]of Object.entries(n.queryParams))r.searchParams.append(f,String(g));let d={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=n.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),n.abortSignal),this.unaryApiCall(r,d,n.httpMethod)}patchHttpOptions(n,o){const s=JSON.parse(JSON.stringify(n));for(const[r,d]of Object.entries(o))typeof d=="object"?s[r]=Object.assign(Object.assign({},s[r]),d):d!==void 0&&(s[r]=d);return s}async requestStream(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n,o),r=this.constructUrl(n.path,o,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let d={};return d.body=n.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,r.toString(),n.abortSignal),this.streamApiCall(r,d,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,o,s,r){if(o&&o.timeout||r){const d=new AbortController,f=d.signal;if(o.timeout&&o?.timeout>0){const g=setTimeout(()=>d.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{d.abort()}),n.signal=f}return o&&o.extraBody!==null&&cE(n,o.extraBody),n.headers=await this.getHeadersInternal(o,s),n}async unaryApiCall(n,o,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await gg(r),new id(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(n,o,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await gg(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(n){return In(this,arguments,function*(){var s;const r=(s=n?.body)===null||s===void 0?void 0:s.getReader(),d=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let f="";const g="data:",v=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:y}=yield pe(r.read());if(h){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=d.decode(y,{stream:!0});try{const U=JSON.parse(T);if("error"in U){const V=JSON.parse(JSON.stringify(U.error)),H=V.status,Y=V.code,j=`got status: ${H}. ${JSON.stringify(U)}`;if(Y>=400&&Y<600)throw new Gs({message:j,status:Y})}}catch(U){if(U.name==="ApiError")throw U}f+=T;let _=-1,N=0;for(;;){_=-1,N=0;for(const H of v){const Y=f.indexOf(H);Y!==-1&&(_===-1||Y<_)&&(_=Y,N=H.length)}if(_===-1)break;const U=f.substring(0,_);f=f.substring(_+N);const V=U.trim();if(V.startsWith(g)){const H=V.substring(g.length).trim();try{const Y=new Response(H,{headers:n?.headers,status:n?.status,statusText:n?.statusText});yield yield pe(new id(Y))}catch(Y){throw new Error(`exception parsing stream chunk ${H}. ${Y}`)}}}}}finally{r.releaseLock()}})}async apiCall(n,o){return fetch(n,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const n={},o=sE+" "+this.clientOptions.userAgentExtra;return n[oE]=o,n[rd]=o,n[nE]="application/json",n}async getHeadersInternal(n,o){const s=new Headers;if(n&&n.headers){for(const[r,d]of Object.entries(n.headers))s.append(r,d);n.timeout&&n.timeout>0&&s.append(iE,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}getFileName(n){var o;let s="";return typeof n=="string"&&(s=n.replace(/[/\\]+$/,""),s=(o=s.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),s}async uploadFile(n,o){var s;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const d=this.clientOptions.uploader,f=await d.stat(n);r.sizeBytes=String(f.size);const g=(s=o?.mimeType)!==null&&s!==void 0?s:f.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const v={file:r},h=this.getFileName(n),y=ne("upload/v1beta/files",v._url),T=await this.fetchUploadUrl(y,r.sizeBytes,r.mimeType,h,v,o?.httpOptions);return d.upload(n,T,this)}async uploadFileToFileSearchStore(n,o,s){var r;const d=this.clientOptions.uploader,f=await d.stat(o),g=String(f.size),v=(r=s?.mimeType)!==null&&r!==void 0?r:f.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${n}:uploadToFileSearchStore`,y=this.getFileName(o),T={};s!=null&&$g(s,T);const _=await this.fetchUploadUrl(h,g,v,y,T,s?.httpOptions);return d.uploadToFileSearchStore(o,_,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,o,s,r,d,f){var g;let v={};f?v=f:v={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${s}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:n,body:JSON.stringify(d),httpMethod:"POST",httpOptions:v});if(!h||!h?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(g=h?.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function gg(i){var n;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let s;!((n=i.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?s=await i.json():s={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(s);throw o>=400&&o<600?new Gs({message:r,status:o}):new Error(r)}}function cE(i,n){if(!n||Object.keys(n).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const d=JSON.parse(i.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(d,f){const g=Object.assign({},d);for(const v in f)if(Object.prototype.hasOwnProperty.call(f,v)){const h=f[v],y=g[v];h&&typeof h=="object"&&!Array.isArray(h)&&y&&typeof y=="object"&&!Array.isArray(y)?g[v]=s(y,h):(y&&h&&typeof y!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${v}". Original type: ${typeof y}, New type: ${typeof h}. Overwriting.`),g[v]=h)}return g}const r=s(o,n);i.body=JSON.stringify(r)}const dE="mcp_used/unknown";let fE=!1;function Wg(i){for(const n of i)if(mE(n)||typeof n=="object"&&"inputSchema"in n)return!0;return fE}function jg(i){var n;const o=(n=i[rd])!==null&&n!==void 0?n:"";i[rd]=(o+` ${dE}`).trimStart()}function mE(i){return i!==null&&typeof i=="object"&&i instanceof Ed}function pE(i){return In(this,arguments,function*(o,s=100){let r,d=0;for(;d<s;){const f=yield pe(o.listTools({cursor:r}));for(const g of f.tools)yield yield pe(g),d++;if(!f.nextCursor)break;r=f.nextCursor}})}class Ed{constructor(n=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=o}static create(n,o){return new Ed(n,o)}async initialize(){var n,o,s,r;if(this.mcpTools.length>0)return;const d={},f=[];for(const y of this.mcpClients)try{for(var g=!0,v=(o=void 0,Dn(pE(y))),h;h=await v.next(),n=h.done,!n;g=!0){r=h.value,g=!1;const T=r;f.push(T);const _=T.name;if(d[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);d[_]=y}}catch(T){o={error:T}}finally{try{!g&&!n&&(s=v.return)&&await s.call(v)}finally{if(o)throw o.error}}this.mcpTools=f,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),Oy(this.mcpTools,this.config)}async callTool(n){await this.initialize();const o=[];for(const s of n)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const f=await r.callTool({name:s.name,arguments:s.args},void 0,d);o.push({functionResponse:{name:s.name,response:f.isError?{error:f}:f}})}return o}}async function hE(i,n,o){const s=new ky;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(s,r),n(s)}class gE{constructor(n,o,s){this.apiClient=n,this.auth=o,this.webSocketFactory=s}async connect(n){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),f=SE(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),v=`${r}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const y=new Promise(X=>{h=X}),T=n.callbacks,_=function(){h({})},N=this.apiClient,U={onopen:_,onmessage:X=>{hE(N,T.onmessage,X)},onerror:(o=T?.onerror)!==null&&o!==void 0?o:function(X){},onclose:(s=T?.onclose)!==null&&s!==void 0?s:function(X){}},V=this.webSocketFactory.create(v,yE(f),U);V.connect(),await y;const j={setup:{model:Ge(this.apiClient,n.model)}};return V.send(JSON.stringify(j)),new vE(V,this.apiClient)}}class vE{constructor(n,o){this.conn=n,this.apiClient=o}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=Bx(n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const o=zx(n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(n){const o={playbackControl:n};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Rl.PLAY)}pause(){this.sendPlaybackControl(Rl.PAUSE)}stop(){this.sendPlaybackControl(Rl.STOP)}resetContext(){this.sendPlaybackControl(Rl.RESET_CONTEXT)}close(){this.conn.close()}}function yE(i){const n={};return i.forEach((o,s)=>{n[s]=o}),n}function SE(i){const n=new Headers;for(const[o,s]of Object.entries(i))n.append(o,s);return n}const xE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function TE(i,n,o){const s=new Ly;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const d=JSON.parse(r);if(i.isVertexAI()){const f=Jx(d);Object.assign(s,f)}else Object.assign(s,d);n(s)}class _E{constructor(n,o,s){this.apiClient=n,this.auth=o,this.webSocketFactory=s,this.music=new gE(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var o,s,r,d,f,g;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const v=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let y;const T=this.apiClient.getHeaders();n.config&&n.config.tools&&Wg(n.config.tools)&&jg(T);const _=bE(T);if(this.apiClient.isVertexAI()){const oe=this.apiClient.getProject(),he=this.apiClient.getLocation(),Ie=this.apiClient.getApiKey(),Me=!!oe&&!!he||!!Ie;this.apiClient.getCustomBaseUrl()&&!Me?y=v:(y=`${v}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,y))}else{const oe=this.apiClient.getApiKey();let he="BidiGenerateContent",Ie="key";oe?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),he="BidiGenerateContentConstrained",Ie="access_token"),y=`${v}/ws/google.ai.generativelanguage.${h}.GenerativeService.${he}?${Ie}=${oe}`}let N=()=>{};const U=new Promise(oe=>{N=oe}),V=n.callbacks,H=function(){var oe;(oe=V?.onopen)===null||oe===void 0||oe.call(V),N({})},Y=this.apiClient,j={onopen:H,onmessage:oe=>{TE(Y,V.onmessage,oe)},onerror:(o=V?.onerror)!==null&&o!==void 0?o:function(oe){},onclose:(s=V?.onclose)!==null&&s!==void 0?s:function(oe){}},X=this.webSocketFactory.create(y,AE(_),j);X.connect(),await U;let $=Ge(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const oe=this.apiClient.getProject(),he=this.apiClient.getLocation();oe&&he&&($=`projects/${oe}/locations/${he}/`+$)}let O={};this.apiClient.isVertexAI()&&((r=n.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[Sr.AUDIO]}:n.config.responseModalities=[Sr.AUDIO]),!((d=n.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const te=(g=(f=n.config)===null||f===void 0?void 0:f.tools)!==null&&g!==void 0?g:[],W=[];for(const oe of te)if(this.isCallableTool(oe)){const he=oe;W.push(await he.tool())}else W.push(oe);W.length>0&&(n.config.tools=W);const ie={model:$,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?O=qx(this.apiClient,ie):O=Vx(this.apiClient,ie),delete O.config,X.send(JSON.stringify(O)),new CE(X,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const EE={turnComplete:!0};class CE{constructor(n,o){this.conn=n,this.apiClient=o}tLiveClientContent(n,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=yn(o.turns),n.isVertexAI()||(s=s.map(r=>br(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(n,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const d of s){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!n.isVertexAI()&&!("id"in d))throw new Error(xE)}return{toolResponse:{functionResponses:s}}}sendClientContent(n){n=Object.assign(Object.assign({},EE),n);const o=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(o))}sendRealtimeInput(n){let o={};this.apiClient.isVertexAI()?o={realtimeInput:Fx(n)}:o={realtimeInput:Ox(n)},this.conn.send(JSON.stringify(o))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function AE(i){const n={};return i.forEach((o,s)=>{n[s]=o}),n}function bE(i){const n=new Headers;for(const[o,s]of Object.entries(i))n.append(o,s);return n}const vg=10;function yg(i){var n,o,s;if(!((n=i?.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let r=!1;for(const f of(o=i?.tools)!==null&&o!==void 0?o:[])if(Dl(f)){r=!0;break}if(!r)return!0;const d=(s=i?.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Dl(i){return"callTool"in i&&typeof i.callTool=="function"}function NE(i){var n,o,s;return(s=(o=(n=i.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(r=>Dl(r)))!==null&&s!==void 0?s:!1}function Sg(i){var n;const o=[];return!((n=i?.config)===null||n===void 0)&&n.tools&&i.config.tools.forEach((s,r)=>{if(Dl(s))return;const d=s;d.functionDeclarations&&d.functionDeclarations.length>0&&o.push(r)}),o}function xg(i){var n;return!(!((n=i?.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}class ME extends di{constructor(n){super(),this.apiClient=n,this.generateContent=async o=>{var s,r,d,f,g;const v=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!NE(o)||yg(o.config))return await this.generateContentInternal(v);const h=Sg(o);if(h.length>0){const V=h.map(H=>`tools[${H}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${V}.`)}let y,T;const _=yn(v.contents),N=(d=(r=(s=v.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&d!==void 0?d:vg;let U=0;for(;U<N&&(y=await this.generateContentInternal(v),!(!y.functionCalls||y.functionCalls.length===0));){const V=y.candidates[0].content,H=[];for(const Y of(g=(f=o.config)===null||f===void 0?void 0:f.tools)!==null&&g!==void 0?g:[])if(Dl(Y)){const X=await Y.callTool(y.functionCalls);H.push(...X)}U++,T={role:"user",parts:H},v.contents=yn(v.contents),v.contents.push(V),v.contents.push(T),xg(v.config)&&(_.push(V),_.push(T))}return xg(v.config)&&(y.automaticFunctionCallingHistory=_),y},this.generateContentStream=async o=>{var s,r,d,f,g;if(this.maybeMoveToResponseJsonSchem(o),yg(o.config)){const T=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(T)}const v=Sg(o);if(v.length>0){const T=v.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(d=(r=(s=o?.config)===null||s===void 0?void 0:s.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,y=(g=(f=o?.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var r;let d;const f=[];if(s?.generatedImages)for(const v of s.generatedImages)v&&v?.safetyAttributes&&((r=v?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?d=v?.safetyAttributes:f.push(v);let g;return d?g={generatedImages:f,positivePromptSafetyAttributes:d,sdkHttpResponse:s.sdkHttpResponse}:g={generatedImages:f,sdkHttpResponse:s.sdkHttpResponse},g}),this.list=async o=>{var s;const f={config:Object.assign(Object.assign({},{queryBase:!0}),o?.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((s=f.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new Go(ci.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(f),f)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var s,r,d,f,g,v;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((f=(d=o.source)===null||d===void 0?void 0:d.video)===null||f===void 0)&&f.uri&&(!((v=(g=o.source)===null||g===void 0?void 0:g.video)===null||v===void 0)&&v.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var o,s,r;const d=(o=n.config)===null||o===void 0?void 0:o.tools;if(!d)return n;const f=await Promise.all(d.map(async v=>Dl(v)?await v.tool():v)),g={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:f})};if(g.config.tools=f,n.config&&n.config.tools&&Wg(n.config.tools)){const v=(r=(s=n.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},v);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),jg(h),g.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(n){var o,s,r;const d=new Map;for(const f of(s=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(Dl(f)){const g=f,v=await g.tool();for(const h of(r=v.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(d.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);d.set(h.name,g)}}return d}async processAfcStream(n){var o,s,r;const d=(r=(s=(o=n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:vg;let f=!1,g=0;const v=await this.initAfcToolsMap(n);return(function(h,y,T){return In(this,arguments,function*(){for(var _,N,U,V,H,Y;g<d;){f&&(g++,f=!1);const O=yield pe(h.processParamsMaybeAddMcpUsage(T)),te=yield pe(h.generateContentStreamInternal(O)),W=[],ie=[];try{for(var j=!0,X=(N=void 0,Dn(te)),$;$=yield pe(X.next()),_=$.done,!_;j=!0){V=$.value,j=!1;const oe=V;if(yield yield pe(oe),oe.candidates&&(!((H=oe.candidates[0])===null||H===void 0)&&H.content)){ie.push(oe.candidates[0].content);for(const he of(Y=oe.candidates[0].content.parts)!==null&&Y!==void 0?Y:[])if(g<d&&he.functionCall){if(!he.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(he.functionCall.name)){const Ie=yield pe(y.get(he.functionCall.name).callTool([he.functionCall]));W.push(...Ie)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${he.functionCall.name}`)}}}}catch(oe){N={error:oe}}finally{try{!j&&!_&&(U=X.return)&&(yield pe(U.call(X)))}finally{if(N)throw N.error}}if(W.length>0){f=!0;const oe=new Us;oe.candidates=[{content:{role:"user",parts:W}}],yield yield pe(oe);const he=[];he.push(...ie),he.push({role:"user",parts:W});const Ie=yn(T.contents).concat(he);T.contents=Ie}else break}})})(this,v,n)}async generateContentInternal(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=mg(this.apiClient,n);return g=ne("{model}:generateContent",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>{const T=hg(y),_=new Us;return Object.assign(_,T),_})}else{const h=fg(this.apiClient,n);return g=ne("{model}:generateContent",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>{const T=pg(y),_=new Us;return Object.assign(_,T),_})}}async generateContentStreamInternal(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=mg(this.apiClient,n);return g=ne("{model}:streamGenerateContent?alt=sse",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.requestStream({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}),f.then(function(T){return In(this,arguments,function*(){var _,N,U,V;try{for(var H=!0,Y=Dn(T),j;j=yield pe(Y.next()),_=j.done,!_;H=!0){V=j.value,H=!1;const X=V,$=hg(yield pe(X.json()),n);$.sdkHttpResponse={headers:X.headers};const O=new Us;Object.assign(O,$),yield yield pe(O)}}catch(X){N={error:X}}finally{try{!H&&!_&&(U=Y.return)&&(yield pe(U.call(Y)))}finally{if(N)throw N.error}}})})}else{const h=fg(this.apiClient,n);return g=ne("{model}:streamGenerateContent?alt=sse",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.requestStream({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}),f.then(function(T){return In(this,arguments,function*(){var _,N,U,V;try{for(var H=!0,Y=Dn(T),j;j=yield pe(Y.next()),_=j.done,!_;H=!0){V=j.value,H=!1;const X=V,$=pg(yield pe(X.json()),n);$.sdkHttpResponse={headers:X.headers};const O=new Us;Object.assign(O,$),yield yield pe(O)}}catch(X){N={error:X}}finally{try{!H&&!_&&(U=Y.return)&&(yield pe(U.call(Y)))}finally{if(N)throw N.error}}})})}}async embedContent(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=_T(this.apiClient,n);return g=ne("{model}:predict",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>{const T=CT(y),_=new Qh;return Object.assign(_,T),_})}else{const h=TT(this.apiClient,n);return g=ne("{model}:batchEmbedContents",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>{const T=ET(y),_=new Qh;return Object.assign(_,T),_})}}async generateImagesInternal(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=kT(this.apiClient,n);return g=ne("{model}:predict",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>{const T=HT(y),_=new Zh;return Object.assign(_,T),_})}else{const h=LT(this.apiClient,n);return g=ne("{model}:predict",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>{const T=GT(y),_=new Zh;return Object.assign(_,T),_})}}async editImageInternal(n){var o,s;let r,d="",f={};if(this.apiClient.isVertexAI()){const g=vT(this.apiClient,n);return d=ne("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const h=yT(v),y=new _y;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var o,s;let r,d="",f={};if(this.apiClient.isVertexAI()){const g=k_(this.apiClient,n);return d=ne("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const h=G_(v),y=new Ey;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var o,s;let r,d="",f={};if(this.apiClient.isVertexAI()){const g=g_(this.apiClient,n);return d=ne("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=v_(v),y=new Cy;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var o,s;let r,d="",f={};if(this.apiClient.isVertexAI()){const g=E_(this.apiClient,n);return d=ne("{model}:predict",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=C_(v),y=new Ay;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=e_(this.apiClient,n);return g=ne("{name}",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),f.then(y=>ad(y))}else{const h=jT(this.apiClient,n);return g=ne("{name}",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),f.then(y=>sd(y))}}async listInternal(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=u_(this.apiClient,n);return g=ne("{models_url}",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>{const T=d_(y),_=new $h;return Object.assign(_,T),_})}else{const h=r_(this.apiClient,n);return g=ne("{models_url}",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>{const T=c_(y),_=new $h;return Object.assign(_,T),_})}}async update(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=U_(this.apiClient,n);return g=ne("{model}",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),f.then(y=>ad(y))}else{const h=D_(this.apiClient,n);return g=ne("{name}",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),f.then(y=>sd(y))}}async delete(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=mT(this.apiClient,n);return g=ne("{name}",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>{const T=hT(y),_=new Wh;return Object.assign(_,T),_})}else{const h=fT(this.apiClient,n);return g=ne("{name}",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>{const T=pT(y),_=new Wh;return Object.assign(_,T),_})}}async countTokens(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=uT(this.apiClient,n);return g=ne("{model}:countTokens",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>{const T=dT(y),_=new jh;return Object.assign(_,T),_})}else{const h=rT(this.apiClient,n);return g=ne("{model}:countTokens",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>{const T=cT(y),_=new jh;return Object.assign(_,T),_})}}async computeTokens(n){var o,s;let r,d="",f={};if(this.apiClient.isVertexAI()){const g=tT(this.apiClient,n);return d=ne("{model}:computeTokens",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>{const h=nT(v),y=new by;return Object.assign(y,h),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=OT(this.apiClient,n);return g=ne("{model}:predictLongRunning",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),f.then(y=>{const T=zT(y),_=new xr;return Object.assign(_,T),_})}else{const h=BT(this.apiClient,n);return g=ne("{model}:predictLongRunning",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),f.then(y=>{const T=qT(y),_=new xr;return Object.assign(_,T),_})}}}class RE extends di{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const o=n.operation,s=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(n){const o=n.operation,s=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let d;s&&"httpOptions"in s&&(d=s.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=gy(n);return g=ne("{operationName}",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),f}else{const h=hy(n);return g=ne("{operationName}",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),f}}async fetchPredictVideosOperationInternal(n){var o,s;let r,d="",f={};if(this.apiClient.isVertexAI()){const g=ry(n);return d=ne("{resourceName}:fetchPredictOperation",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}function wE(i){const n={},o=u(i,["data"]);if(o!=null&&c(n,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function IE(i){const n={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>qE(d))),c(n,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(n,["role"],s),n}function DE(i,n,o){const s={},r=u(n,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const d=u(n,["newSessionExpireTime"]);o!==void 0&&d!=null&&c(o,["newSessionExpireTime"],d);const f=u(n,["uses"]);o!==void 0&&f!=null&&c(o,["uses"],f);const g=u(n,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],VE(i,g));const v=u(n,["lockAdditionalFields"]);return o!==void 0&&v!=null&&c(o,["fieldMask"],v),s}function UE(i,n){const o={},s=u(n,["config"]);return s!=null&&c(o,["config"],DE(i,s,o)),o}function LE(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function kE(i){const n={},o=u(i,["id"]);o!=null&&c(n,["id"],o);const s=u(i,["args"]);s!=null&&c(n,["args"],s);const r=u(i,["name"]);if(r!=null&&c(n,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function GE(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function HE(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function PE(i,n){const o={},s=u(i,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig","responseModalities"],r);const d=u(i,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const f=u(i,["topP"]);n!==void 0&&f!=null&&c(n,["setup","generationConfig","topP"],f);const g=u(i,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const v=u(i,["maxOutputTokens"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","maxOutputTokens"],v);const h=u(i,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const y=u(i,["seed"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","seed"],y);const T=u(i,["speechConfig"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","speechConfig"],_d(T));const _=u(i,["thinkingConfig"]);n!==void 0&&_!=null&&c(n,["setup","generationConfig","thinkingConfig"],_);const N=u(i,["enableAffectiveDialog"]);n!==void 0&&N!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],N);const U=u(i,["systemInstruction"]);n!==void 0&&U!=null&&c(n,["setup","systemInstruction"],IE(Dt(U)));const V=u(i,["tools"]);if(n!==void 0&&V!=null){let te=Ll(V);Array.isArray(te)&&(te=te.map(W=>BE(Ul(W)))),c(n,["setup","tools"],te)}const H=u(i,["sessionResumption"]);n!==void 0&&H!=null&&c(n,["setup","sessionResumption"],zE(H));const Y=u(i,["inputAudioTranscription"]);n!==void 0&&Y!=null&&c(n,["setup","inputAudioTranscription"],Y);const j=u(i,["outputAudioTranscription"]);n!==void 0&&j!=null&&c(n,["setup","outputAudioTranscription"],j);const X=u(i,["realtimeInputConfig"]);n!==void 0&&X!=null&&c(n,["setup","realtimeInputConfig"],X);const $=u(i,["contextWindowCompression"]);n!==void 0&&$!=null&&c(n,["setup","contextWindowCompression"],$);const O=u(i,["proactivity"]);if(n!==void 0&&O!=null&&c(n,["setup","proactivity"],O),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function VE(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["setup","model"],Ge(i,s));const r=u(n,["config"]);return r!=null&&c(o,["config"],PE(r,o)),o}function qE(i){const n={},o=u(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(n,["executableCode"],r);const d=u(i,["fileData"]);d!=null&&c(n,["fileData"],LE(d));const f=u(i,["functionCall"]);f!=null&&c(n,["functionCall"],kE(f));const g=u(i,["functionResponse"]);g!=null&&c(n,["functionResponse"],g);const v=u(i,["inlineData"]);v!=null&&c(n,["inlineData"],wE(v));const h=u(i,["text"]);h!=null&&c(n,["text"],h);const y=u(i,["thought"]);y!=null&&c(n,["thought"],y);const T=u(i,["thoughtSignature"]);T!=null&&c(n,["thoughtSignature"],T);const _=u(i,["videoMetadata"]);return _!=null&&c(n,["videoMetadata"],_),n}function zE(i){const n={},o=u(i,["handle"]);if(o!=null&&c(n,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function BE(i){const n={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(n,["computerUse"],o);const s=u(i,["fileSearch"]);s!=null&&c(n,["fileSearch"],s);const r=u(i,["codeExecution"]);if(r!=null&&c(n,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(i,["functionDeclarations"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(T=>T)),c(n,["functionDeclarations"],y)}const f=u(i,["googleMaps"]);f!=null&&c(n,["googleMaps"],GE(f));const g=u(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],HE(g));const v=u(i,["googleSearchRetrieval"]);v!=null&&c(n,["googleSearchRetrieval"],v);const h=u(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function OE(i){const n=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const s=i[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(d=>`${o}.${d}`);n.push(...r)}else n.push(o)}return n.join(",")}function FE(i,n){let o=null;const s=i.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const d=s.setup;typeof d=="object"&&d!==null?(i.bidiGenerateContentSetup=d,o=d):delete i.bidiGenerateContentSetup}else s!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const d=OE(o);if(Array.isArray(n?.lockAdditionalFields)&&n?.lockAdditionalFields.length===0)d?i.fieldMask=d:delete i.fieldMask;else if(n?.lockAdditionalFields&&n.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>f.includes(h)?`generationConfig.${h}`:h));const v=[];d&&v.push(d),g.length>0&&v.push(...g),v.length>0?i.fieldMask=v.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class JE extends di{constructor(n){super(),this.apiClient=n}async create(n){var o,s;let r,d="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=UE(this.apiClient,n);d=ne("auth_tokens",g._url),f=g._query,delete g.config,delete g._url,delete g._query;const v=FE(g,n.config);return r=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}function YE(i,n){const o={},s=u(i,["force"]);return n!==void 0&&s!=null&&c(n,["_query","force"],s),o}function KE(i){const n={},o=u(i,["name"]);o!=null&&c(n,["_url","name"],o);const s=u(i,["config"]);return s!=null&&YE(s,n),n}function XE(i){const n={},o=u(i,["name"]);return o!=null&&c(n,["_url","name"],o),n}function QE(i,n){const o={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function ZE(i){const n={},o=u(i,["parent"]);o!=null&&c(n,["_url","parent"],o);const s=u(i,["config"]);return s!=null&&QE(s,n),n}function $E(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["documents"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>f)),c(n,["documents"],d)}return n}class WE extends di{constructor(n){super(),this.apiClient=n,this.list=async o=>new Go(ci.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:o.parent,config:s.config}),await this.listInternal(o),o)}async get(n){var o,s;let r,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=XE(n);return d=ne("{name}",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(n){var o,s;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=KE(n);r=ne("{name}",f._url),d=f._query,delete f._url,delete f._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(n){var o,s;let r,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ZE(n);return d=ne("{parent}/documents",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=$E(v),y=new Ny;return Object.assign(y,h),y})}}}class jE extends di{constructor(n,o=new WE(n)){super(),this.apiClient=n,this.documents=o,this.list=async(s={})=>new Go(ci.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(s),s)}async uploadToFileSearchStore(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(n.fileSearchStoreName,n.file,n.config)}async create(n){var o,s;let r,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=O_(n);return d=ne("fileSearchStores",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async get(n){var o,s;let r,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Y_(n);return d=ne("{name}",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>v)}}async delete(n){var o,s;let r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=J_(n);r=ne("{name}",f._url),d=f._query,delete f._url,delete f._query,await this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(n){var o,s;let r,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=W_(n);return d=ne("fileSearchStores",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=j_(v),y=new My;return Object.assign(y,h),y})}}async uploadToFileSearchStoreInternal(n){var o,s;let r,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=eE(n);return d=ne("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=tE(v),y=new Ry;return Object.assign(y,h),y})}}async importFile(n){var o,s;let r,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Q_(n);return d=ne("{file_search_store_name}:importFile",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),r.then(v=>{const h=X_(v),y=new vd;return Object.assign(y,h),y})}}}let e0=function(){const{crypto:i}=globalThis;if(i?.randomUUID)return e0=i.randomUUID.bind(i),i.randomUUID();const n=new Uint8Array(1),o=i?()=>i.getRandomValues(n)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^o()&15>>+s/4).toString(16))};const eC=()=>e0();function ud(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const cd=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const n=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(n.stack=i.stack),i.cause&&!n.cause&&(n.cause=i.cause),i.name&&(n.name=i.name),n}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};class Sn extends Error{}class zt extends Sn{constructor(n,o,s,r){super(`${zt.makeMessage(n,o,s)}`),this.status=n,this.headers=r,this.error=o}static makeMessage(n,o,s){const r=o?.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):s;return n&&r?`${n} ${r}`:n?`${n} status code (no body)`:r||"(no status code or body)"}static generate(n,o,s,r){if(!n||!r)return new Rr({message:s,cause:cd(o)});const d=o;return n===400?new n0(n,d,s,r):n===401?new i0(n,d,s,r):n===403?new o0(n,d,s,r):n===404?new l0(n,d,s,r):n===409?new s0(n,d,s,r):n===422?new a0(n,d,s,r):n===429?new r0(n,d,s,r):n>=500?new u0(n,d,s,r):new zt(n,d,s,r)}}class dd extends zt{constructor({message:n}={}){super(void 0,void 0,n||"Request was aborted.",void 0)}}class Rr extends zt{constructor({message:n,cause:o}){super(void 0,void 0,n||"Connection error.",void 0),o&&(this.cause=o)}}class t0 extends Rr{constructor({message:n}={}){super({message:n??"Request timed out."})}}class n0 extends zt{}class i0 extends zt{}class o0 extends zt{}class l0 extends zt{}class s0 extends zt{}class a0 extends zt{}class r0 extends zt{}class u0 extends zt{}const tC=/^[a-z][a-z0-9+.-]*:/i,nC=i=>tC.test(i);let fd=i=>(fd=Array.isArray,fd(i));const iC=fd;let oC=iC;const Tg=oC;function lC(i){if(!i)return!0;for(const n in i)return!1;return!0}function sC(i,n){return Object.prototype.hasOwnProperty.call(i,n)}const aC=(i,n)=>{if(typeof n!="number"||!Number.isInteger(n))throw new Sn(`${i} must be an integer`);if(n<0)throw new Sn(`${i} must be a positive integer`);return n},rC=i=>{try{return JSON.parse(i)}catch{return}};const uC=i=>new Promise(n=>setTimeout(n,i));const Ml="0.0.1";function cC(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const dC=()=>{var i,n,o,s,r;const d=cC();if(d==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ml,"X-Stainless-OS":Eg(Deno.build.os),"X-Stainless-Arch":_g(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(n=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&n!==void 0?n:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ml,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(d==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ml,"X-Stainless-OS":Eg((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":_g((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const f=fC();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ml,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ml,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function fC(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:n,pattern:o}of i){const s=o.exec(navigator.userAgent);if(s){const r=s[1]||0,d=s[2]||0,f=s[3]||0;return{browser:n,version:`${r}.${d}.${f}`}}}return null}const _g=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Eg=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let fr;const mC=()=>fr??(fr=dC());function pC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function c0(...i){const n=globalThis.ReadableStream;if(typeof n>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new n(...i)}function hC(i){let n=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return c0({start(){},async pull(o){const{done:s,value:r}=await n.next();s?o.close():o.enqueue(r)},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}function d0(i){if(i[Symbol.asyncIterator])return i;const n=i.getReader();return{async next(){try{const o=await n.read();return o?.done&&n.releaseLock(),o}catch(o){throw n.releaseLock(),o}},async return(){const o=n.cancel();return n.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function gC(i){var n,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(n=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(n));return}const s=i.getReader(),r=s.cancel();s.releaseLock(),await r}const vC=({headers:i,body:n})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(n)});const f0=()=>{var i;if(typeof File>"u"){const{process:n}=globalThis,o=typeof((i=n?.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(n.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Zc(i,n,o){return f0(),new File(i,n??"unknown_file",o)}function yC(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const SC=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";const m0=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",xC=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&m0(i),TC=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function _C(i,n,o){if(f0(),i=await i,xC(i))return i instanceof File?i:Zc([await i.arrayBuffer()],i.name);if(TC(i)){const r=await i.blob();return n||(n=new URL(i.url).pathname.split(/[\\/]/).pop()),Zc(await md(r),n,o)}const s=await md(i);if(n||(n=yC(i)),!o?.type){const r=s.find(d=>typeof d=="object"&&"type"in d&&d.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return Zc(s,n,o)}async function md(i){var n,o,s,r,d;let f=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)f.push(i);else if(m0(i))f.push(i instanceof Blob?i:await i.arrayBuffer());else if(SC(i))try{for(var g=!0,v=Dn(i),h;h=await v.next(),n=h.done,!n;g=!0){r=h.value,g=!1;const y=r;f.push(...await md(y))}}catch(y){o={error:y}}finally{try{!g&&!n&&(s=v.return)&&await s.call(v)}finally{if(o)throw o.error}}else{const y=(d=i?.constructor)===null||d===void 0?void 0:d.name;throw new Error(`Unexpected data type: ${typeof i}${y?`; constructor: ${y}`:""}${EC(i)}`)}return f}function EC(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}class p0{constructor(n){this._client=n}}p0._key=[];function h0(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Cg=Object.freeze(Object.create(null)),CC=(i=h0)=>(function(o,...s){if(o.length===1)return o[0];let r=!1;const d=[],f=o.reduce((y,T,_)=>{var N,U,V;/[?#]/.test(T)&&(r=!0);const H=s[_];let Y=(r?encodeURIComponent:i)(""+H);return _!==s.length&&(H==null||typeof H=="object"&&H.toString===((V=Object.getPrototypeOf((U=Object.getPrototypeOf((N=H.hasOwnProperty)!==null&&N!==void 0?N:Cg))!==null&&U!==void 0?U:Cg))===null||V===void 0?void 0:V.toString))&&(Y=H+"",d.push({start:y.length+T.length,length:Y.length,error:`Value of type ${Object.prototype.toString.call(H).slice(8,-1)} is not a valid path parameter`})),y+T+(_===s.length?"":Y)},""),g=f.split(/[?#]/,1)[0],v=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=v.exec(g))!==null;)d.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(d.sort((y,T)=>y.start-T.start),d.length>0){let y=0;const T=d.reduce((_,N)=>{const U=" ".repeat(N.start-y),V="^".repeat(N.length);return y=N.start+N.length,_+U+V},"");throw new Sn(`Path parameters result in path with invalid segments:
${d.map(_=>_.error).join(`
`)}
${f}
${T}`)}return f}),mr=CC(h0);class g0 extends p0{create(n,o){var s;const{api_version:r=this._client.apiVersion}=n,d=_r(n,["api_version"]);if("model"in d&&"agent_config"in d)throw new Sn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in d&&"generation_config"in d)throw new Sn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(mr`/${r}/interactions`,Object.assign(Object.assign({body:d},o),{stream:(s=n.stream)!==null&&s!==void 0?s:!1}))}delete(n,o={},s){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(mr`/${r}/interactions/${n}`,s)}cancel(n,o={},s){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(mr`/${r}/interactions/${n}/cancel`,s)}get(n,o={},s){var r;const d=o??{},{api_version:f=this._client.apiVersion}=d,g=_r(d,["api_version"]);return this._client.get(mr`/${f}/interactions/${n}`,Object.assign(Object.assign({query:g},s),{stream:(r=o?.stream)!==null&&r!==void 0?r:!1}))}}g0._key=Object.freeze(["interactions"]);class v0 extends g0{}function AC(i){let n=0;for(const r of i)n+=r.length;const o=new Uint8Array(n);let s=0;for(const r of i)o.set(r,s),s+=r.length;return o}let pr;function Cd(i){let n;return(pr??(n=new globalThis.TextEncoder,pr=n.encode.bind(n)))(i)}let hr;function Ag(i){let n;return(hr??(n=new globalThis.TextDecoder,hr=n.decode.bind(n)))(i)}class wr{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(n){if(n==null)return[];const o=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Cd(n):n;this.buffer=AC([this.buffer,o]);const s=[];let r;for(;(r=bC(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){s.push(Ag(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const d=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,f=Ag(this.buffer.subarray(0,d));s.push(f),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}wr.NEWLINE_CHARS=new Set([`
`,"\r"]);wr.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function bC(i,n){for(let r=n??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function NC(i){for(let s=0;s<i.length-1;s++){if(i[s]===10&&i[s+1]===10||i[s]===13&&i[s+1]===13)return s+2;if(i[s]===13&&i[s+1]===10&&s+3<i.length&&i[s+2]===13&&i[s+3]===10)return s+4}return-1}const Er={off:0,error:200,warn:300,info:400,debug:500},bg=(i,n,o)=>{if(i){if(sC(Er,i))return i;qt(o).warn(`${n} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Er))}`)}};function ks(){}function gr(i,n,o){return!n||Er[i]>Er[o]?ks:n[i].bind(n)}const MC={error:ks,warn:ks,info:ks,debug:ks};let Ng=new WeakMap;function qt(i){var n;const o=i.logger,s=(n=i.logLevel)!==null&&n!==void 0?n:"off";if(!o)return MC;const r=Ng.get(o);if(r&&r[0]===s)return r[1];const d={error:gr("error",o,s),warn:gr("warn",o,s),info:gr("info",o,s),debug:gr("debug",o,s)};return Ng.set(o,[s,d]),d}const ko=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([n,o])=>[n,n.toLowerCase()==="x-goog-api-key"||n.toLowerCase()==="authorization"||n.toLowerCase()==="cookie"||n.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);class wl{constructor(n,o,s){this.iterator=n,this.controller=o,this.client=s}static fromSSEResponse(n,o,s){let r=!1;const d=s?qt(s):console;function f(){return In(this,arguments,function*(){var v,h,y,T;if(r)throw new Sn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var N=!0,U=Dn(RC(n,o)),V;V=yield pe(U.next()),v=V.done,!v;N=!0){T=V.value,N=!1;const H=T;if(!_)if(H.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield pe(JSON.parse(H.data))}catch(Y){throw d.error("Could not parse message into JSON:",H.data),d.error("From chunk:",H.raw),Y}}}catch(H){h={error:H}}finally{try{!N&&!v&&(y=U.return)&&(yield pe(y.call(U)))}finally{if(h)throw h.error}}_=!0}catch(H){if(ud(H))return yield pe(void 0);throw H}finally{_||o.abort()}})}return new wl(f,o,s)}static fromReadableStream(n,o,s){let r=!1;function d(){return In(this,arguments,function*(){var v,h,y,T;const _=new wr,N=d0(n);try{for(var U=!0,V=Dn(N),H;H=yield pe(V.next()),v=H.done,!v;U=!0){T=H.value,U=!1;const Y=T;for(const j of _.decode(Y))yield yield pe(j)}}catch(Y){h={error:Y}}finally{try{!U&&!v&&(y=V.return)&&(yield pe(y.call(V)))}finally{if(h)throw h.error}}for(const Y of _.flush())yield yield pe(Y)})}function f(){return In(this,arguments,function*(){var v,h,y,T;if(r)throw new Sn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var N=!0,U=Dn(d()),V;V=yield pe(U.next()),v=V.done,!v;N=!0){T=V.value,N=!1;const H=T;_||H&&(yield yield pe(JSON.parse(H)))}}catch(H){h={error:H}}finally{try{!N&&!v&&(y=U.return)&&(yield pe(y.call(U)))}finally{if(h)throw h.error}}_=!0}catch(H){if(ud(H))return yield pe(void 0);throw H}finally{_||o.abort()}})}return new wl(f,o,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const n=[],o=[],s=this.iterator(),r=d=>({next:()=>{if(d.length===0){const f=s.next();n.push(f),o.push(f)}return d.shift()}});return[new wl(()=>r(n),this.controller,this.client),new wl(()=>r(o),this.controller,this.client)]}toReadableStream(){const n=this;let o;return c0({async start(){o=n[Symbol.asyncIterator]()},async pull(s){try{const{value:r,done:d}=await o.next();if(d)return s.close();const f=Cd(JSON.stringify(r)+`
`);s.enqueue(f)}catch(r){s.error(r)}},async cancel(){var s;await((s=o.return)===null||s===void 0?void 0:s.call(o))}})}}function RC(i,n){return In(this,arguments,function*(){var s,r,d,f;if(!i.body)throw n.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Sn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Sn("Attempted to iterate over a response with no body");const g=new IC,v=new wr,h=d0(i.body);try{for(var y=!0,T=Dn(wC(h)),_;_=yield pe(T.next()),s=_.done,!s;y=!0){f=_.value,y=!1;const N=f;for(const U of v.decode(N)){const V=g.decode(U);V&&(yield yield pe(V))}}}catch(N){r={error:N}}finally{try{!y&&!s&&(d=T.return)&&(yield pe(d.call(T)))}finally{if(r)throw r.error}}for(const N of v.flush()){const U=g.decode(N);U&&(yield yield pe(U))}})}function wC(i){return In(this,arguments,function*(){var o,s,r,d;let f=new Uint8Array;try{for(var g=!0,v=Dn(i),h;h=yield pe(v.next()),o=h.done,!o;g=!0){d=h.value,g=!1;const y=d;if(y==null)continue;const T=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?Cd(y):y;let _=new Uint8Array(f.length+T.length);_.set(f),_.set(T,f.length),f=_;let N;for(;(N=NC(f))!==-1;)yield yield pe(f.slice(0,N)),f=f.slice(N)}}catch(y){s={error:y}}finally{try{!g&&!o&&(r=v.return)&&(yield pe(r.call(v)))}finally{if(s)throw s.error}}f.length>0&&(yield yield pe(f))})}class IC{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(n){if(n.endsWith("\r")&&(n=n.substring(0,n.length-1)),!n){if(!this.event&&!this.data.length)return null;const d={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],d}if(this.chunks.push(n),n.startsWith(":"))return null;let[o,s,r]=DC(n,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function DC(i,n){const o=i.indexOf(n);return o!==-1?[i.substring(0,o),n,i.substring(o+n.length)]:[i,"",""]}async function UC(i,n){const{response:o,requestLogID:s,retryOfRequestLogID:r,startTime:d}=n,f=await(async()=>{var g;if(n.options.stream)return qt(i).debug("response",o.status,o.url,o.headers,o.body),n.options.__streamClass?n.options.__streamClass.fromSSEResponse(o,n.controller,i):wl.fromSSEResponse(o,n.controller,i);if(o.status===204)return null;if(n.options.__binaryResponse)return o;const v=o.headers.get("content-type"),h=(g=v?.split(";")[0])===null||g===void 0?void 0:g.trim();return h?.includes("application/json")||h?.endsWith("+json")?await o.json():await o.text()})();return qt(i).debug(`[${s}] response parsed`,ko({retryOfRequestLogID:r,url:o.url,status:o.status,body:f,durationMs:Date.now()-d})),f}class Ad extends Promise{constructor(n,o,s=UC){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=s,this.client=n}_thenUnwrap(n){return new Ad(this.client,this.responsePromise,async(o,s)=>n(await this.parseResponse(o,s),s))}asResponse(){return this.responsePromise.then(n=>n.response)}async withResponse(){const[n,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:n,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(n=>this.parseResponse(this.client,n))),this.parsedPromise}then(n,o){return this.parse().then(n,o)}catch(n){return this.parse().catch(n)}finally(n){return this.parse().finally(n)}}const y0=Symbol("brand.privateNullableHeaders");function*LC(i){if(!i)return;if(y0 in i){const{values:s,nulls:r}=i;yield*s.entries();for(const d of r)yield[d,null];return}let n=!1,o;i instanceof Headers?o=i.entries():Tg(i)?o=i:(n=!0,o=Object.entries(i??{}));for(let s of o){const r=s[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const d=Tg(s[1])?s[1]:[s[1]];let f=!1;for(const g of d)g!==void 0&&(n&&!f&&(f=!0,yield[r,null]),yield[r,g])}}const Ls=i=>{const n=new Headers,o=new Set;for(const s of i){const r=new Set;for(const[d,f]of LC(s)){const g=d.toLowerCase();r.has(g)||(n.delete(d),r.add(g)),f===null?(n.delete(d),o.add(g)):(n.append(d,f),o.delete(g))}}return{[y0]:!0,values:n,nulls:o}};const $c=i=>{var n,o,s,r,d,f;if(typeof globalThis.process<"u")return(s=(o=(n=ny)===null||n===void 0?void 0:n[i])===null||o===void 0?void 0:o.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(f=(d=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||d===void 0?void 0:d.call(r,i))===null||f===void 0?void 0:f.trim()};var S0;class Ir{constructor(n){var o,s,r,d,f,g,v,{baseURL:h=$c("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(o=$c("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:T="v1beta"}=n,_=_r(n,["baseURL","apiKey","apiVersion"]);const N=Object.assign(Object.assign({apiKey:y,apiVersion:T},_),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=N.baseURL,this.timeout=(s=N.timeout)!==null&&s!==void 0?s:Ir.DEFAULT_TIMEOUT,this.logger=(r=N.logger)!==null&&r!==void 0?r:console;const U="warn";this.logLevel=U,this.logLevel=(f=(d=bg(N.logLevel,"ClientOptions.logLevel",this))!==null&&d!==void 0?d:bg($c("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:U,this.fetchOptions=N.fetchOptions,this.maxRetries=(g=N.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(v=N.fetch)!==null&&v!==void 0?v:pC(),this.encoder=vC,this._options=N,this.apiKey=y,this.apiVersion=T,this.clientAdapter=N.clientAdapter}withOptions(n){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),n))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:n,nulls:o}){if(!(n.has("authorization")||n.has("x-goog-api-key"))&&!(this.apiKey&&n.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(n){const o=Ls([n.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return Ls([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Ls([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(n){return Object.entries(n).filter(([o,s])=>typeof s<"u").map(([o,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(o)}=`;throw new Sn(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ml}`}defaultIdempotencyKey(){return`stainless-node-retry-${eC()}`}makeStatusError(n,o,s,r){return zt.generate(n,o,s,r)}buildURL(n,o,s){const r=!this.baseURLOverridden()&&s||this.baseURL,d=nC(n)?new URL(n):new URL(r+(r.endsWith("/")&&n.startsWith("/")?n.slice(1):n)),f=this.defaultQuery();return lC(f)||(o=Object.assign(Object.assign({},f),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(d.search=this.stringifyQuery(o)),d.toString()}async prepareOptions(n){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!n.path.startsWith(`/${this.apiVersion}/projects/`)){const o=n.path.slice(this.apiVersion.length+1);n.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(n,{url:o,options:s}){}get(n,o){return this.methodRequest("get",n,o)}post(n,o){return this.methodRequest("post",n,o)}patch(n,o){return this.methodRequest("patch",n,o)}put(n,o){return this.methodRequest("put",n,o)}delete(n,o){return this.methodRequest("delete",n,o)}methodRequest(n,o,s){return this.request(Promise.resolve(s).then(r=>Object.assign({method:n,path:o},r)))}request(n,o=null){return new Ad(this,this.makeRequest(n,o,void 0))}async makeRequest(n,o,s){var r,d,f;const g=await n,v=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=v),await this.prepareOptions(g);const{req:h,url:y,timeout:T}=await this.buildRequest(g,{retryCount:v-o});await this.prepareRequest(h,{url:y,options:g});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),N=s===void 0?"":`, retryOf: ${s}`,U=Date.now();if(qt(this).debug(`[${_}] sending request`,ko({retryOfRequestLogID:s,method:g.method,url:y,options:g,headers:h.headers})),!((d=g.signal)===null||d===void 0)&&d.aborted)throw new dd;const V=new AbortController,H=await this.fetchWithTimeout(y,h,T,V).catch(cd),Y=Date.now();if(H instanceof globalThis.Error){const X=`retrying, ${o} attempts remaining`;if(!((f=g.signal)===null||f===void 0)&&f.aborted)throw new dd;const $=ud(H)||/timed? ?out/i.test(String(H)+("cause"in H?String(H.cause):""));if(o)return qt(this).info(`[${_}] connection ${$?"timed out":"failed"} - ${X}`),qt(this).debug(`[${_}] connection ${$?"timed out":"failed"} (${X})`,ko({retryOfRequestLogID:s,url:y,durationMs:Y-U,message:H.message})),this.retryRequest(g,o,s??_);throw qt(this).info(`[${_}] connection ${$?"timed out":"failed"} - error; no more retries left`),qt(this).debug(`[${_}] connection ${$?"timed out":"failed"} (error; no more retries left)`,ko({retryOfRequestLogID:s,url:y,durationMs:Y-U,message:H.message})),$?new t0:new Rr({cause:H})}const j=`[${_}${N}] ${h.method} ${y} ${H.ok?"succeeded":"failed"} with status ${H.status} in ${Y-U}ms`;if(!H.ok){const X=await this.shouldRetry(H);if(o&&X){const oe=`retrying, ${o} attempts remaining`;return await gC(H.body),qt(this).info(`${j} - ${oe}`),qt(this).debug(`[${_}] response error (${oe})`,ko({retryOfRequestLogID:s,url:H.url,status:H.status,headers:H.headers,durationMs:Y-U})),this.retryRequest(g,o,s??_,H.headers)}const $=X?"error; no more retries left":"error; not retryable";qt(this).info(`${j} - ${$}`);const O=await H.text().catch(oe=>cd(oe).message),te=rC(O),W=te?void 0:O;throw qt(this).debug(`[${_}] response error (${$})`,ko({retryOfRequestLogID:s,url:H.url,status:H.status,headers:H.headers,message:W,durationMs:Date.now()-U})),this.makeStatusError(H.status,te,W,H.headers)}return qt(this).info(j),qt(this).debug(`[${_}] response start`,ko({retryOfRequestLogID:s,url:H.url,status:H.status,headers:H.headers,durationMs:Y-U})),{response:H,options:g,controller:V,requestLogID:_,retryOfRequestLogID:s,startTime:U}}async fetchWithTimeout(n,o,s,r){const d=o||{},{signal:f,method:g}=d,v=_r(d,["signal","method"]);f&&f.addEventListener("abort",()=>r.abort());const h=setTimeout(()=>r.abort(),s),y=globalThis.ReadableStream&&v.body instanceof globalThis.ReadableStream||typeof v.body=="object"&&v.body!==null&&Symbol.asyncIterator in v.body,T=Object.assign(Object.assign(Object.assign({signal:r.signal},y?{duplex:"half"}:{}),{method:"GET"}),v);g&&(T.method=g.toUpperCase());try{return await this.fetch.call(void 0,n,T)}finally{clearTimeout(h)}}async shouldRetry(n){const o=n.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:n.status===408||n.status===409||n.status===429||n.status>=500}async retryRequest(n,o,s,r){var d;let f;const g=r?.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(f=h)}const v=r?.get("retry-after");if(v&&!f){const h=parseFloat(v);Number.isNaN(h)?f=Date.parse(v)-Date.now():f=h*1e3}if(!(f&&0<=f&&f<60*1e3)){const h=(d=n.maxRetries)!==null&&d!==void 0?d:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(o,h)}return await uC(f),this.makeRequest(n,o-1,s)}calculateDefaultRetryTimeoutMillis(n,o){const d=o-n,f=Math.min(.5*Math.pow(2,d),8),g=1-Math.random()*.25;return f*g*1e3}async buildRequest(n,{retryCount:o=0}={}){var s,r,d;const f=Object.assign({},n),{method:g,path:v,query:h,defaultBaseURL:y}=f,T=this.buildURL(v,h,y);"timeout"in f&&aC("timeout",f.timeout),f.timeout=(s=f.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:_,body:N}=this.buildBody({options:f}),U=await this.buildHeaders({options:n,method:g,bodyHeaders:_,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:U},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&N instanceof globalThis.ReadableStream&&{duplex:"half"}),N&&{body:N}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(d=f.fetchOptions)!==null&&d!==void 0?d:{}),url:T,timeout:f.timeout}}async buildHeaders({options:n,method:o,bodyHeaders:s,retryCount:r}){let d={};this.idempotencyHeader&&o!=="get"&&(n.idempotencyKey||(n.idempotencyKey=this.defaultIdempotencyKey()),d[this.idempotencyHeader]=n.idempotencyKey);const f=await this.authHeaders(n);let g=Ls([d,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},n.timeout?{"X-Stainless-Timeout":String(Math.trunc(n.timeout/1e3))}:{}),mC()),this._options.defaultHeaders,s,n.headers,f]);return this.validateHeaders(g),g.values}buildBody({options:{body:n,headers:o}}){if(!n)return{bodyHeaders:void 0,body:void 0};const s=Ls([o]);return ArrayBuffer.isView(n)||n instanceof ArrayBuffer||n instanceof DataView||typeof n=="string"&&s.values.has("content-type")||globalThis.Blob&&n instanceof globalThis.Blob||n instanceof FormData||n instanceof URLSearchParams||globalThis.ReadableStream&&n instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:n}:typeof n=="object"&&(Symbol.asyncIterator in n||Symbol.iterator in n&&"next"in n&&typeof n.next=="function")?{bodyHeaders:void 0,body:hC(n)}:this.encoder({body:n,headers:s})}}Ir.DEFAULT_TIMEOUT=6e4;class yt extends Ir{constructor(){super(...arguments),this.interactions=new v0(this)}}S0=yt;yt.GeminiNextGenAPIClient=S0;yt.GeminiNextGenAPIClientError=Sn;yt.APIError=zt;yt.APIConnectionError=Rr;yt.APIConnectionTimeoutError=t0;yt.APIUserAbortError=dd;yt.NotFoundError=l0;yt.ConflictError=s0;yt.RateLimitError=r0;yt.BadRequestError=n0;yt.AuthenticationError=i0;yt.InternalServerError=u0;yt.PermissionDeniedError=o0;yt.UnprocessableEntityError=a0;yt.toFile=_C;yt.Interactions=v0;function kC(i,n){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function GC(i,n){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function HC(i,n){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&c(o,["sdkHttpResponse"],s),o}function PC(i,n){const o={},s=u(i,["sdkHttpResponse"]);return s!=null&&c(o,["sdkHttpResponse"],s),o}function VC(i,n,o){const s={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(n!==void 0&&r!=null&&c(n,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=u(i,["epochCount"]);n!==void 0&&d!=null&&c(n,["tuningTask","hyperparameters","epochCount"],d);const f=u(i,["learningRateMultiplier"]);if(f!=null&&c(s,["tuningTask","hyperparameters","learningRateMultiplier"],f),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(u(i,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(u(i,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);n!==void 0&&g!=null&&c(n,["tuningTask","hyperparameters","batchSize"],g);const v=u(i,["learningRate"]);if(n!==void 0&&v!=null&&c(n,["tuningTask","hyperparameters","learningRate"],v),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(u(i,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(u(i,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(u(i,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(u(i,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return s}function qC(i,n,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const O=u(i,["validationDataset"]);n!==void 0&&O!=null&&c(n,["supervisedTuningSpec"],Wc(O))}else if(r==="PREFERENCE_TUNING"){const O=u(i,["validationDataset"]);n!==void 0&&O!=null&&c(n,["preferenceOptimizationSpec"],Wc(O))}else if(r==="DISTILLATION"){const O=u(i,["validationDataset"]);n!==void 0&&O!=null&&c(n,["distillationSpec"],Wc(O))}const d=u(i,["tunedModelDisplayName"]);n!==void 0&&d!=null&&c(n,["tunedModelDisplayName"],d);const f=u(i,["description"]);n!==void 0&&f!=null&&c(n,["description"],f);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const O=u(i,["epochCount"]);n!==void 0&&O!=null&&c(n,["supervisedTuningSpec","hyperParameters","epochCount"],O)}else if(g==="PREFERENCE_TUNING"){const O=u(i,["epochCount"]);n!==void 0&&O!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","epochCount"],O)}else if(g==="DISTILLATION"){const O=u(i,["epochCount"]);n!==void 0&&O!=null&&c(n,["distillationSpec","hyperParameters","epochCount"],O)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const O=u(i,["learningRateMultiplier"]);n!==void 0&&O!=null&&c(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],O)}else if(v==="PREFERENCE_TUNING"){const O=u(i,["learningRateMultiplier"]);n!==void 0&&O!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],O)}else if(v==="DISTILLATION"){const O=u(i,["learningRateMultiplier"]);n!==void 0&&O!=null&&c(n,["distillationSpec","hyperParameters","learningRateMultiplier"],O)}let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const O=u(i,["exportLastCheckpointOnly"]);n!==void 0&&O!=null&&c(n,["supervisedTuningSpec","exportLastCheckpointOnly"],O)}else if(h==="PREFERENCE_TUNING"){const O=u(i,["exportLastCheckpointOnly"]);n!==void 0&&O!=null&&c(n,["preferenceOptimizationSpec","exportLastCheckpointOnly"],O)}else if(h==="DISTILLATION"){const O=u(i,["exportLastCheckpointOnly"]);n!==void 0&&O!=null&&c(n,["distillationSpec","exportLastCheckpointOnly"],O)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const O=u(i,["adapterSize"]);n!==void 0&&O!=null&&c(n,["supervisedTuningSpec","hyperParameters","adapterSize"],O)}else if(y==="PREFERENCE_TUNING"){const O=u(i,["adapterSize"]);n!==void 0&&O!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","adapterSize"],O)}else if(y==="DISTILLATION"){const O=u(i,["adapterSize"]);n!==void 0&&O!=null&&c(n,["distillationSpec","hyperParameters","adapterSize"],O)}let T=u(o,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const O=u(i,["tuningMode"]);n!==void 0&&O!=null&&c(n,["supervisedTuningSpec","tuningMode"],O)}const _=u(i,["customBaseModel"]);n!==void 0&&_!=null&&c(n,["customBaseModel"],_);let N=u(o,["config","method"]);if(N===void 0&&(N="SUPERVISED_FINE_TUNING"),N==="SUPERVISED_FINE_TUNING"){const O=u(i,["batchSize"]);n!==void 0&&O!=null&&c(n,["supervisedTuningSpec","hyperParameters","batchSize"],O)}let U=u(o,["config","method"]);if(U===void 0&&(U="SUPERVISED_FINE_TUNING"),U==="SUPERVISED_FINE_TUNING"){const O=u(i,["learningRate"]);n!==void 0&&O!=null&&c(n,["supervisedTuningSpec","hyperParameters","learningRate"],O)}const V=u(i,["labels"]);n!==void 0&&V!=null&&c(n,["labels"],V);const H=u(i,["beta"]);n!==void 0&&H!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","beta"],H);const Y=u(i,["baseTeacherModel"]);n!==void 0&&Y!=null&&c(n,["distillationSpec","baseTeacherModel"],Y);const j=u(i,["tunedTeacherModelSource"]);n!==void 0&&j!=null&&c(n,["distillationSpec","tunedTeacherModelSource"],j);const X=u(i,["sftLossWeightMultiplier"]);n!==void 0&&X!=null&&c(n,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],X);const $=u(i,["outputUri"]);return n!==void 0&&$!=null&&c(n,["outputUri"],$),s}function zC(i,n){const o={},s=u(i,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&WC(d);const f=u(i,["config"]);return f!=null&&VC(f,o),o}function BC(i,n){const o={},s=u(i,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const d=u(i,["trainingDataset"]);d!=null&&jC(d,o,n);const f=u(i,["config"]);return f!=null&&qC(f,o,n),o}function OC(i,n){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function FC(i,n){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function JC(i,n,o){const s={},r=u(i,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const d=u(i,["pageToken"]);n!==void 0&&d!=null&&c(n,["_query","pageToken"],d);const f=u(i,["filter"]);return n!==void 0&&f!=null&&c(n,["_query","filter"],f),s}function YC(i,n,o){const s={},r=u(i,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const d=u(i,["pageToken"]);n!==void 0&&d!=null&&c(n,["_query","pageToken"],d);const f=u(i,["filter"]);return n!==void 0&&f!=null&&c(n,["_query","filter"],f),s}function KC(i,n){const o={},s=u(i,["config"]);return s!=null&&JC(s,o),o}function XC(i,n){const o={},s=u(i,["config"]);return s!=null&&YC(s,o),o}function QC(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(i,["tunedModels"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(g=>x0(g))),c(o,["tuningJobs"],f)}return o}function ZC(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const d=u(i,["tuningJobs"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(g=>pd(g))),c(o,["tuningJobs"],f)}return o}function $C(i,n){const o={},s=u(i,["name"]);s!=null&&c(o,["model"],s);const r=u(i,["name"]);return r!=null&&c(o,["endpoint"],r),o}function WC(i,n){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=u(i,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(d=>d)),c(o,["examples","examples"],r)}return o}function jC(i,n,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const f=u(i,["gcsUri"]);n!==void 0&&f!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(r==="PREFERENCE_TUNING"){const f=u(i,["gcsUri"]);n!==void 0&&f!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],f)}else if(r==="DISTILLATION"){const f=u(i,["gcsUri"]);n!==void 0&&f!=null&&c(n,["distillationSpec","promptDatasetUri"],f)}let d=u(o,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const f=u(i,["vertexDatasetResource"]);n!==void 0&&f!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(d==="PREFERENCE_TUNING"){const f=u(i,["vertexDatasetResource"]);n!==void 0&&f!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],f)}else if(d==="DISTILLATION"){const f=u(i,["vertexDatasetResource"]);n!==void 0&&f!=null&&c(n,["distillationSpec","promptDatasetUri"],f)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function x0(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const d=u(i,["state"]);d!=null&&c(o,["state"],Gg(d));const f=u(i,["createTime"]);f!=null&&c(o,["createTime"],f);const g=u(i,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const v=u(i,["tuningTask","completeTime"]);v!=null&&c(o,["endTime"],v);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const y=u(i,["description"]);y!=null&&c(o,["description"],y);const T=u(i,["baseModel"]);T!=null&&c(o,["baseModel"],T);const _=u(i,["_self"]);return _!=null&&c(o,["tunedModel"],$C(_)),o}function pd(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const d=u(i,["state"]);d!=null&&c(o,["state"],Gg(d));const f=u(i,["createTime"]);f!=null&&c(o,["createTime"],f);const g=u(i,["startTime"]);g!=null&&c(o,["startTime"],g);const v=u(i,["endTime"]);v!=null&&c(o,["endTime"],v);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const y=u(i,["error"]);y!=null&&c(o,["error"],y);const T=u(i,["description"]);T!=null&&c(o,["description"],T);const _=u(i,["baseModel"]);_!=null&&c(o,["baseModel"],_);const N=u(i,["tunedModel"]);N!=null&&c(o,["tunedModel"],N);const U=u(i,["preTunedModel"]);U!=null&&c(o,["preTunedModel"],U);const V=u(i,["supervisedTuningSpec"]);V!=null&&c(o,["supervisedTuningSpec"],V);const H=u(i,["preferenceOptimizationSpec"]);H!=null&&c(o,["preferenceOptimizationSpec"],H);const Y=u(i,["distillationSpec"]);Y!=null&&c(o,["distillationSpec"],Y);const j=u(i,["tuningDataStats"]);j!=null&&c(o,["tuningDataStats"],j);const X=u(i,["encryptionSpec"]);X!=null&&c(o,["encryptionSpec"],X);const $=u(i,["partnerModelTuningSpec"]);$!=null&&c(o,["partnerModelTuningSpec"],$);const O=u(i,["customBaseModel"]);O!=null&&c(o,["customBaseModel"],O);const te=u(i,["experiment"]);te!=null&&c(o,["experiment"],te);const W=u(i,["labels"]);W!=null&&c(o,["labels"],W);const ie=u(i,["outputUri"]);ie!=null&&c(o,["outputUri"],ie);const oe=u(i,["pipelineJob"]);oe!=null&&c(o,["pipelineJob"],oe);const he=u(i,["serviceAccount"]);he!=null&&c(o,["serviceAccount"],he);const Ie=u(i,["tunedModelDisplayName"]);Ie!=null&&c(o,["tunedModelDisplayName"],Ie);const Me=u(i,["veoTuningSpec"]);return Me!=null&&c(o,["veoTuningSpec"],Me),o}function eA(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const d=u(i,["metadata"]);d!=null&&c(o,["metadata"],d);const f=u(i,["done"]);f!=null&&c(o,["done"],f);const g=u(i,["error"]);return g!=null&&c(o,["error"],g),o}function Wc(i,n){const o={},s=u(i,["gcsUri"]);s!=null&&c(o,["validationDatasetUri"],s);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}class tA extends di{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new Go(ci.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:r});return d.baseModel=void 0,await this.tuneInternal(d)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),d=await this.tuneMldevInternal(r);let f="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?f=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(f=d.name.split("/operations/")[0]),{name:f,state:td.JOB_STATE_QUEUED}}}}async getInternal(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=FC(n);return g=ne("{name}",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>pd(y))}else{const h=OC(n);return g=ne("{name}",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>x0(y))}}async listInternal(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=XC(n);return g=ne("tuningJobs",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>{const T=ZC(y),_=new eg;return Object.assign(_,T),_})}else{const h=KC(n);return g=ne("tunedModels",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>{const T=QC(y),_=new eg;return Object.assign(_,T),_})}}async cancel(n){var o,s,r,d;let f,g="",v={};if(this.apiClient.isVertexAI()){const h=GC(n);return g=ne("{name}:cancel",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>{const T=PC(y),_=new tg;return Object.assign(_,T),_})}else{const h=kC(n);return g=ne("{name}:cancel",h._url),v=h._query,delete h._url,delete h._query,f=this.apiClient.request({path:g,queryParams:v,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:y.headers},_})),f.then(y=>{const T=HC(y),_=new tg;return Object.assign(_,T),_})}}async tuneInternal(n){var o,s;let r,d="",f={};if(this.apiClient.isVertexAI()){const g=BC(n,n);return d=ne("tuningJobs",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>pd(v))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var o,s;let r,d="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=zC(n);return d=ne("tunedModels",g._url),f=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:d,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:v.headers},y})),r.then(v=>eA(v))}}}class nA{async download(n,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const iA=1024*1024*8,oA=3,lA=1e3,sA=2,Cr="x-goog-upload-status";async function aA(i,n,o){var s;const r=await T0(i,n,o),d=await r?.json();if(((s=r?.headers)===null||s===void 0?void 0:s[Cr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function rA(i,n,o){var s;const r=await T0(i,n,o),d=await r?.json();if(((s=r?.headers)===null||s===void 0?void 0:s[Cr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=wg(d),g=new yd;return Object.assign(g,f),g}async function T0(i,n,o){var s,r;let d=0,f=0,g=new id(new Response),v="upload";for(d=i.size;f<d;){const h=Math.min(iA,d-f),y=i.slice(f,f+h);f+h>=d&&(v+=", finalize");let T=0,_=lA;for(;T<oA&&(g=await o.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":String(f),"Content-Length":String(h)}}}),!(!((s=g?.headers)===null||s===void 0)&&s[Cr]));)T++,await cA(_),_=_*sA;if(f+=h,((r=g?.headers)===null||r===void 0?void 0:r[Cr])!=="active")break;if(d<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function uA(i){return{size:i.size,type:i.type}}function cA(i){return new Promise(n=>setTimeout(n,i))}class dA{async upload(n,o,s){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await aA(n,o,s)}async uploadToFileSearchStore(n,o,s){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await rA(n,o,s)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await uA(n)}}class fA{create(n,o,s){return new mA(n,o,s)}}class mA{constructor(n,o,s){this.url=n,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const Mg="x-goog-api-key";class pA{constructor(n){this.apiKey=n}async addAuthHeaders(n,o){if(n.get(Mg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(Mg,this.apiKey)}}}const hA="gl-node/";class Ar{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new yt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n?.timeout});return this._interactions=o.interactions,this._interactions}constructor(n){var o;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=n.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=n.apiKey;const s=sy(n.httpOptions,n.vertexai,void 0,void 0);s&&(n.httpOptions?n.httpOptions.baseUrl=s:n.httpOptions={baseUrl:s}),this.apiVersion=n.apiVersion,this.httpOptions=n.httpOptions;const r=new pA(this.apiKey);this.apiClient=new uE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:hA+"web",uploader:new dA,downloader:new nA}),this.models=new ME(this.apiClient),this.live=new _E(this.apiClient,r,new fA),this.batches=new GS(this.apiClient),this.chats=new vx(this.models,this.apiClient),this.caches=new px(this.apiClient),this.files=new Rx(this.apiClient),this.operations=new RE(this.apiClient),this.authTokens=new JE(this.apiClient),this.tunings=new tA(this.apiClient),this.fileSearchStores=new jE(this.apiClient)}}class gA{getApiKey(){return localStorage.getItem("gemini_api_key")||""}getModel(){return localStorage.getItem("gemini_model")||"gemini-1.5-flash"}getClient(){const n=this.getApiKey();if(!n)throw new Error("Gemini API key is required");return new Ar({apiKey:n})}async extractCharacters(n,o,s){const r=this.getClient(),d={"2d-animation":"vibrant 2D animation style similar to Studio Ghibli or modern anime",realistic:"photorealistic cinematic style with detailed lighting and textures",animation:"high-quality 3D animation style similar to Pixar or DreamWorks",custom:s||"artistic illustration style"},g=`Analyze this script and extract character information. Return a JSON object with:
1. "title": A concise Korean title for this story (3-5 words)
2. "characters": An array of character objects with:
   - "id": unique UUID
   - "name": character name in format "EnglishName()" e.g. "Eunhwa()", "Minjun()", "Sora()"
   - "role": brief role description in Korean
   - "visualDescription": detailed visual description for image generation in English, including: gender, age, hair color/style, eye color, clothing, distinctive features. Style: ${d[o]||d["2d-animation"]}

Script:
${n}

Return ONLY valid JSON, no markdown or explanation.`,y=((await r.models.generateContent({model:this.getModel(),contents:g,config:{responseMimeType:"application/json"}})).text||"").match(/\{[\s\S]*\}/);if(!y)throw new Error("Failed to parse character data");const T=JSON.parse(y[0]);return{title:T.title||" ",characters:(T.characters||[]).map(_=>({id:_.id||crypto.randomUUID(),name:_.name,role:_.role,visualDescription:_.visualDescription,portraitUrl:null,status:"idle"}))}}async generateImage(n,o=!1,s){const r=this.getClient(),d=s||localStorage.getItem("gemini_image_model")||"gemini-2.5-flash-image";let f=n;if(o?f=`Portrait shot, centered composition, square 1:1 aspect ratio, ${n}, high quality, detailed, professional lighting`:f=`Widescreen 16:9 aspect ratio, ${n}, cinematic composition, high quality, detailed, professional lighting`,d.includes("imagen")){const v=await r.models.generateImages({model:d,prompt:f,config:{numberOfImages:1,aspectRatio:o?"1:1":"16:9"}});if(v.generatedImages&&v.generatedImages.length>0){const h=v.generatedImages[0].image?.imageBytes;if(h)return`data:image/png;base64,${h}`}throw new Error("Failed to generate image")}const g=await r.models.generateContent({model:d,contents:f,config:{responseModalities:["image","text"]}});if(g.candidates&&g.candidates[0]?.content?.parts){for(const v of g.candidates[0].content.parts)if(v.inlineData?.data)return`data:${v.inlineData.mimeType||"image/png"};base64,${v.inlineData.data}`}throw new Error("Failed to generate image")}async analyzeStyle(n){const o=this.getClient(),s=n.slice(0,5).map(d=>({inlineData:{mimeType:"image/jpeg",data:d.split(",")[1]||d}}));return(await o.models.generateContent({model:this.getModel(),contents:[{role:"user",parts:[...s,{text:"Analyze these reference images and describe the visual style in detail for image generation. Include: color palette, line style, shading technique, overall mood, artistic influences. Be specific and technical. Response in English only, in a single paragraph."}]}]})).text||"Modern digital illustration style"}chunkScript(n){const o=[],s=n.split(new RegExp("(?<=[.!?])\\s*"));let r="",d=0;const f=4;let g=0;for(let v=0;v<s.length;v++){const h=s[v].trim();if(!h)continue;g=v+1;const y=/^[#\-\*]|||INT\.|EXT\.|fade|cut/i.test(h),T=/[!]{2,}|\.{3,}|/.test(h)&&h.length<50;if(y&&r){o.push(r.trim()),r=h+" ",d=1;continue}r+=h+" ",d++,(d>=f||T)&&(o.push(r.trim()),r="",d=0)}return r.trim()&&o.push(r.trim()),g<s.length&&console.warn(`Script chunking incomplete: processed ${g}/${s.length}`),o.filter(v=>v.length>0)}async createStoryboard(n){const o=this.getClient(),s=this.chunkScript(n.script);if(s.length===0)throw new Error("   .");const r=n.characters.map(T=>`- ${T.name}: ${T.visualDescription}`).join(`
`),d=`Generate image prompts for these ${s.length} script segments.

Characters:
${r}

Style: ${n.customStyleDescription||n.style}

Script segments (numbered):
${s.map((T,_)=>`[${_+1}] ${T}`).join(`

`)}

For EACH numbered segment, provide:
1. "segment_number": The segment number (1 to ${s.length})
2. "imagePrompt": A detailed English prompt for image generation including scene composition, character positions, background, lighting, mood
3. "effect_type": One of "3d_parallax", "zoom_in_slow", "zoom_in_fast", "zoom_out_slow", "pan_left", "pan_right", "static_subtle"
4. "intensity": 1-10 emotional intensity

IMPORTANT: You MUST generate exactly ${s.length} scene objects, one for each segment number.

Return ONLY valid JSON array, no markdown.`,v=((await o.models.generateContent({model:this.getModel(),contents:d,config:{responseMimeType:"application/json"}})).text||"").match(/\[[\s\S]*\]/);if(!v)throw new Error("Failed to parse storyboard data");const h=JSON.parse(v[0]),y=new Map;for(const T of h){const _=T.segment_number||T.segmentNumber||y.size+1;y.set(_,T)}return s.map((T,_)=>{const N=_+1,U=y.get(N)||{},V=U.effect_type||U.effectType||"3d_parallax",H=U.intensity||5,Y=this.generateMotionParams(V,H);return{id:crypto.randomUUID(),scriptSegment:T,imagePrompt:U.imagePrompt||`Scene depicting: ${T.substring(0,100)}`,imageUrl:null,audioUrl:null,videoUrl:null,status:"idle",audioStatus:"idle",videoStatus:"idle",effect:{effect_type:V,intensity:H,motion_params:Y}}})}generateMotionParams(n,o){const s=1.1+(o-1)/9*.2,r=Math.round((s+(Math.random()*.05-.025))*100)/100;let d="center";if(n==="pan_left"||n==="3d_parallax")d=Math.random()>.5?"left":"center";else if(n==="pan_right")d="right";else if(n==="3d_parallax"){const g=Math.random();d=g<.33?"left":g<.66?"right":"center"}let f="medium";return n.includes("slow")||n==="static_subtle"?f="slow":n.includes("fast")?f="fast":n==="3d_parallax"&&(f=o>6?"medium":"slow"),{scale:r,direction:d,speed:f}}async regeneratePrompt(n,o,s){const r=this.getClient(),d=s.characters.map(v=>`- ${v.name}: ${v.visualDescription}`).join(`
`),f=`Modify this image generation prompt based on the user's request while maintaining character consistency.

Current prompt:
${n}

User's modification request (in Korean):
${o}

Character reference:
${d}

Style: ${s.customStyleDescription||s.style}

Generate a new, detailed English prompt that:
1. Incorporates the user's requested changes
2. Maintains the same visual style
3. Keeps character appearances consistent with their descriptions
4. Preserves the overall composition quality

Return ONLY the new prompt text, no explanation or markdown.`;return(await r.models.generateContent({model:this.getModel(),contents:f})).text||n}async generateGoogleTTS(n,o,s){const r=s||this.getApiKey();if(!r)throw new Error("API key is required for TTS");const d=new Ar({apiKey:r}),f={Kore:{languageCode:"ko-KR",name:"ko-KR-Chirp3-HD-Kore"},Zephyr:{languageCode:"ko-KR",name:"ko-KR-Chirp3-HD-Zephyr"},Puck:{languageCode:"ko-KR",name:"ko-KR-Chirp3-HD-Puck"},Charon:{languageCode:"ko-KR",name:"ko-KR-Chirp3-HD-Charon"},Fenrir:{languageCode:"ko-KR",name:"ko-KR-Chirp3-HD-Fenrir"}},g=f[o]||f.Kore;try{const v=await d.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{role:"user",parts:[{text:n}]}],config:{responseModalities:["audio"],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:g.name}}}}});if(v.candidates&&v.candidates[0]?.content?.parts){for(const h of v.candidates[0].content.parts)if(h.inlineData?.data)return`data:${h.inlineData.mimeType||"audio/mp3"};base64,${h.inlineData.data}`}}catch(v){console.warn("TTS generation failed, trying fallback:",v)}return new Promise((v,h)=>{const y=new SpeechSynthesisUtterance(n);y.lang="ko-KR",y.rate=1;const T=new AudioContext,_=T.createMediaStreamDestination(),N=new MediaRecorder(_.stream),U=[];N.ondataavailable=V=>U.push(V.data),N.onstop=()=>{const V=new Blob(U,{type:"audio/webm"});v(URL.createObjectURL(V))},y.onstart=()=>N.start(),y.onend=()=>{N.stop(),T.close()},y.onerror=()=>h(new Error("TTS failed")),speechSynthesis.speak(y)})}async generateMotionPrompt(n,o){const s=this.getClient(),r=`Based on this dialogue and image description, generate a motion prompt for subtle video animation.

Dialogue: "${n}"
Image Description: "${o}"

Generate a motion description that:
1. Matches the emotion/action in the dialogue
2. Uses SUBTLE, NATURAL movements only (no dramatic actions)
3. Focuses on facial expressions, slight body shifts, or gentle gestures
4. Keeps character consistent with the image description

Examples:
- Dialogue: "I can't believe it!"  "character's eyes widen slightly, eyebrows raise, small gasp expression"
- Dialogue: "Hello, everyone."  "character smiles gently and nods head slightly"
- Dialogue: "It's beautiful..."  "character gazes softly, slight head tilt, peaceful expression"

Return ONLY the motion description in English, no quotes, no extra text.`;return(await s.models.generateContent({model:this.getModel(),contents:r})).text?.trim()||"subtle natural movement, gentle expression change"}}const Rg="https://hiyoonsh1--ltx-video-service-v2-web-app.modal.run";async function jc(i,n,o,s=""){console.log("[LTX] generateSceneVideo called"),console.log("[LTX] Dialogue:",o.substring(0,50));const r="subtle natural movement, gentle facial expressions, slight body motion";console.log("[LTX] Using default motion prompt");const d=`${n}. ${r}`;console.log("[LTX] Calling Modal API:",Rg),console.log("[LTX] Enhanced prompt:",d.substring(0,100));const f=Date.now(),g=await fetch(`${Rg}/generate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:d,image_url:i,character_description:s,num_frames:97})}),v=((Date.now()-f)/1e3).toFixed(1);if(console.log(`[LTX] Modal API response: ${g.status} (${v}s)`),!g.ok){const y=await g.json();throw console.error("[LTX] Modal API error:",y),new Error(y.error||"Video generation failed")}const h=await g.blob();return console.log(`[LTX] Video blob received: ${(h.size/1024/1024).toFixed(2)} MB`),h}const vA=()=>{const[i,n]=K.useState("dashboard"),[o,s]=K.useState(()=>{try{const E=localStorage.getItem("user_projects_v1");return E?JSON.parse(E):[]}catch{return[]}}),[r,d]=K.useState(null),f=K.useMemo(()=>o.find(E=>E.id===r)||null,[o,r]),[g,v]=K.useState(""),[h,y]=K.useState("2d-animation"),[T,_]=K.useState([]),[N,U]=K.useState(!1),[V,H]=K.useState(" ..."),[Y,j]=K.useState(0),[X,$]=K.useState(0),[O,te]=K.useState(null),[W,ie]=K.useState(0),[oe,he]=K.useState(!1),[Ie,Me]=K.useState(null),[Qe,Ve]=K.useState(!1),[De,q]=K.useState(()=>{try{const E=localStorage.getItem("user_saved_styles");return E?JSON.parse(E):[]}catch{return[]}}),[Z,re]=K.useState(""),[xe,He]=K.useState([]),[w,J]=K.useState(""),[ee,le]=K.useState(!1),[me,ye]=K.useState(""),[Ue,ot]=K.useState(!1),Ye=K.useRef(null),[ct,On]=K.useState(()=>{try{const E=localStorage.getItem("user_saved_characters_v2");return E?JSON.parse(E):[]}catch{return[]}}),[mi,Gl]=K.useState(""),[At,ji]=K.useState([]),[eo,to]=K.useState(null),Ho=K.useRef(null),[Hs,Ps]=K.useState(!1),[Vs,bd]=K.useState(!1),[Bt,dt]=K.useState(null),[Hl,qs]=K.useState(localStorage.getItem("gemini_model")||"gemini-1.5-flash"),[xn,Po]=K.useState(localStorage.getItem("gemini_image_model")||"gemini-2.5-flash-image"),[Tn,zs]=K.useState(localStorage.getItem("gemini_api_key")||""),[Bs,Vo]=K.useState(!1),[no,bt]=K.useState(!1),[ln,Ut]=K.useState(!1),[Pl,Dr]=K.useState(!1),[Vl,qo]=K.useState(!1),[Lt,io]=K.useState(localStorage.getItem("audio_provider")||"google"),[Zt,zo]=K.useState(localStorage.getItem("chirp_api_key")||""),[_n,Ur]=K.useState(localStorage.getItem("chirp_voice")||"Kore"),[Os,pi]=K.useState(!1),[oo,Bo]=K.useState(!1),[lt,hi]=K.useState({name:"",gender:"",age:"",traits:""}),[Fs,lo]=K.useState(!1),[Fn,Lr]=K.useState("scene"),[sn,Jn]=K.useState(null),[We,St]=K.useState(""),[gi,vi]=K.useState(!1),[so,kr]=K.useState("scene"),[an,ao]=K.useState(null),[yi,Ln]=K.useState(""),[Si,En]=K.useState(!1),[xi,$e]=K.useState(!1),[Js,ro]=K.useState(!1),[Yn,kn]=K.useState(!1),[ql,zl]=K.useState(""),[Oo,Ys]=K.useState(""),[Gn,uo]=K.useState(""),[Ot,kt]=K.useState(""),[co,Ks]=K.useState(""),[Hn,Bl]=K.useState(!1),[Cn,Ol]=K.useState([]),[Re,fo]=K.useState({apiKey:localStorage.getItem("el_api_key")||"",voiceId:"21m00Tcm4llvDq8ikWAM",speed:parseFloat(localStorage.getItem("el_speed")||"1.0")}),[Fl,Jl]=K.useState([]),[Ti,_i]=K.useState(!1),[Gr,mo]=K.useState(!1),[Xs,Yl]=K.useState(!1),Qs=K.useRef(null),Kl=K.useRef(null),Zs=K.useRef(null),Hr=K.useRef(null),Ei=K.useRef(null),Nt=K.useRef(null);K.useEffect(()=>{const E=localStorage.getItem("user_projects_v1");if(E)try{const A=JSON.parse(E);let M=!1;const I=A.map(Q=>{const ue=Q.scenes.map(ae=>!("videoUrl"in ae)||!("videoStatus"in ae)?(M=!0,{...ae,videoUrl:null,videoStatus:"idle"}):ae);return{...Q,scenes:ue}});M&&(console.log("  : videoUrl, videoStatus  "),s(I))}catch(A){console.error("Migration failed:",A)}},[]),K.useEffect(()=>{try{const E=o.map(A=>({id:A.id,title:A.title,script:A.script,style:A.style,customStyleDescription:A.customStyleDescription,updatedAt:A.updatedAt,characters:A.characters.map(M=>({id:M.id,name:M.name,role:M.role,visualDescription:M.visualDescription,portraitUrl:null,status:"idle"})),scenes:A.scenes.map(M=>({id:M.id,scriptSegment:M.scriptSegment,imagePrompt:M.imagePrompt,imageUrl:null,audioUrl:null,videoUrl:null,status:"idle",audioStatus:"idle",videoStatus:"idle",effect:M.effect}))}));localStorage.setItem("user_projects_v1",JSON.stringify(E))}catch(E){console.error("Project Save Error",E);try{localStorage.removeItem("user_projects_v1")}catch{}}},[o]),K.useEffect(()=>{try{localStorage.setItem("user_saved_styles",JSON.stringify(De))}catch(E){console.error("Style Save Error",E)}},[De]),K.useEffect(()=>{try{localStorage.setItem("user_saved_characters_v2",JSON.stringify(ct))}catch(E){console.error("Character Save Error",E)}},[ct]),K.useEffect(()=>{localStorage.setItem("gemini_model",Hl)},[Hl]),K.useEffect(()=>{localStorage.setItem("gemini_image_model",xn)},[xn]),K.useEffect(()=>{localStorage.setItem("gemini_api_key",Tn),Tn.length>20?Fo(Tn):Vo(!1)},[Tn]),K.useEffect(()=>{localStorage.setItem("audio_provider",Lt),localStorage.setItem("chirp_api_key",Zt),localStorage.setItem("chirp_voice",_n)},[Lt,Zt,_n]),K.useEffect(()=>{localStorage.setItem("el_speed",Re.speed.toString())},[Re.speed]),K.useEffect(()=>{Re.apiKey.length>10?Ws():_i(!1)},[Re.apiKey]),K.useEffect(()=>{let E;const A=()=>{$(M=>{if(M<Y){const I=Y-M,Q=Math.max(.1,I*.05);return Math.min(M+Q,Y)}return M}),E=requestAnimationFrame(A)};return E=requestAnimationFrame(A),()=>cancelAnimationFrame(E)},[Y]),K.useEffect(()=>{localStorage.getItem("currentUser")&&kn(!0)},[]);const ft=K.useMemo(()=>new gA,[]),Fo=async E=>{bt(!0);try{const A=new Ar({apiKey:E}),M=localStorage.getItem("gemini_model")||"gemini-1.5-flash",I=await A.models.generateContent({model:M,contents:"test"});Vo(!!I)}catch(A){console.error("API key validation error:",A),Vo(!1)}finally{bt(!1)}},Ci=()=>{const A=JSON.parse(localStorage.getItem("users")||"[]").find(M=>M.username===ql&&M.password===Oo);A?(localStorage.setItem("currentUser",JSON.stringify(A)),kn(!0),$e(!1),zl(""),Ys(""),alert(" !")):alert("    .")},Ai=()=>{if(!Gn||!Ot||!co){alert("  .");return}const E=JSON.parse(localStorage.getItem("users")||"[]");if(E.find(A=>A.username===Gn)){alert("  .");return}E.push({username:Gn,password:Ot,email:co}),localStorage.setItem("users",JSON.stringify(E)),ro(!1),uo(""),kt(""),Ks(""),alert(" ! .")},$s=()=>{localStorage.removeItem("currentUser"),kn(!1),alert(".")},Ee=K.useCallback(E=>{r&&s(A=>A.map(I=>I.id===r?{...I,...E,updatedAt:Date.now()}:I))},[r]),Ws=async()=>{if(!Re.apiKey){_i(!1);return}try{const E=await fetch("https://api.elevenlabs.io/v1/voices",{headers:{"xi-api-key":Re.apiKey}});if(E.ok){const A=await E.json();Jl(A.voices),_i(!0),localStorage.setItem("el_api_key",Re.apiKey)}else _i(!1)}catch{_i(!1)}},bi=()=>Lt==="elevenlabs"&&!Re.apiKey?(alert(" API ."),En(!0),dt("audio"),!1):!0,An=async()=>{Yl(!0);try{if(Lt==="elevenlabs"){if(!Re.apiKey)throw new Error("API Key required");const E=await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${Re.voiceId}`,{method:"POST",headers:{"Content-Type":"application/json","xi-api-key":Re.apiKey},body:JSON.stringify({text:",  .",model_id:"eleven_multilingual_v2",voice_settings:{stability:.5,similarity_boost:.75,speed:Re.speed}})});if(!E.ok)throw new Error;const A=await E.blob(),M=URL.createObjectURL(A);new Audio(M).play()}else{const E=await ft.generateGoogleTTS(",  .",_n,Zt);new Audio(E).play()}}catch{alert("  .  .")}finally{Yl(!1)}},Xl=E=>{const A=E.target.files?.[0];if(!A||!Nt.current||!f)return;const M=new FileReader;M.onloadend=()=>{const I=M.result;Ee({scenes:f.scenes.map(Q=>Q.id===Nt.current?{...Q,imageUrl:I,status:"done"}:Q)}),Nt.current=null,E.target&&(E.target.value="")},M.readAsDataURL(A)},po=E=>{const A=E.target.files?.[0];if(!A||!Nt.current||!f)return;const M=URL.createObjectURL(A);Ee({scenes:f.scenes.map(I=>I.id===Nt.current?{...I,audioUrl:M,audioStatus:"done"}:I)}),Nt.current=null,E.target&&(E.target.value="")},Pn=E=>{const A=E.target.files?.[0];if(!A||!Ei.current||!f)return;const M=new FileReader;M.onloadend=()=>{const I=M.result;Ee({characters:f.characters.map(Q=>Q.id===Ei.current?{...Q,portraitUrl:I,status:"done"}:Q)}),Ei.current=null,E.target&&(E.target.value="")},M.readAsDataURL(A)},Jo=E=>{const A=Array.from(E.target.files||[]);if(xe.length+A.length>10){alert("     10 .");return}A.forEach(M=>{const I=new FileReader;I.onloadend=()=>{He(Q=>[...Q,I.result])},I.readAsDataURL(M)})},ho=E=>{const A=Array.from(E.target.files||[]);if(At.length+A.length>10){alert("   10 .");return}A.forEach(M=>{const I=new FileReader;I.onloadend=()=>{ji(Q=>[...Q,I.result])},I.readAsDataURL(M)})},js=E=>{const A=Array.from(E.target.files||[]);if(T.length+A.length>7){alert("    7 .");return}A.forEach(M=>{const I=new FileReader;I.onloadend=()=>{_(Q=>[...Q,I.result])},I.readAsDataURL(M)})},Yo=E=>{_(A=>A.filter((M,I)=>I!==E))},Ko=async()=>{if(!Z.trim()){alert("  .");return}if(xe.length===0){alert("  1  .");return}if(De.length>=10){alert("    10  .");return}te({type:"style",message:"    "}),ie(0);const E=setInterval(()=>{ie(A=>Math.min(A+2,90))},200);try{const A=await ft.analyzeStyle(xe);clearInterval(E),ie(100);const M={id:crypto.randomUUID(),name:Z,refImages:xe,description:A};q(I=>[...I,M]),re(""),He([]),setTimeout(()=>{te(null),ie(0)},1500)}catch(A){console.error(A),clearInterval(E),alert("  ."),te(null)}},ea=async()=>{if(T.length===0){alert("  1  .");return}if(De.length>=10){alert("    10  .");return}ot(!0)},xt=async()=>{if(!me.trim()){alert("  .");return}ot(!1),te({type:"style",message:"    "}),ie(0);const E=setInterval(()=>{ie(A=>Math.min(A+2,90))},200);try{const A=await ft.analyzeStyle(T);clearInterval(E),ie(100);const M={id:crypto.randomUUID(),name:me,refImages:T,description:A};q(I=>[...I,M]),ye(""),_([]),setTimeout(()=>{te(null),ie(0),n("dashboard")},1500)}catch(A){console.error(A),clearInterval(E),alert("  ."),te(null)}},Kn=async()=>{if(!mi.trim()){alert("  .");return}if(At.length===0){alert("  1  .");return}if(ct.length>=10){alert("    10  .");return}to(10);try{const E=await ft.analyzeStyle(At);to(80);const A={id:crypto.randomUUID(),name:mi,refImages:At,description:E,portraitUrl:At[0]};return On(M=>[...M,A]),Gl(""),ji([]),to(100),setTimeout(()=>to(null),1e3),A}catch(E){return console.error(E),alert("  ."),to(null),null}},Xo=async()=>{const E=await Kn();E&&alert(`${E.name}   .`)},go=async()=>{if(!g.trim()){alert(" .");return}if(!Tn){alert("Gemini API  ."),En(!0);return}const E=o.find(A=>A.id===r);if(!E){alert(" .");return}if(E.characters.length>0&&E.script===g){n("character_setup"),Ve(!0);return}n("character_setup"),Ve(!0),te({type:"analysis",message:"  ..."}),ie(10);try{let A;const M=De.find(ue=>ue.id===h);M?A=M.description:h==="custom"&&(ie(20),T.length>0?A=await ft.analyzeStyle(T):A="Modern clean digital art style"),ie(50),te({type:"analysis",message:"    ..."});const I=await ft.extractCharacters(g,h==="custom"||M?"custom":h,A);ie(80);const Q={...E,title:I.title,script:g,style:h,customStyleDescription:A,characters:I.characters};Ee(Q),ie(100),te(null),I.characters.forEach(ue=>Pr(ue.id,Q))}catch(A){console.error(A),alert("API : "+(A?.message||" .  .")),te(null),ie(0)}},Pr=async(E,A)=>{const M=A||f;if(!(!M||!r)){s(I=>I.map(Q=>Q.id===M.id?{...Q,characters:Q.characters.map(ue=>ue.id===E?{...ue,status:"loading",portraitUrl:null}:ue)}:Q));try{const I=M.characters.find(ae=>ae.id===E);if(!I)return;let Q=I.visualDescription;M.customStyleDescription&&(Q=`${I.visualDescription}, Art style: ${M.customStyleDescription}`);const ue=await ft.generateImage(Q,!0,xn);s(ae=>ae.map(Te=>Te.id===M.id?{...Te,characters:Te.characters.map(bn=>bn.id===E?{...bn,portraitUrl:ue,status:"done"}:bn)}:Te))}catch{s(I=>I.map(Q=>Q.id===M.id?{...Q,characters:Q.characters.map(ue=>ue.id===E?{...ue,status:"error"}:ue)}:Q))}}},Qo=async(E=!0)=>{if(f){if(!E&&f.scenes?.length>0){n("storyboard");return}te({type:"storyboard",message:"   ..."}),ie(10);try{ie(30);const A=await ft.createStoryboard(f);Ee({scenes:A}),ie(100),setTimeout(()=>{n("storyboard"),te(null),ie(0)},500)}catch(A){console.error(A),te(null),ie(0),alert("    .")}}},Zo=async E=>{if(r){s(A=>A.map(M=>M.id===r?{...M,scenes:M.scenes.map(I=>I.id===E?{...I,status:"loading",imageUrl:null}:I)}:M));try{const A=o.find(ue=>ue.id===r),M=A?.scenes.find(ue=>ue.id===E);if(!M||!A)return;let I=M.imagePrompt;A.customStyleDescription&&(I=`${M.imagePrompt}, Art style: ${A.customStyleDescription}`);const Q=await ft.generateImage(I,!1,xn);s(ue=>ue.map(ae=>ae.id===r?{...ae,scenes:ae.scenes.map(Te=>Te.id===E?{...Te,imageUrl:Q,status:"done"}:Te)}:ae))}catch{s(A=>A.map(M=>M.id===r?{...M,scenes:M.scenes.map(I=>I.id===E?{...I,status:"error"}:I)}:M))}}},vo=async()=>{if(!(!f||!sn||!We.trim()||!r)){s(Fn==="character"?E=>E.map(A=>A.id===r?{...A,characters:A.characters.map(M=>M.id===sn?{...M,status:"loading",portraitUrl:null}:M)}:A):E=>E.map(A=>A.id===r?{...A,scenes:A.scenes.map(M=>M.id===sn?{...M,status:"loading",imageUrl:null}:M)}:A)),lo(!1);try{let E="";Fn==="character"?E=f.characters.find(ue=>ue.id===sn)?.visualDescription||"":E=f.scenes.find(ue=>ue.id===sn)?.imagePrompt||"";const A=await ft.regeneratePrompt(E,We,f),M=Fn==="character";let I=A;f.customStyleDescription&&(I=`${A}, Art style: ${f.customStyleDescription}`);const Q=await ft.generateImage(I,M,xn);s(Fn==="character"?ue=>ue.map(ae=>ae.id===r?{...ae,characters:ae.characters.map(Te=>Te.id===sn?{...Te,visualDescription:A,portraitUrl:Q,status:"done"}:Te)}:ae):ue=>ue.map(ae=>ae.id===r?{...ae,scenes:ae.scenes.map(Te=>Te.id===sn?{...Te,imagePrompt:A,imageUrl:Q,status:"done"}:Te)}:ae)),St("")}catch(E){console.error(E),alert(" ."),s(Fn==="character"?A=>A.map(M=>M.id===r?{...M,characters:M.characters.map(I=>I.id===sn?{...I,status:"error"}:I)}:M):A=>A.map(M=>M.id===r?{...M,scenes:M.scenes.map(I=>I.id===sn?{...I,status:"error"}:I)}:M))}}},yo=(E,A)=>{kr(E),ao(A),Ln(""),vi(!0)},ta=async()=>{if(!(!f||!an||!yi.trim()||!r)){s(so==="character"?E=>E.map(A=>A.id===r?{...A,characters:A.characters.map(M=>M.id===an?{...M,status:"loading",portraitUrl:null}:M)}:A):E=>E.map(A=>A.id===r?{...A,scenes:A.scenes.map(M=>M.id===an?{...M,status:"loading",imageUrl:null}:M)}:A)),vi(!1);try{let E="";so==="character"?E=f.characters.find(ue=>ue.id===an)?.visualDescription||"":E=f.scenes.find(ue=>ue.id===an)?.imagePrompt||"";const A=await ft.regeneratePrompt(E,yi,f),M=so==="character";let I=A;f.customStyleDescription&&(I=`${A}, Art style: ${f.customStyleDescription}`);const Q=await ft.generateImage(I,M,xn);s(so==="character"?ue=>ue.map(ae=>ae.id===r?{...ae,characters:ae.characters.map(Te=>Te.id===an?{...Te,visualDescription:A,portraitUrl:Q,status:"done"}:Te)}:ae):ue=>ue.map(ae=>ae.id===r?{...ae,scenes:ae.scenes.map(Te=>Te.id===an?{...Te,imagePrompt:A,imageUrl:Q,status:"done"}:Te)}:ae)),Ln("")}catch(E){console.error(E),alert(" ."),s(so==="character"?A=>A.map(M=>M.id===r?{...M,characters:M.characters.map(I=>I.id===an?{...I,status:"error"}:I)}:M):A=>A.map(M=>M.id===r?{...M,scenes:M.scenes.map(I=>I.id===an?{...I,status:"error"}:I)}:M))}}},na=E=>{navigator.clipboard.writeText(E).then(()=>{alert(" !")}).catch(()=>{alert(" .")})},ia=async E=>{if(bi()&&f){Ee({scenes:f.scenes.map(A=>A.id===E?{...A,audioStatus:"loading"}:A)});try{const A=f.scenes.find(I=>I.id===E);if(!A)return;let M="";if(Lt==="elevenlabs"){const I=await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${Re.voiceId}`,{method:"POST",headers:{"Content-Type":"application/json","xi-api-key":Re.apiKey},body:JSON.stringify({text:A.scriptSegment,model_id:"eleven_multilingual_v2",voice_settings:{stability:.5,similarity_boost:.75,speed:Re.speed}})});if(!I.ok)throw new Error;const Q=await I.blob();M=URL.createObjectURL(Q)}else M=await ft.generateGoogleTTS(A.scriptSegment,_n,Zt);Ee({scenes:f.scenes.map(I=>I.id===E?{...I,audioUrl:M,audioStatus:"done"}:I)})}catch{Ee({scenes:f.scenes.map(A=>A.id===E?{...A,audioStatus:"error"}:A)})}}},Vr=async()=>{if(!f)return;const E=f.scenes.filter(A=>!A.imageUrl);try{await Promise.all(E.map(A=>Zo(A.id)))}catch(A){console.error("Batch image generation failed:",A),alert("     .")}},Ql=async()=>{if(bi()&&f){he(!0),H("   ..."),j(0);try{for(let E=0;E<f.scenes.length;E++){const A=f.scenes[E];A.audioUrl||(j(Math.round(E/f.scenes.length*100)),await ia(A.id))}j(100)}catch(E){console.error(E)}finally{he(!1)}}},qr=async E=>{if(!f)return;const A=f.scenes.find(M=>M.id===E);if(!A||!A.imageUrl){alert("  !");return}Ee({scenes:f.scenes.map(M=>M.id===E?{...M,videoStatus:"loading"}:M)});try{const M=f.characters.length>0?f.characters[0].visualDescription:"",I=await jc(A.imageUrl,A.imagePrompt,A.scriptSegment,M),Q=URL.createObjectURL(I);Ee({scenes:f.scenes.map(ue=>ue.id===E?{...ue,videoUrl:Q,videoStatus:"done"}:ue)})}catch(M){console.error("Video generation failed:",M),Ee({scenes:f.scenes.map(I=>I.id===E?{...I,videoStatus:"error"}:I)}),alert("  .")}},zr=async()=>{if(!f)return;const E=f.scenes.filter(M=>M.imageUrl&&!M.videoUrl);if(E.length===0){alert("  !");return}const A=E.slice(0,5);he(!0),H(`   (${A.length})...`),Ee({scenes:f.scenes.map(M=>A.some(I=>I.id===M.id)?{...M,videoStatus:"loading"}:M)});try{const M=f.characters.length>0?f.characters[0].visualDescription:"";for(let I=0;I<A.length;I++){const Q=A[I];H(`   (${I+1}/${A.length})...`);try{const ue=await jc(Q.imageUrl,Q.imagePrompt,Q.scriptSegment,M),ae=URL.createObjectURL(ue);Ee({scenes:f.scenes.map(Te=>Te.id===Q.id?{...Te,videoUrl:ae,videoStatus:"done"}:Te)})}catch(ue){console.error(`Video generation failed for scene ${I+1}:`,ue),Ee({scenes:f.scenes.map(ae=>ae.id===Q.id?{...ae,videoStatus:"error"}:ae)})}}alert(`${A.length}   !`)}catch(M){console.error("Batch video generation failed:",M),alert("   ."),he(!1)}},Br=(E,A)=>{const M=document.createElement("a");M.href=E,M.download=A,document.body.appendChild(M),M.click(),document.body.removeChild(M)},Or=E=>{const A=E.split(/([.?!,])\s*/).filter(I=>I&&I.trim().length>0),M=[];for(let I=0;I<A.length;I+=2){let Q=A[I]+(A[I+1]||"");if(Q=Q.trim(),Q.length>25){const ue=Q.split(" ");let ae="";ue.forEach(Te=>{(ae+Te).length>25?(M.push(ae.trim()),ae=Te+" "):ae+=Te+" "}),ae.trim()&&M.push(ae.trim())}else Q&&M.push(Q)}return M.length>0?M:[E]},Fr=async()=>{if(!f)return;if(f.scenes.some(A=>!A.imageUrl||!A.audioUrl)){alert("     .");return}te({type:"video",message:"LTX   ..."}),ie(0);try{const A=f.characters.length>0?f.characters[0].visualDescription:"",M=[];for(let _e=0;_e<f.scenes.length;_e++){const Mt=f.scenes[_e];console.log(`[DEBUG] Scene ${_e+1}/${f.scenes.length} - Starting LTX generation`),console.log("[DEBUG] Image URL:",Mt.imageUrl?.substring(0,50)),console.log("[DEBUG] Dialogue:",Mt.scriptSegment?.substring(0,50)),te({type:"video",message:`LTX    (${_e+1}/${f.scenes.length})...`}),ie(Math.round(_e/f.scenes.length*50));const Gt=await jc(Mt.imageUrl,Mt.imagePrompt,Mt.scriptSegment,A);console.log(`[DEBUG] Scene ${_e+1} - Video blob size:`,(Gt.size/1024/1024).toFixed(2),"MB"),M.push(Gt)}console.log("[DEBUG] Total videos generated:",M.length),te({type:"video",message:"   ..."}),ie(50);const I=document.createElement("canvas");I.width=1920,I.height=1080;const Q=I.getContext("2d"),ue=I.captureStream(60),ae=new AudioContext,Te=ae.createMediaStreamDestination(),bn=new MediaRecorder(new MediaStream([...ue.getVideoTracks(),...Te.stream.getAudioTracks()]),{mimeType:"video/webm",videoBitsPerSecond:2e7}),Ni=[];bn.ondataavailable=_e=>Ni.push(_e.data),bn.start();const Xn=(_e,Mt,Gt,ht,Nn,rn)=>{const un=Mt.split(" ");let Ht="";const Ft=[];for(let gt=0;gt<un.length;gt++){const wt=Ht+un[gt]+" ";_e.measureText(wt).width>Nn&&gt>0?(Ft.push(Ht),Ht=un[gt]+" "):Ht=wt}Ft.push(Ht);const Pt=40,mt=Ft.length*rn+Pt*2,je=Math.min(Nn+100,I.width-100),Rt=I.height-100-mt;_e.fillStyle="black",_e.fillRect(I.width/2-je/2,Rt,je,mt),_e.fillStyle="white",_e.textAlign="center",_e.textBaseline="middle",Ft.forEach((gt,wt)=>{_e.fillText(gt,Gt,Rt+Pt+wt*rn+rn/2)})},jo=_e=>_e<.5?4*_e*_e*_e:1-Math.pow(-2*_e+2,3)/2,Mi=(_e,Mt,Gt,ht)=>{const Nn=jo(Mt);if(!_e)return{scale:1+Nn*.15,offsetX:0,offsetY:0};const{effect_type:rn,motion_params:un}=_e,Ht=un?.scale||1.2,Ft=un?.direction||"center",Pt=un?.speed||"medium";let mt=Nn;Pt==="slow"?mt=Nn:Pt==="fast"&&(mt=Math.min(Nn*2,1));let je=1,Rt=0,gt=0;const wt=Gt*.1;switch(rn){case"3d_parallax":je=1+mt*(Ht-1)*1.2,Ft==="left"?Rt=mt*wt*.5:Ft==="right"&&(Rt=-mt*wt*.5),gt=mt*(ht*.02);break;case"zoom_in_slow":case"zoom_in_fast":je=1+mt*(Ht-1);break;case"zoom_out_slow":je=Ht-mt*(Ht-1);break;case"pan_left":je=1.05,Rt=mt*wt;break;case"pan_right":je=1.05,Rt=-mt*wt;break;case"static_subtle":je=1+mt*.05;break;default:je=1+mt*.15}return{scale:je,offsetX:Rt,offsetY:gt}};for(let _e=0;_e<f.scenes.length;_e++){const Mt=f.scenes[_e],Gt=M[_e],ht=document.createElement("video");ht.crossOrigin="anonymous",ht.muted=!0,ht.playsInline=!0;const Nn=URL.createObjectURL(Gt);ht.src=Nn,await new Promise((je,Rt)=>{ht.onloadeddata=()=>{console.log("[DEBUG] Video loaded successfully"),je(null)},ht.onerror=gt=>{console.error("[DEBUG] Video load error:",gt,ht.error),Rt(gt)},ht.load()}),await ht.play();const rn=new Audio(Mt.audioUrl);await new Promise(je=>rn.oncanplaythrough=je);const un=rn.duration,Ht=ae.currentTime;ae.createMediaElementSource(rn).connect(Te),rn.play();const Pt=Or(Mt.scriptSegment);console.log(`Scene ${_e+1} effect:`,Mt.effect),await new Promise(je=>{const Rt=()=>{const gt=ae.currentTime-Ht,wt=Math.min(gt/un,1);Q.clearRect(0,0,I.width,I.height);const So=I.width,Zl=I.height;Q.drawImage(ht,0,0,So,Zl);const Wr=Math.min(Math.floor(wt*Pt.length),Pt.length-1),ua=Pt[Wr];ua&&(Q.font="bold 60px Pretendard",Xn(Q,ua,I.width/2,0,1400,80)),wt<1?requestAnimationFrame(Rt):je()};requestAnimationFrame(Rt)}),ht.pause(),ht.src="",URL.revokeObjectURL(ht.src);const mt=50+Math.round((_e+1)/f.scenes.length*50);ie(mt)}bn.stop(),await new Promise(_e=>bn.onstop=_e);const aa=new Blob(Ni,{type:"video/mp4"}),ra=URL.createObjectURL(aa);Br(ra,`${f.title}.mp4`),te(null),ie(0),alert("  .")}catch(A){console.error("Export failed:",A),te(null),ie(0),alert(`    : ${A}`)}},oa=async()=>{if(!(!f||!lt.name.trim()||!lt.traits.trim())){U(!0),H(`${lt.name}  ...`);try{const E=`${lt.gender}, ${lt.age}, ${lt.traits}`,A=await ft.generateImage(E,!0,xn),M={id:crypto.randomUUID(),name:lt.name,role:" ",visualDescription:E,portraitUrl:A,status:"done"};Ee({characters:[...f.characters,M]}),pi(!1),hi({name:"",gender:"",age:"",traits:""})}catch(E){console.error(E),alert("  .")}finally{U(!1)}}},Jr=()=>{if(!f)return;const E={id:crypto.randomUUID(),scriptSegment:"  ",imagePrompt:"new scene prompt",imageUrl:null,audioUrl:null,videoUrl:null,status:"idle",audioStatus:"idle",videoStatus:"idle"};Ee({scenes:[...f.scenes,E]})},la=E=>{f&&Ee({scenes:f.scenes.filter(A=>A.id!==E)})},Yr=E=>{f&&Ee({scenes:f.scenes.map(A=>A.id===E?{...A,imageUrl:null,status:"idle"}:A)})},Kr=async()=>{if(!f||Cn.length<2)return;const E=f.scenes.filter(I=>Cn.includes(I.id)).sort((I,Q)=>f.scenes.indexOf(I)-f.scenes.indexOf(Q)),A=E.map(I=>I.scriptSegment).join(" "),M=f.scenes.findIndex(I=>I.id===E[0].id);te({type:"storyboard",message:"     ..."}),ie(30);try{const Q=`Generate a detailed image generation prompt for this scene.

Characters:
${f.characters.map(Mi=>`- ${Mi.name}: ${Mi.visualDescription}`).join(`
`)}

Style: ${f.customStyleDescription||f.style}

Scene dialogue:
${A}

Generate a detailed English prompt for image generation including scene composition, character positions, background, lighting, mood. Return ONLY the prompt text, no explanation.`,ue=localStorage.getItem("gemini_api_key")||"",ae=localStorage.getItem("gemini_model")||"gemini-1.5-flash",Ni=(await new Ar({apiKey:ue}).models.generateContent({model:ae,contents:Q})).text||A,Xn={id:crypto.randomUUID(),scriptSegment:A,imagePrompt:Ni,imageUrl:null,audioUrl:null,videoUrl:null,status:"idle",audioStatus:"idle",videoStatus:"idle",effect:E[0].effect},jo=f.scenes.filter(Mi=>!Cn.includes(Mi.id));jo.splice(M,0,Xn),Ee({scenes:jo}),Ol([]),Bl(!1),te(null),ie(0)}catch(I){console.error("Merge failed:",I),te(null),ie(0),alert("  .")}},$o=()=>{const E=crypto.randomUUID(),A={id:E,title:"  "+(o.length+1),script:"",style:"2d-animation",characters:[],scenes:[],updatedAt:Date.now()};s(M=>[A,...M]),d(E),v(""),y("2d-animation"),_([]),n("input"),Ve(!1)},Xr=(E,A)=>{A.stopPropagation(),A.preventDefault(),window.confirm("   ?")&&(s(M=>{const I=M.filter(Q=>Q.id!==E);try{localStorage.setItem("user_projects_v1",JSON.stringify(I))}catch(Q){console.error("Storage sync failed during delete",Q)}return I}),r===E&&(d(null),n("dashboard")))},Qr=()=>{n(i==="storyboard"?"character_setup":i==="character_setup"?"input":"dashboard")},Wo=De.find(E=>E.id===h),sa=E=>{if(E==="2d-animation")return"2D ";if(E==="realistic")return"";if(E==="animation")return"3D ";if(E==="custom")return"";const A=De.find(M=>M.id===E);return A?A.name:E};return S.jsxs("div",{className:"min-h-screen bg-[#FDFDFD] text-slate-800 font-sans selection:bg-indigo-100 pb-20 transition-colors duration-500",children:[S.jsx("input",{type:"file",className:"hidden",ref:Qs,accept:"image/*",onChange:Xl}),S.jsx("input",{type:"file",className:"hidden",ref:Kl,accept:"audio/*",onChange:po}),S.jsx("input",{type:"file",className:"hidden",ref:Zs,accept:"image/*",multiple:!0,onChange:js}),S.jsx("input",{type:"file",className:"hidden",ref:Ye,accept:"image/*",multiple:!0,onChange:Jo}),S.jsx("input",{type:"file",className:"hidden",ref:Ho,accept:"image/*",multiple:!0,onChange:ho}),S.jsx("input",{type:"file",className:"hidden",ref:Hr,accept:"image/*",onChange:Pn}),S.jsx("div",{className:"fixed top-4 right-4 sm:top-8 sm:right-8 z-[205]",children:S.jsxs("button",{onClick:()=>En(!0),className:"w-12 h-12 sm:w-14 sm:h-14 bg-white shadow-xl rounded-full flex items-center justify-center text-slate-400 hover:text-indigo-600 hover:scale-105 transition-all group relative border border-slate-100",children:[S.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),S.jsx("div",{className:"absolute top-full mt-2 px-3 py-1.5 bg-slate-900 text-white text-[10px] font-semibold rounded-lg opacity-0 group-hover:opacity-100 invisible group-hover:visible transition-all whitespace-nowrap",children:" "})]})}),i!=="dashboard"&&S.jsx("div",{className:"fixed top-4 left-4 sm:top-8 sm:left-8 z-[205]",children:S.jsxs("button",{onClick:Qr,className:"w-12 h-12 sm:w-14 sm:h-14 bg-white shadow-xl rounded-full flex items-center justify-center text-slate-400 hover:text-indigo-600 transition-all border border-slate-100 group relative",children:[S.jsx("svg",{className:"w-6 h-6 sm:w-7 sm:h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M15 19l-7-7 7-7"})}),S.jsx("div",{className:"absolute top-full mt-2 px-3 py-1.5 bg-slate-900 text-white text-[10px] font-semibold rounded-lg opacity-0 group-hover:opacity-100 invisible group-hover:visible transition-all whitespace-nowrap",children:" "})]})}),i==="dashboard"&&S.jsxs("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-10 py-10 sm:py-20 animate-in fade-in",children:[S.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-end mb-10 sm:mb-16 gap-6",children:[S.jsxs("div",{className:"space-y-2 sm:space-y-4",children:[S.jsx("h1",{className:"text-3xl sm:text-4xl font-semibold text-slate-900",children:" "}),S.jsx("p",{className:"text-slate-400 font-medium text-sm sm:text-base",children:"   "})]}),S.jsxs("button",{onClick:$o,className:"w-full sm:w-auto bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-4 rounded-2xl font-semibold shadow-lg shadow-indigo-100 flex items-center justify-center gap-2 transition-all active:scale-95",children:[S.jsx("span",{className:"text-xl",children:"+"}),"   "]})]}),o.length===0?S.jsxs("div",{className:"bg-white border border-slate-100 rounded-[32px] sm:rounded-[40px] py-20 sm:py-40 flex flex-col items-center justify-center space-y-8 shadow-sm",children:[S.jsx("button",{onClick:$o,className:"w-20 h-20 sm:w-24 sm:h-24 bg-slate-50 rounded-full flex items-center justify-center text-4xl sm:text-5xl text-slate-300 hover:text-indigo-600 hover:bg-indigo-50 border-2 border-dashed border-slate-200 transition-all active:scale-90",children:"+"}),S.jsx("p",{className:"text-slate-400 font-semibold text-lg sm:text-xl px-6 text-center",children:"   "})]}):S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-10",children:o.map(E=>S.jsxs("div",{onClick:()=>{d(E.id),v(E.script),y(E.style),n(E.scenes.length>0?"storyboard":"input")},className:"bg-white border border-slate-100 p-6 sm:p-10 rounded-[36px] sm:rounded-[48px] group hover:border-indigo-400 hover:shadow-2xl transition-all cursor-pointer relative overflow-hidden flex flex-col justify-between min-h-[300px] sm:min-h-[350px] shadow-sm",children:[S.jsx("button",{onClick:A=>Xr(E.id,A),className:"absolute top-4 right-4 z-20 w-8 h-8 flex items-center justify-center bg-black/10 hover:bg-red-500 text-white rounded-full sm:opacity-0 sm:group-hover:opacity-100 transition-all backdrop-blur-sm",children:S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M6 18L18 6M6 6l12 12"})})}),S.jsxs("div",{className:"space-y-3",children:[S.jsx("div",{className:"flex justify-between items-start",children:S.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-slate-900 line-clamp-1 flex-1 pr-8",children:E.title})}),S.jsxs("p",{className:"text-slate-400 text-xs sm:text-sm font-medium",children:[" : ",new Date(E.updatedAt).toLocaleDateString()]})]}),S.jsxs("div",{className:"flex -space-x-3 sm:-space-x-4 mb-4 sm:mb-6",children:[E.characters.slice(0,5).map((A,M)=>S.jsx("div",{className:"w-10 h-10 sm:w-14 sm:h-14 rounded-full border-4 border-white bg-slate-100 overflow-hidden shadow-md",children:A.portraitUrl&&S.jsx("img",{src:A.portraitUrl,className:"w-full h-full object-cover"})},M)),E.characters.length>5&&S.jsxs("div",{className:"w-10 h-10 sm:w-14 sm:h-14 rounded-full border-4 border-white bg-indigo-50 flex items-center justify-center text-[10px] sm:text-xs font-semibold text-indigo-600 shadow-md",children:["+",E.characters.length-5]})]}),S.jsxs("div",{className:"flex flex-wrap items-center gap-2 gap-3",children:[S.jsxs("span",{className:"px-3 py-1 sm:px-4 sm:py-2 bg-slate-50 border border-slate-100 rounded-lg sm:rounded-xl text-[9px] sm:text-[10px] font-semibold uppercase text-slate-500",children:[" ",E.scenes.length,""]}),S.jsx("span",{className:"px-3 py-1 sm:px-4 sm:py-2 bg-indigo-50 border border-indigo-100 rounded-lg sm:rounded-xl text-[9px] sm:text-[10px] font-semibold uppercase text-indigo-600",children:sa(E.style)})]})]},E.id))})]}),i!=="dashboard"&&S.jsxs("div",{className:"max-w-[1700px] mx-auto px-4 sm:px-10 py-6 sm:py-10",children:[i==="character_setup"&&S.jsx("div",{className:"w-full px-6 pt-6",children:O?S.jsxs("div",{className:"text-center py-20",children:[S.jsx("div",{className:"w-10 h-10 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),S.jsx("p",{className:"text-slate-500",children:O.message}),S.jsxs("p",{className:"text-indigo-600 font-semibold mt-2",children:[W,"%"]})]}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"bg-white rounded-[24px] shadow-xl p-6 sm:p-8 py-12 sm:py-16 mb-8",children:S.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[S.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-900",children:"  "}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx("button",{onClick:()=>Bo(!0),className:"px-6 py-3 bg-white border border-slate-200 text-slate-600 rounded-xl text-base font-medium hover:bg-slate-50 transition-all",children:" "}),S.jsx("button",{onClick:()=>Qo(!0),disabled:O!==null,className:"px-6 py-3 bg-indigo-600 text-white rounded-xl text-base font-medium shadow-lg hover:bg-indigo-700 transition-all disabled:opacity-50",children:" "}),f&&f.scenes.length>0&&S.jsx("button",{onClick:()=>Qo(!1),className:"px-6 py-3 bg-white border border-slate-200 text-slate-600 rounded-xl text-base font-medium hover:bg-slate-50 transition-all",children:"  "})]})]})}),S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(f?.characters||[]).map(E=>{const A=ct.some(M=>M.id===E.id);return S.jsxs("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm hover:shadow-xl transition-all p-6 flex gap-6 items-start relative group/card",children:[S.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 items-center opacity-0 group-hover/card:opacity-100 transition-all z-10",children:[S.jsxs("button",{onClick:M=>{if(M.stopPropagation(),A)On(ct.filter(I=>I.id!==E.id));else{if(ct.length>=10){alert(" 10  .");return}On([...ct,{id:E.id,name:E.name,refImages:[],description:E.visualDescription,portraitUrl:E.portraitUrl}])}},className:`p-1.5 border rounded-lg transition-all flex items-center gap-1 ${A?"bg-indigo-50 border-indigo-200 text-indigo-600":"bg-white border-slate-200 text-slate-500 hover:text-indigo-600 hover:border-indigo-300"}`,title:A?" ( )":"",children:[S.jsx("svg",{className:"w-4 h-4",fill:A?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),A&&S.jsx("span",{className:"text-xs font-medium",children:""})]}),S.jsx("button",{onClick:()=>Ee({characters:f.characters.filter(M=>M.id!==E.id)}),className:"p-1.5 bg-white border border-slate-200 rounded-lg text-slate-500 hover:text-red-500 hover:border-red-300 transition-all",title:"",children:S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]}),S.jsxs("div",{className:"w-48 h-48 sm:w-56 sm:h-56 rounded-2xl overflow-hidden bg-slate-100 flex-shrink-0 relative group/portrait cursor-pointer flex items-center justify-center",onClick:()=>E.portraitUrl&&Me(E.portraitUrl),children:[E.status==="loading"&&S.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-slate-100 z-10",children:S.jsx("div",{className:"w-8 h-8 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"})}),E.portraitUrl?S.jsx("img",{src:E.portraitUrl,className:"w-full h-full object-cover hover:scale-105 transition-transform"}):E.status!=="loading"&&S.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300",children:S.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),E.portraitUrl&&S.jsx("button",{onClick:M=>{M.stopPropagation(),Ee({characters:f.characters.map(I=>I.id===E.id?{...I,portraitUrl:null,status:"idle"}:I)})},className:"absolute top-2 right-2 z-30 w-7 h-7 bg-red-500 rounded-full flex items-center justify-center text-white opacity-0 group-hover/portrait:opacity-100 transition-all hover:bg-red-600",title:" ",children:S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),S.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover/portrait:opacity-100 transition-all flex items-center justify-center gap-2 z-20",children:[S.jsxs("label",{className:"p-2 bg-white rounded-full text-slate-600 hover:bg-slate-100 transition-all cursor-pointer",onClick:M=>M.stopPropagation(),children:[S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),S.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:M=>{M.stopPropagation();const I=M.target.files?.[0];if(I){const Q=new FileReader;Q.onload=ue=>{Ee({characters:f.characters.map(ae=>ae.id===E.id?{...ae,portraitUrl:ue.target?.result,status:"done"}:ae)})},Q.readAsDataURL(I)}}})]}),S.jsx("button",{onClick:M=>{M.stopPropagation(),yo("character",E.id)},className:"p-2 bg-white rounded-full text-indigo-600 hover:bg-indigo-50 transition-all",children:S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),S.jsx("button",{onClick:M=>{if(M.stopPropagation(),E.portraitUrl){const I=document.createElement("a");I.href=E.portraitUrl,I.download=`${E.name}.png`,I.click()}},className:"p-2 bg-white rounded-full text-slate-600 hover:bg-slate-100 transition-all",children:S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]})]}),S.jsxs("div",{className:"flex-1 min-w-0 flex flex-col h-48 sm:h-56",children:[S.jsx("input",{type:"text",value:E.name,onChange:M=>Ee({characters:f.characters.map(I=>I.id===E.id?{...I,name:M.target.value}:I)}),className:"font-bold text-slate-900 text-2xl sm:text-3xl mb-3 bg-transparent border-none focus:outline-none focus:ring-2 focus:ring-indigo-200 rounded-lg px-2 py-1 flex-shrink-0",placeholder:" ..."}),S.jsxs("div",{className:"relative flex-1",children:[S.jsx("textarea",{value:E.visualDescription||"",onChange:M=>Ee({characters:f.characters.map(I=>I.id===E.id?{...I,visualDescription:M.target.value}:I)}),className:"text-sm text-gray-500 leading-relaxed bg-slate-50 rounded-lg p-3 pr-10 border-none resize-none focus:outline-none focus:ring-2 focus:ring-indigo-200 w-full h-full",placeholder:"   ..."}),S.jsx("button",{onClick:()=>na(E.visualDescription),className:"absolute top-3 right-3 p-1.5 text-slate-400 hover:text-indigo-600 transition-all",title:" ",children:S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]})]},E.id)}),S.jsxs("button",{onClick:()=>pi(!0),className:"bg-slate-50 rounded-3xl border-2 border-dashed border-slate-300 hover:border-indigo-400 hover:bg-indigo-50/50 transition-all p-6 flex gap-6 items-center min-h-[240px]",children:[S.jsx("div",{className:"w-48 h-48 sm:w-56 sm:h-56 rounded-2xl bg-slate-100 flex items-center justify-center flex-shrink-0 group-hover:bg-indigo-100 transition-all",children:S.jsx("span",{className:"text-7xl text-slate-300",children:"+"})}),S.jsx("div",{className:"flex-1",children:S.jsx("span",{className:"text-lg font-medium text-slate-400",children:" "})})]})]})]})}),i==="storyboard"&&S.jsx("div",{className:"w-full px-4 sm:px-8 pt-6",children:f?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-100 p-8 sm:p-10 mb-8",children:S.jsxs("div",{className:"flex flex-col gap-6",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-5",children:[S.jsx("div",{className:"flex items-center gap-3",children:S.jsx("input",{type:"text",value:f.title,onChange:E=>Ee({title:E.target.value}),className:"text-2xl sm:text-3xl font-bold text-slate-900 bg-transparent border-none focus:outline-none w-auto min-w-[250px]"})}),S.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[S.jsx("button",{onClick:Vr,disabled:oe,className:"px-6 py-3 bg-indigo-600 text-white rounded-xl text-base font-medium hover:bg-indigo-700 transition-all disabled:opacity-50",children:"  "}),S.jsx("button",{onClick:Ql,disabled:oe,className:"px-6 py-3 bg-slate-100 text-slate-700 rounded-xl text-base font-medium hover:bg-slate-200 transition-all disabled:opacity-50",children:"  "}),S.jsx("button",{onClick:zr,disabled:oe||!f.scenes.some(E=>E.imageUrl&&!E.videoUrl),className:"px-6 py-3 bg-green-600 text-white rounded-xl text-base font-medium hover:bg-green-700 transition-all disabled:opacity-50",children:"  ( 5)"}),S.jsx("button",{onClick:Fr,disabled:f.scenes.some(E=>!E.imageUrl||!E.audioUrl),className:"px-6 py-3 bg-slate-900 text-white rounded-xl text-base font-medium hover:bg-slate-800 transition-all disabled:opacity-50",children:" "})]})]}),f.characters.length>0&&S.jsx("div",{className:"flex items-center gap-4 overflow-x-auto pb-2",children:f.characters.map(E=>S.jsxs("div",{className:"flex flex-col items-center gap-2 flex-shrink-0 cursor-pointer group",onClick:()=>E.portraitUrl&&Me(E.portraitUrl),children:[S.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-slate-100 overflow-hidden border-3 border-slate-200 shadow-md hover:shadow-xl hover:scale-105 transition-all",children:E.portraitUrl?S.jsx("img",{src:E.portraitUrl,className:"w-full h-full object-cover"}):S.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300",children:S.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),S.jsx("span",{className:"text-xs font-medium text-slate-600 group-hover:text-indigo-600 transition-colors text-center max-w-[80px] truncate",children:E.name})]},E.id))})]})}),S.jsxs("div",{className:"mb-4 flex justify-end gap-3",children:[Cn.length>=2&&S.jsx("button",{onClick:Kr,className:"px-4 py-2 bg-green-600 text-white rounded-xl text-sm font-medium hover:bg-green-700 transition-all",children:""}),S.jsx("button",{onClick:()=>{Bl(!Hn),Hn&&Ol([])},className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${Hn?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:Hn?"":""}),S.jsxs("div",{className:"relative group/download",children:[S.jsxs("button",{className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-xl text-sm font-medium hover:bg-slate-200 transition-all flex items-center gap-1",children:[" ",S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),S.jsxs("div",{className:"absolute top-full right-0 mt-2 bg-white border border-slate-100 rounded-2xl shadow-xl py-2 min-w-[200px] opacity-0 invisible group-hover/download:opacity-100 group-hover/download:visible transition-all z-50",children:[S.jsx("button",{onClick:()=>{f.scenes.forEach((E,A)=>{if(E.imageUrl){const M=document.createElement("a");M.href=E.imageUrl,M.download=`scene-${A+1}.png`,M.click()}})},className:"w-full px-4 py-2.5 text-left text-sm text-slate-600 hover:bg-slate-50 transition-all",children:"  "}),S.jsx("button",{onClick:()=>{f.scenes.forEach((E,A)=>{if(E.audioUrl){const M=document.createElement("a");M.href=E.audioUrl,M.download=`audio-${A+1}.mp3`,M.click()}})},className:"w-full px-4 py-2.5 text-left text-sm text-slate-600 hover:bg-slate-50 transition-all",children:"  "})]})]})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-5",children:[f.scenes.map((E,A)=>S.jsxs("div",{className:`bg-white rounded-3xl shadow-sm border overflow-hidden hover:shadow-md transition-all group/card ${Hn&&Cn.includes(E.id)?"border-indigo-600 ring-2 ring-indigo-200":"border-slate-100 hover:border-slate-200"}`,children:[S.jsxs("div",{className:"aspect-video bg-slate-50 relative group/img",children:[S.jsxs("div",{className:"absolute top-3 left-3 z-10 px-2.5 py-1 bg-slate-900/70 backdrop-blur-sm rounded-lg flex items-center justify-center text-white text-xs font-semibold",children:["#",A+1]}),Hn&&S.jsx("div",{className:"absolute top-3 left-14 z-10",children:S.jsx("input",{type:"checkbox",checked:Cn.includes(E.id),onChange:()=>{Ol(M=>M.includes(E.id)?M.filter(I=>I!==E.id):[...M,E.id])},className:"w-5 h-5 rounded border-2 border-white cursor-pointer"})}),S.jsxs("div",{className:"absolute top-3 right-3 z-30 flex gap-1.5 opacity-0 group-hover/card:opacity-100 transition-all",children:[S.jsxs("label",{className:"w-7 h-7 bg-white/90 backdrop-blur-sm rounded-lg flex items-center justify-center text-slate-500 hover:text-indigo-600 transition-all cursor-pointer shadow-sm",children:[S.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),S.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:M=>{const I=M.target.files?.[0];if(I){const Q=new FileReader;Q.onload=ue=>{Ee({scenes:f.scenes.map(ae=>ae.id===E.id?{...ae,imageUrl:ue.target?.result,status:"done"}:ae)})},Q.readAsDataURL(I)}}})]}),E.imageUrl?S.jsxs("div",{className:"relative group/delete",children:[S.jsx("button",{className:"w-7 h-7 bg-white/90 backdrop-blur-sm rounded-lg flex items-center justify-center text-slate-500 hover:text-red-500 transition-all shadow-sm",children:S.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),S.jsxs("div",{className:"absolute top-full right-0 mt-1 bg-white rounded-lg shadow-xl py-1 min-w-[140px] opacity-0 invisible group-hover/delete:opacity-100 group-hover/delete:visible transition-all z-50",children:[S.jsx("button",{onClick:()=>Yr(E.id),className:"w-full px-3 py-2 text-left text-xs text-slate-600 hover:bg-slate-50 transition-all",children:" "}),S.jsx("button",{onClick:()=>la(E.id),className:"w-full px-3 py-2 text-left text-xs text-red-500 hover:bg-red-50 transition-all",children:" "})]})]}):S.jsx("button",{onClick:()=>la(E.id),className:"w-7 h-7 bg-white/90 backdrop-blur-sm rounded-lg flex items-center justify-center text-slate-500 hover:text-red-500 transition-all shadow-sm",children:S.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),E.status==="loading"&&S.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/60 backdrop-blur-sm z-20",children:S.jsx("div",{className:"w-8 h-8 border-3 border-indigo-600 border-t-transparent rounded-full animate-spin"})}),E.imageUrl?S.jsxs(S.Fragment,{children:[S.jsx("img",{src:E.imageUrl,className:"w-full h-full object-cover cursor-pointer",onClick:()=>Me(E.imageUrl)}),S.jsxs("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover/img:opacity-100 transition-all flex items-center justify-center gap-3 z-10 cursor-pointer",onClick:()=>Me(E.imageUrl),children:[S.jsx("button",{onClick:M=>{M.stopPropagation(),yo("scene",E.id)},className:"w-10 h-10 bg-white/95 backdrop-blur-sm rounded-xl flex items-center justify-center text-indigo-600 hover:bg-white transition-all shadow-lg",title:"",children:S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),S.jsx("button",{onClick:M=>{if(M.stopPropagation(),E.imageUrl){const I=document.createElement("a");I.href=E.imageUrl,I.download=`scene-${A+1}.png`,I.click()}},className:"w-10 h-10 bg-white/95 backdrop-blur-sm rounded-xl flex items-center justify-center text-slate-600 hover:bg-white transition-all shadow-lg",title:"",children:S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})]})]}):S.jsx("div",{className:"w-full h-full flex items-center justify-center",children:S.jsx("button",{onClick:()=>Zo(E.id),disabled:E.status==="loading",className:"px-5 py-2.5 bg-indigo-600 text-white text-sm font-medium rounded-xl hover:bg-indigo-700 disabled:opacity-50 transition-all shadow-lg",children:" "})})]}),S.jsxs("div",{className:"p-4 space-y-3",children:[S.jsxs("div",{children:[S.jsx("p",{className:"text-[10px] text-slate-400 font-medium mb-1.5 uppercase tracking-wide",children:"Scene "}),S.jsx("textarea",{value:E.scriptSegment,onChange:M=>Ee({scenes:f.scenes.map(I=>I.id===E.id?{...I,scriptSegment:M.target.value}:I)}),className:"w-full text-base font-semibold text-slate-800 leading-relaxed bg-transparent border-none resize-none focus:outline-none min-h-[52px] placeholder:text-slate-300",placeholder:" ..."})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[E.audioUrl?S.jsx("audio",{src:E.audioUrl,controls:!0,className:"flex-1 h-9 rounded-xl"}):S.jsxs("button",{onClick:()=>ia(E.id),disabled:E.audioStatus==="loading",className:"flex-1 py-2.5 bg-indigo-50 text-indigo-600 text-xs font-semibold rounded-xl hover:bg-indigo-100 transition-all disabled:opacity-50 flex items-center justify-center gap-1.5",children:[E.audioStatus==="loading"?S.jsx("div",{className:"w-3.5 h-3.5 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"}):S.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})})," "]}),S.jsxs("label",{className:"w-9 h-9 bg-slate-100 rounded-xl flex items-center justify-center text-slate-400 hover:text-slate-600 hover:bg-slate-200 transition-all cursor-pointer flex-shrink-0",children:[S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),S.jsx("input",{type:"file",className:"hidden",accept:"audio/*",onChange:M=>{const I=M.target.files?.[0];if(I){const Q=URL.createObjectURL(I);Ee({scenes:f.scenes.map(ue=>ue.id===E.id?{...ue,audioUrl:Q,audioStatus:"done"}:ue)})}}})]})]}),S.jsx("div",{className:"flex items-center gap-2",children:E.videoUrl?S.jsxs("div",{className:"flex-1 flex items-center gap-2 px-3 py-2 bg-green-50 rounded-xl",children:[S.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),S.jsx("span",{className:"text-xs font-medium text-green-600",children:"  (720p)"})]}):S.jsxs("button",{onClick:()=>qr(E.id),disabled:!E.imageUrl||E.videoStatus==="loading",className:"flex-1 py-2.5 bg-green-50 text-green-600 text-xs font-semibold rounded-xl hover:bg-green-100 transition-all disabled:opacity-50 flex items-center justify-center gap-1.5",children:[E.videoStatus==="loading"?S.jsx("div",{className:"w-3.5 h-3.5 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}):S.jsxs("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})," "]})}),S.jsxs("details",{className:"group/prompt",children:[S.jsxs("summary",{className:"flex items-center justify-between cursor-pointer text-[10px] text-slate-400 font-medium uppercase tracking-wide py-1",children:[S.jsx("span",{children:" "}),S.jsx("svg",{className:"w-3.5 h-3.5 transform group-open/prompt:rotate-180 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),S.jsxs("div",{className:"mt-2 space-y-2",children:[S.jsxs("div",{className:"relative",children:[S.jsx("textarea",{value:E.imagePrompt,onChange:M=>Ee({scenes:f.scenes.map(I=>I.id===E.id?{...I,imagePrompt:M.target.value}:I)}),className:"w-full text-[11px] text-slate-500 leading-relaxed bg-slate-50 rounded-xl p-3 pr-10 border-none resize-none focus:outline-none focus:ring-2 focus:ring-indigo-100 min-h-[60px]",placeholder:" ..."}),S.jsx("button",{onClick:()=>na(E.imagePrompt),className:"absolute top-2 right-2 p-1.5 text-slate-400 hover:text-indigo-600 transition-all",title:" ",children:S.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]}),S.jsx("button",{onClick:()=>Ee({scenes:f.scenes}),className:"w-full py-2 bg-indigo-600 text-white text-xs font-semibold rounded-lg hover:bg-indigo-700 transition-all",children:""})]})]})]})]},E.id)),S.jsxs("button",{onClick:Jr,className:"bg-slate-50 rounded-3xl border-2 border-dashed border-slate-300 min-h-[320px] flex flex-col items-center justify-center gap-3 hover:border-indigo-300 hover:bg-indigo-50/30 transition-all group/add",children:[S.jsx("div",{className:"w-12 h-12 rounded-2xl bg-slate-100 group-hover/add:bg-indigo-100 flex items-center justify-center text-slate-400 group-hover/add:text-indigo-500 transition-all",children:S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})})}),S.jsx("span",{className:"text-sm text-slate-400 group-hover/add:text-indigo-500 font-medium transition-all",children:" "})]})]})]}):S.jsx("div",{className:"text-center py-20",children:S.jsx("div",{className:"w-10 h-10 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin mx-auto"})})}),i==="input"&&S.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 sm:space-y-12 pt-10 sm:pt-10 min-h-[calc(100vh-200px)] flex flex-col justify-center",children:[S.jsxs("div",{className:"text-center space-y-2 sm:space-y-4",children:[S.jsxs("h1",{className:"text-4xl sm:text-6xl font-semibold tracking-tight leading-tight",children:["  ",S.jsx("span",{className:"text-indigo-600",children:" "}),""]}),S.jsx("p",{className:"text-slate-400 font-medium text-base sm:text-lg",children:"   + AI  +  "})]}),S.jsxs("div",{className:"flex flex-wrap justify-center gap-3 sm:gap-6",children:[["realistic","2d-animation","custom"].map(E=>S.jsx("button",{onClick:()=>{y(E),Ee({style:E})},className:`px-6 py-4 sm:px-10 sm:py-8 rounded-[20px] sm:rounded-[32px] transition-all font-semibold text-sm sm:text-lg ${h===E?"bg-indigo-600 text-white shadow-xl":"bg-white border border-slate-200 text-slate-400 hover:bg-slate-50"}`,children:E==="2d-animation"?"2D ":E==="realistic"?"":""},E)),De.length>0&&S.jsxs("div",{className:"relative group/styles",children:[S.jsxs("button",{className:`px-6 py-4 sm:px-10 sm:py-8 rounded-[20px] sm:rounded-[32px] transition-all font-semibold text-sm sm:text-lg flex items-center gap-2 ${De.some(E=>E.id===h)?"bg-indigo-600 text-white shadow-xl":"bg-white border border-slate-200 text-slate-400 hover:bg-slate-50"}`,children:["  ",S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),S.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 bg-white border border-slate-200 rounded-2xl shadow-2xl py-2 min-w-[200px] opacity-0 invisible group-hover/styles:opacity-100 group-hover/styles:visible transition-all z-50",children:De.map(E=>S.jsxs("button",{onClick:()=>{y(E.id),Ee({style:E.id})},className:`w-full px-4 py-3 text-left text-sm font-medium transition-all flex items-center gap-3 ${h===E.id?"bg-indigo-50 text-indigo-600":"text-slate-700 hover:bg-slate-50"}`,children:[E.refImages[0]&&S.jsx("img",{src:E.refImages[0],className:"w-8 h-8 rounded-lg object-cover"}),S.jsx("span",{children:E.name})]},E.id))})]})]}),Wo&&S.jsxs("div",{className:"animate-in fade-in slide-in-bottom bg-slate-50 border p-5 sm:p-8 rounded-[30px] sm:rounded-[40px] space-y-4",children:[S.jsxs("h4",{className:"text-lg sm:text-xl font-semibold text-slate-900",children:[Wo.name,"  "]}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"  "}),S.jsx("p",{className:"text-xs sm:text-sm text-slate-600 leading-relaxed font-medium h-24 overflow-y-auto custom-scrollbar",children:Wo.description})]}),S.jsx("div",{className:"flex gap-2 items-center overflow-x-auto",children:Wo.refImages.map((E,A)=>S.jsx("img",{src:E,className:"w-16 h-16 sm:w-20 sm:h-20 rounded-xl sm:rounded-2xl object-cover border-2 border-white shadow-sm shrink-0"},A))})]})]}),h==="custom"&&S.jsxs("div",{className:"animate-in fade-in slide-in-bottom bg-indigo-50/50 border border-indigo-100 p-5 sm:p-8 rounded-[30px] sm:rounded-[40px] space-y-6",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[S.jsxs("div",{children:[S.jsx("h4",{className:"text-lg sm:text-xl font-semibold text-slate-900",children:"  "}),S.jsx("p",{className:"text-xs sm:text-sm text-slate-500 mt-1",children:"    ( 7)"})]}),S.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[S.jsx("button",{onClick:()=>Zs.current?.click(),className:"flex-1 sm:flex-none px-6 py-3 bg-white border border-indigo-200 rounded-2xl text-xs font-semibold text-indigo-600 hover:bg-indigo-600 hover:text-white transition-all",children:" "}),T.length>0&&S.jsx("button",{onClick:ea,className:"px-6 py-3 bg-indigo-600 border border-indigo-600 rounded-2xl text-xs font-semibold text-white hover:bg-indigo-700 transition-all",children:""})]})]}),S.jsx("div",{className:"flex gap-3 flex-wrap",children:T.map((E,A)=>S.jsxs("div",{className:"relative w-20 h-20 sm:w-32 sm:h-32 rounded-xl sm:rounded-2xl overflow-hidden border-2 border-white shadow-md group",children:[S.jsx("img",{src:E,className:"w-full h-full object-cover"}),S.jsx("button",{onClick:()=>Yo(A),className:"absolute inset-0 bg-black/60 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 flex items-center justify-center text-white text-xs font-bold transition-opacity",children:""})]},A))})]}),S.jsx("div",{className:"bg-white p-2 sm:p-3 rounded-[32px] sm:rounded-[48px] shadow-2xl shadow-slate-200/50 border border-slate-200 relative",children:S.jsx("textarea",{className:"w-full h-64 sm:h-80 bg-slate-50/50 border-none rounded-[24px] sm:rounded-[36px] p-6 sm:p-10 text-base sm:text-xl focus:ring-0 outline-none resize-none leading-relaxed placeholder:text-slate-300",placeholder:" ...",value:g,onChange:E=>v(E.target.value)})}),S.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[S.jsx("button",{onClick:go,disabled:O&&O.type==="analysis"||!g.trim(),className:"flex-1 py-6 sm:py-8 bg-indigo-600 text-white rounded-[24px] sm:rounded-[32px] font-semibold text-lg sm:text-2xl shadow-2xl active:scale-[0.98] disabled:opacity-50 transition-all",children:" "}),f&&f.characters.length>0&&S.jsx("button",{onClick:()=>n("character_setup"),className:"px-8 py-6 sm:py-8 bg-white border border-slate-200 text-slate-600 rounded-[24px] sm:rounded-[32px] font-semibold text-base sm:text-xl hover:bg-slate-50 hover:text-indigo-600 transition-all shadow-lg",children:"  >"})]})]})]}),Ie&&S.jsx("div",{className:"fixed inset-0 bg-slate-900/95 z-[250] flex items-center justify-center p-2 sm:p-4 cursor-zoom-out animate-in fade-in",onClick:()=>Me(null),children:S.jsx("img",{src:Ie,className:"max-w-full max-h-[90vh] object-contain rounded-2xl sm:rounded-[40px] shadow-2xl border-4 sm:border-8 border-white/10"})}),gi&&S.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[300] flex items-center justify-center p-4",onClick:()=>vi(!1),children:S.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md shadow-2xl",onClick:E=>E.stopPropagation(),children:[S.jsxs("div",{className:"p-6 border-b border-slate-100",children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:" "}),S.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"   "})]}),S.jsxs("div",{className:"p-6 space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:" "}),S.jsx("textarea",{value:yi,onChange:E=>Ln(E.target.value),className:"w-full h-32 px-4 py-3 border border-slate-200 rounded-xl focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 outline-none resize-none text-sm",placeholder:":    ,    ..."})]}),S.jsxs("div",{className:"flex gap-3",children:[S.jsx("button",{onClick:()=>vi(!1),className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-xl font-medium hover:bg-slate-200 transition-all",children:""}),S.jsx("button",{onClick:ta,disabled:!yi.trim(),className:"flex-1 px-4 py-3 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]})]})}),ee&&S.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[300] flex items-center justify-center p-4",onClick:()=>le(!1),children:S.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md shadow-2xl",onClick:E=>E.stopPropagation(),children:[S.jsxs("div",{className:"p-6 border-b border-slate-100",children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:" "}),S.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"   "})]}),S.jsxs("div",{className:"p-6 space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"  ()"}),S.jsx("textarea",{value:w,onChange:E=>J(E.target.value),className:"w-full h-32 px-4 py-3 border border-slate-200 rounded-xl focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 outline-none resize-none text-sm",placeholder:"    ..."})]}),S.jsx("div",{className:"flex gap-3",children:S.jsx("button",{onClick:()=>le(!1),className:"flex-1 px-4 py-3 bg-slate-100 text-slate-700 rounded-xl font-medium hover:bg-slate-200 transition-all",children:""})})]})]})}),Si&&S.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[300] flex items-center justify-center p-4",onClick:()=>En(!1),children:S.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-lg max-h-[85vh] overflow-y-auto shadow-2xl",onClick:E=>E.stopPropagation(),children:[S.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center sticky top-0 bg-white rounded-t-3xl z-10",children:[S.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:""}),S.jsx("button",{onClick:()=>En(!1),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-100 text-slate-400",children:S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),S.jsxs("div",{className:"p-6 space-y-3",children:[Yn?S.jsxs("div",{className:"flex gap-3 items-center",children:[S.jsx("div",{className:"flex-1 py-3 bg-green-50 border border-green-200 text-green-700 text-center font-semibold rounded-xl text-sm",children:""}),S.jsx("button",{onClick:$s,className:"px-4 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 text-center font-semibold rounded-xl transition-all text-sm",children:""})]}):S.jsxs("div",{className:"flex gap-3",children:[S.jsx("button",{onClick:()=>$e(!0),className:"flex-1 py-3 bg-indigo-600 hover:bg-indigo-700 text-white text-center font-semibold rounded-xl transition-all text-sm",children:""}),S.jsx("button",{onClick:()=>ro(!0),className:"flex-1 py-3 bg-slate-100 hover:bg-slate-200 text-slate-700 text-center font-semibold rounded-xl transition-all text-sm",children:""})]}),S.jsxs("div",{className:"border border-slate-200 rounded-xl overflow-hidden",children:[S.jsxs("button",{onClick:()=>dt(Bt==="gemini"?null:"gemini"),className:"w-full px-4 py-4 flex items-center justify-between bg-white hover:bg-slate-50 transition-all",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Gemini API "}),Bs&&S.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M5 13l4 4L19 7"})})]}),S.jsx("svg",{className:`w-5 h-5 text-slate-400 transition-transform ${Bt==="gemini"?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),Bt==="gemini"&&S.jsxs("div",{className:"px-4 pb-4 space-y-4 border-t border-slate-100 bg-slate-50/50",children:[S.jsxs("div",{className:"space-y-2 pt-4",children:[S.jsx("label",{className:"text-sm font-medium text-slate-700",children:"API "}),S.jsxs("div",{className:"relative",children:[S.jsx("input",{type:ln?"text":"password",value:Tn,onChange:E=>zs(E.target.value),onBlur:()=>Tn.length>20&&Fo(Tn),placeholder:"API  ",className:"w-full px-4 py-3 pr-12 rounded-xl border border-slate-200 focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 outline-none transition-all text-sm bg-white"}),S.jsx("button",{onClick:()=>Ut(!ln),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors",children:ln?S.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})})})]}),Tn.length>20&&S.jsx("div",{className:"flex items-center gap-2 text-sm",children:no?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"w-4 h-4 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"}),S.jsx("span",{className:"text-slate-600",children:" ..."})]}):Bs?S.jsxs(S.Fragment,{children:[S.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M5 13l4 4L19 7"})}),S.jsx("span",{className:"text-green-600 font-medium",children:""})]}):S.jsxs(S.Fragment,{children:[S.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M6 18L18 6M6 6l12 12"})}),S.jsx("span",{className:"text-red-600 font-medium",children:" "})]})})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Gemini "}),S.jsxs("select",{value:Hl,onChange:E=>qs(E.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-indigo-400 outline-none text-sm bg-white",children:[S.jsx("option",{value:"gemini-3-flash",children:"Gemini 3 Flash ()"}),S.jsx("option",{value:"gemini-1.5-pro",children:"Gemini 1.5 Pro ()"})]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-medium text-slate-700",children:"  "}),S.jsxs("select",{value:xn,onChange:E=>Po(E.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-indigo-400 outline-none text-sm bg-white",children:[S.jsx("option",{value:"gemini-2.5-flash-image",children:"Gemini 2.5 Flash Image"}),S.jsx("option",{value:"imagen-3.0-generate-002",children:"Imagen 3.0"})]})]})]})]}),S.jsxs("div",{className:"border border-slate-200 rounded-xl overflow-hidden",children:[S.jsxs("button",{onClick:()=>dt(Bt==="voice"?null:"voice"),className:"w-full px-4 py-4 flex items-center justify-between bg-white hover:bg-slate-50 transition-all",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("span",{className:"text-sm font-medium text-slate-700",children:" "}),S.jsx("span",{className:"text-xs text-slate-400 bg-slate-100 px-2 py-1 rounded-full",children:Lt==="google"?"Google Chirp":"ElevenLabs"})]}),S.jsx("svg",{className:`w-5 h-5 text-slate-400 transition-transform ${Bt==="voice"?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),Bt==="voice"&&S.jsxs("div",{className:"px-4 pb-4 space-y-4 border-t border-slate-100 bg-slate-50/50",children:[S.jsxs("div",{className:"space-y-2 pt-4",children:[S.jsx("label",{className:"text-sm font-medium text-slate-700",children:" "}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:()=>io("google"),className:`flex-1 py-3 rounded-xl text-sm font-medium transition-all ${Lt==="google"?"bg-indigo-600 text-white":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-100"}`,children:"Google Chirp"}),S.jsx("button",{onClick:()=>io("elevenlabs"),className:`flex-1 py-3 rounded-xl text-sm font-medium transition-all ${Lt==="elevenlabs"?"bg-indigo-600 text-white":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-100"}`,children:"ElevenLabs"})]})]}),Lt==="google"&&S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Chirp API  (Gemini )"}),S.jsxs("div",{className:"relative",children:[S.jsx("input",{type:Vl?"text":"password",value:Zt,onChange:E=>zo(E.target.value),placeholder:"API   ( Gemini  )",className:"w-full px-4 py-3 pr-12 rounded-xl border border-slate-200 focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 outline-none transition-all text-sm bg-white"}),S.jsx("button",{onClick:()=>qo(!Vl),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors",children:Vl?S.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})})})]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Chirp "}),S.jsxs("select",{value:_n,onChange:E=>Ur(E.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-indigo-400 outline-none text-sm bg-white",children:[S.jsx("option",{value:"Kore",children:"Kore ( )"}),S.jsx("option",{value:"Aoede",children:"Aoede ( )"}),S.jsx("option",{value:"Charon",children:"Charon ( )"}),S.jsx("option",{value:"Fenrir",children:"Fenrir ( )"}),S.jsx("option",{value:"Puck",children:"Puck ( )"})]})]})]}),Lt==="elevenlabs"&&S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("label",{className:"text-sm font-medium text-slate-700",children:"ElevenLabs API "}),Ti&&S.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2.5",d:"M5 13l4 4L19 7"})})]}),S.jsxs("div",{className:"relative",children:[S.jsx("input",{type:Pl?"text":"password",value:Re.apiKey,onChange:E=>fo({...Re,apiKey:E.target.value}),placeholder:"API  ",className:"w-full px-4 py-3 pr-12 rounded-xl border border-slate-200 focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 outline-none transition-all text-sm bg-white"}),S.jsx("button",{onClick:()=>Dr(!Pl),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors",children:Pl?S.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})})})]})]}),Fl.length>0&&S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-medium text-slate-700",children:" "}),S.jsx("select",{value:Re.voiceId,onChange:E=>fo({...Re,voiceId:E.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-indigo-400 outline-none text-sm bg-white",children:Fl.map(E=>S.jsx("option",{value:E.voice_id,children:E.name},E.voice_id))})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsxs("label",{className:"text-sm font-medium text-slate-700",children:[" : ",Re.speed.toFixed(1),"x"]}),S.jsx("input",{type:"range",min:"0.5",max:"2.0",step:"0.1",value:Re.speed,onChange:E=>fo({...Re,speed:parseFloat(E.target.value)}),className:"w-full accent-indigo-600"})]})]}),S.jsx("button",{onClick:An,disabled:Xs,className:"w-full py-3 rounded-xl text-sm font-medium bg-white border border-slate-200 text-slate-700 hover:bg-slate-100 transition-all disabled:opacity-50",children:Xs?" ...":" "})]})]}),S.jsxs("div",{className:"border border-slate-200 rounded-xl overflow-hidden",children:[S.jsxs("button",{onClick:()=>dt(Bt==="styles"?null:"styles"),className:"w-full px-4 py-4 flex items-center justify-between bg-white hover:bg-slate-50 transition-all",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("span",{className:"text-sm font-medium text-slate-700",children:" "}),S.jsxs("span",{className:"text-xs text-slate-400 bg-slate-100 px-2 py-1 rounded-full",children:[De.length,"/10"]})]}),S.jsx("svg",{className:`w-5 h-5 text-slate-400 transition-transform ${Bt==="styles"?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),Bt==="styles"&&S.jsxs("div",{className:"px-4 pb-4 border-t border-slate-100 bg-slate-50/50 space-y-4",children:[S.jsxs("div",{className:"pt-4 space-y-3",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("h4",{className:"text-sm font-semibold text-slate-700",children:"  "}),S.jsxs("button",{onClick:()=>le(!0),className:"group relative p-1.5 hover:bg-slate-100 rounded-lg transition-all",title:" ",children:[S.jsx("svg",{className:"w-4 h-4 text-slate-500 hover:text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),S.jsx("span",{className:"absolute -top-8 right-0 bg-slate-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:" "})]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-xs font-medium text-slate-600",children:""}),S.jsx("input",{type:"text",value:Z,onChange:E=>re(E.target.value),placeholder:":  ,   ",className:"w-full px-3 py-2 rounded-lg border border-slate-200 text-sm focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 outline-none"})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-xs font-medium text-slate-600",children:"  ( 10)"}),S.jsx("input",{ref:Ye,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:Jo}),S.jsx("button",{onClick:()=>Ye.current?.click(),className:"w-full py-2 border-2 border-dashed border-slate-200 rounded-lg text-sm text-slate-500 hover:border-indigo-300 hover:text-indigo-600 transition-all",children:"+  "}),xe.length>0&&S.jsx("div",{className:"flex gap-2 flex-wrap",children:xe.map((E,A)=>S.jsxs("div",{className:"relative w-16 h-16 rounded-lg overflow-hidden border border-slate-200 group",children:[S.jsx("img",{src:E,className:"w-full h-full object-cover"}),S.jsx("button",{onClick:()=>He(M=>M.filter((I,Q)=>Q!==A)),className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center text-white text-xs transition-opacity",children:""})]},A))})]}),S.jsx("button",{onClick:Ko,disabled:!Z.trim()||xe.length===0,className:"w-full py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:" "})]}),De.length>0&&S.jsxs("div",{className:"space-y-2 pt-2 border-t border-slate-200",children:[S.jsxs("h4",{className:"text-xs font-semibold text-slate-600",children:["  (",De.length,"/10)"]}),De.map(E=>S.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-xl border border-slate-100",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[E.refImages[0]&&S.jsx("img",{src:E.refImages[0],className:"w-10 h-10 rounded-lg object-cover"}),S.jsx("span",{className:"text-sm font-medium text-slate-700",children:E.name})]}),S.jsx("button",{onClick:()=>q(A=>A.filter(M=>M.id!==E.id)),className:"text-xs text-red-500 hover:text-red-600",children:""})]},E.id))]})]})]}),S.jsxs("div",{className:"border border-slate-200 rounded-xl overflow-hidden",children:[S.jsxs("button",{onClick:()=>dt(Bt==="characters"?null:"characters"),className:"w-full px-4 py-4 flex items-center justify-between bg-white hover:bg-slate-50 transition-all",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("span",{className:"text-sm font-medium text-slate-700",children:" "}),S.jsxs("span",{className:"text-xs text-slate-400 bg-slate-100 px-2 py-1 rounded-full",children:[ct.length,"/10"]})]}),S.jsx("svg",{className:`w-5 h-5 text-slate-400 transition-transform ${Bt==="characters"?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),Bt==="characters"&&S.jsxs("div",{className:"px-4 pb-4 border-t border-slate-100 bg-slate-50/50 space-y-4",children:[S.jsxs("div",{className:"pt-4 space-y-3",children:[S.jsx("h4",{className:"text-sm font-semibold text-slate-700",children:"  "}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-xs font-medium text-slate-600",children:""}),S.jsx("input",{type:"text",value:mi,onChange:E=>Gl(E.target.value),placeholder:" ",className:"w-full px-3 py-2 rounded-lg border border-slate-200 text-sm focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 outline-none"})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-xs font-medium text-slate-600",children:"  ( 10)"}),S.jsx("input",{ref:Ho,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:ho}),S.jsx("button",{onClick:()=>Ho.current?.click(),className:"w-full py-2 border-2 border-dashed border-slate-200 rounded-lg text-sm text-slate-500 hover:border-indigo-300 hover:text-indigo-600 transition-all",children:"+  "}),At.length>0&&S.jsx("div",{className:"flex gap-2 flex-wrap",children:At.map((E,A)=>S.jsxs("div",{className:"relative w-16 h-16 rounded-lg overflow-hidden border border-slate-200 group",children:[S.jsx("img",{src:E,className:"w-full h-full object-cover"}),S.jsx("button",{onClick:()=>ji(M=>M.filter((I,Q)=>Q!==A)),className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 flex items-center justify-center text-white text-xs transition-opacity",children:""})]},A))})]}),S.jsx("button",{onClick:Xo,disabled:!mi.trim()||At.length===0||eo!==null,className:"w-full py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:eo!==null?` ... ${eo}%`:" "})]}),ct.length>0&&S.jsxs("div",{className:"space-y-2 pt-2 border-t border-slate-200",children:[S.jsxs("h4",{className:"text-xs font-semibold text-slate-600",children:["  (",ct.length,"/10)"]}),ct.map(E=>S.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-xl border border-slate-100",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[E.portraitUrl&&S.jsx("img",{src:E.portraitUrl,onClick:()=>Me(E.portraitUrl),className:"w-10 h-10 rounded-full object-cover cursor-pointer hover:scale-110 transition-transform"}),S.jsx("span",{className:"text-sm font-medium text-slate-700",children:E.name})]}),S.jsx("button",{onClick:()=>On(A=>A.filter(M=>M.id!==E.id)),className:"text-xs text-red-500 hover:text-red-600",children:""})]},E.id))]})]})]})]})]})}),Os&&S.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[300] flex items-center justify-center p-4",onClick:()=>pi(!1),children:S.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md p-6 shadow-2xl",onClick:E=>E.stopPropagation(),children:[S.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-6",children:"  "}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:""}),S.jsx("input",{type:"text",value:lt.name,onChange:E=>hi({...lt,name:E.target.value}),placeholder:" ",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-indigo-400 outline-none text-sm"})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:""}),S.jsxs("select",{value:lt.gender,onChange:E=>hi({...lt,gender:E.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-indigo-400 outline-none text-sm bg-white",children:[S.jsx("option",{value:"",children:""}),S.jsx("option",{value:"",children:""})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:""}),S.jsxs("select",{value:lt.age,onChange:E=>hi({...lt,age:E.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-indigo-400 outline-none text-sm bg-white",children:[S.jsx("option",{value:"",children:""}),S.jsx("option",{value:"",children:""}),S.jsx("option",{value:"",children:""}),S.jsx("option",{value:"",children:""}),S.jsx("option",{value:"",children:""})]})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:" "}),S.jsx("textarea",{value:lt.traits,onChange:E=>hi({...lt,traits:E.target.value}),placeholder:", ,  ",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-indigo-400 outline-none text-sm h-24 resize-none"})]})]}),S.jsxs("div",{className:"flex gap-3 mt-6",children:[S.jsx("button",{onClick:()=>pi(!1),className:"flex-1 py-3 bg-slate-100 text-slate-700 rounded-xl font-medium hover:bg-slate-200 transition-all",children:""}),S.jsx("button",{onClick:oa,disabled:N||!lt.name.trim()||!lt.traits.trim(),className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-all disabled:opacity-50",children:N?" ...":""})]})]})}),oo&&S.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[300] flex items-center justify-center p-4",onClick:()=>Bo(!1),children:S.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-2xl",onClick:E=>E.stopPropagation(),children:[S.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:"  "}),ct.length===0?S.jsx("p",{className:"text-sm text-slate-400 py-8 text-center",children:"  ."}):S.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:ct.map(E=>S.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl border border-slate-100 hover:border-indigo-200 hover:bg-indigo-50/50 transition-all cursor-pointer",onClick:()=>{f&&(Ee({characters:[...f.characters,{id:crypto.randomUUID(),name:E.name,role:"",visualDescription:E.description,portraitUrl:E.portraitUrl,status:E.portraitUrl?"done":"idle"}]}),Bo(!1))},children:[S.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-100 overflow-hidden flex-shrink-0",children:E.portraitUrl?S.jsx("img",{src:E.portraitUrl,className:"w-full h-full object-cover"}):S.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300",children:S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})}),S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("p",{className:"font-medium text-slate-900 text-sm",children:E.name}),S.jsx("p",{className:"text-xs text-slate-400 truncate",children:E.description})]})]},E.id))}),S.jsx("button",{onClick:()=>Bo(!1),className:"w-full mt-4 py-3 bg-slate-100 text-slate-700 rounded-xl font-medium hover:bg-slate-200 transition-all",children:""})]})}),Fs&&S.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[300] flex items-center justify-center p-4",onClick:()=>lo(!1),children:S.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-8 shadow-2xl",onClick:E=>E.stopPropagation(),children:[S.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"  "}),S.jsx("p",{className:"text-sm text-slate-400 mb-6",children:"    .     ."}),S.jsx("textarea",{value:We,onChange:E=>St(E.target.value),placeholder:":        ",className:"w-full px-4 py-4 rounded-xl bg-gray-50 border-none focus:ring-2 focus:ring-indigo-200 outline-none text-sm h-28 resize-none"}),S.jsxs("div",{className:"flex gap-3 mt-6",children:[S.jsx("button",{onClick:()=>lo(!1),className:"flex-1 py-3 bg-white border border-slate-200 text-slate-600 rounded-xl font-medium hover:bg-slate-50 transition-all",children:""}),S.jsx("button",{onClick:vo,disabled:!We.trim(),className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-all disabled:opacity-50",children:""})]})]})}),Ue&&S.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[300] flex items-center justify-center p-4",onClick:()=>ot(!1),children:S.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg p-8 shadow-2xl",onClick:E=>E.stopPropagation(),children:[S.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"  "}),S.jsx("p",{className:"text-sm text-slate-400 mb-6",children:"    ."}),S.jsx("input",{type:"text",value:me,onChange:E=>ye(E.target.value),placeholder:":  ",className:"w-full px-4 py-4 rounded-xl bg-gray-50 border-none focus:ring-2 focus:ring-indigo-200 outline-none text-sm",onKeyDown:E=>{E.key==="Enter"&&me.trim()&&xt()}}),S.jsxs("div",{className:"flex gap-3 mt-6",children:[S.jsx("button",{onClick:()=>{ot(!1),ye("")},className:"flex-1 py-3 bg-white border border-slate-200 text-slate-600 rounded-xl font-medium hover:bg-slate-50 transition-all",children:""}),S.jsx("button",{onClick:xt,disabled:!me.trim(),className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-all disabled:opacity-50",children:""})]})]})}),O&&S.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 bg-slate-900 text-white px-6 py-4 rounded-2xl shadow-2xl z-[400] flex items-center gap-4",children:[S.jsx("div",{className:"w-6 h-6 border-3 border-white border-t-transparent rounded-full animate-spin"}),S.jsxs("div",{children:[S.jsx("p",{className:"font-medium",children:O.message}),W>0&&S.jsxs("p",{className:"text-sm text-slate-400",children:[W,"%"]})]})]}),xi&&S.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[300] flex items-center justify-center p-4",onClick:()=>$e(!1),children:S.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md p-6 shadow-2xl",onClick:E=>E.stopPropagation(),children:[S.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-6",children:""}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:""}),S.jsx("input",{type:"text",value:ql,onChange:E=>zl(E.target.value),placeholder:" ",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-indigo-400 outline-none text-sm"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:""}),S.jsx("input",{type:"password",value:Oo,onChange:E=>Ys(E.target.value),placeholder:" ",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-indigo-400 outline-none text-sm"})]})]}),S.jsxs("div",{className:"flex gap-3 mt-6",children:[S.jsx("button",{onClick:()=>$e(!1),className:"flex-1 py-3 bg-slate-100 text-slate-700 rounded-xl font-medium hover:bg-slate-200 transition-all",children:""}),S.jsx("button",{onClick:Ci,disabled:!ql.trim()||!Oo.trim(),className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-all disabled:opacity-50",children:""})]})]})}),Js&&S.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[300] flex items-center justify-center p-4",onClick:()=>ro(!1),children:S.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md p-6 shadow-2xl",onClick:E=>E.stopPropagation(),children:[S.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-6",children:""}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:""}),S.jsx("input",{type:"text",value:Gn,onChange:E=>uo(E.target.value),placeholder:" ",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-indigo-400 outline-none text-sm"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:""}),S.jsx("input",{type:"password",value:Ot,onChange:E=>kt(E.target.value),placeholder:" ",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-indigo-400 outline-none text-sm"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"text-sm font-medium text-slate-700 mb-2 block",children:""}),S.jsx("input",{type:"email",value:co,onChange:E=>Ks(E.target.value),placeholder:" ",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-indigo-400 outline-none text-sm"})]})]}),S.jsxs("div",{className:"flex gap-3 mt-6",children:[S.jsx("button",{onClick:()=>ro(!1),className:"flex-1 py-3 bg-slate-100 text-slate-700 rounded-xl font-medium hover:bg-slate-200 transition-all",children:""}),S.jsx("button",{onClick:Ai,disabled:!Gn.trim()||!Ot.trim()||!co.trim(),className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-700 transition-all disabled:opacity-50",children:""})]})]})})]})};ty.createRoot(document.getElementById("root")).render(S.jsx(K.StrictMode,{children:S.jsx(vA,{})}));
